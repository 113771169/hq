<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.devMode" value="false" />
	<constant name="struts.custom.i18n.resources" value="ApplicationResources" />
	<!--constant name="struts.ui.theme" value="css_xhtml" /-->
	<constant name="struts.ui.theme" value="hypiric" />
	<constant name="struts.ui.templateDir" value="template" />


	<package name="hyperic" extends="struts-default">
		<result-types>
			<result-type name="tiles" 
         class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>
		<interceptors>
			<interceptor name="redirectMessage"      class="org.hyperic.hq.web.filter.RedirectMessageInterceptor" />
			<interceptor-stack name="myStack">
				<interceptor-ref name="redirectMessage" />
				<interceptor-ref name="defaultStack"/>
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="myStack" /> 
		<action class="removeUserActionNG" name="removeUsers" > 
			<result name="success" type="redirectAction">
				<param name="actionName">listUser</param>
				<param name="mode">list</param>
				<param name="pn">0</param>
			</result>
		</action>

		<action class="editUserActionNG" name="UserEdit*" method="{1}"> 

			<result name="editUserForm" type="tiles">.admin.user.Edit</result>
			<result name="input" type="tiles">.admin.user.Edit</result>
			<result name="showEdited" type="redirectAction">
				<param name="actionName">viewUser</param>
				<param name="u">${userId}</param>
			</result>
			<result name="input" type="tiles">.admin.user.Edit</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">viewUser</param>
				<param name="u">${userId}</param>
			</result>
			<result name="reset" type="redirectAction">
				<param name="actionName">UserEditload</param>
				<param name="mode">edit</param>
				<param name="u">${userId}</param>
			</result>
		</action>
		<action class="userAdminPortalActionNG" name="*User" method="{1}"> 

			<result name="showCreated" type="redirectAction">
				<param name="actionName">viewUser</param>
				<param name="u">${userId}</param>
			</result>
			<result name="displayUser" type="tiles">.admin.user.View3</result>
			<result name="newUserForm" type="tiles">.admin.user.New</result>
			<result name="listUsers" type="tiles">.ng.admin.user.List</result>
			<result name="input" type="tiles">.admin.user.New</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">listUser</param>
				<param name="mode">list</param>
				<param name="pn">0</param>
			</result>
			<result name="reset" type="redirectAction">
				<param name="actionName">startNewUser</param>
				<param name="mode">new</param>
			</result>

			<exception-mapping exception="org.hyperic.hq.common.ApplicationException" result="newUserForm" />

		</action>
		<action class="UserPasswordActionNG" name="*Password" method="{1}"> 


			<result name="startEditPassword" type="tiles">.admin.user.EditPassword</result>
			<result name="editPasswordFailed" type="tiles">.admin.user.EditPassword</result>
			<result name="passwordEdited" type="redirectAction">
				<param name="actionName">viewUser</param>
				<param name="u">${userId}</param>
			</result>

			<result name="input" type="tiles">.admin.user.EditPassword</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">viewUser</param>
				<param name="u">${userId}</param>
			</result>
			<result name="reset" type="redirectAction">
				<param name="actionName">startEditPassword</param>
				<param name="node">editPass</param>
				<param name="u">${userId}</param>
			</result>


		</action>

		<action class="adminHomePortalActionNG" name="Admin">           
			<result name="success" type="tiles">.ng.admin.home</result>
		</action>

		<action class="mastheadActionNG" name="mastheadAttach">           
			<result name="success" type="tiles">.ng.attach.layout</result>
		</action>

		<action class="configActionNG" name="*Config" method="{1}" >           
			<result name="escalateForm" type="tiles">.ng.admin.config.EditEscalationConfig</result>
			<result name="monitoringDefaults" type="tiles">.ng.admin.config.EditMonitorConfig</result>
		</action>

		<action name="ListAllEscalationName" class="listAllEscalationNameNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="SaveEscalation" class="saveEscalationNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="JsonByEscalationId" class="jsonByEscalationIdNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action class="removeEscalationActionNG" name="RemoveEscalationAction" method="execute" >           
			<result name="success" type="tiles">.ng.admin.config.EditEscalationConfig</result>
		</action>

		<action name="UpdateEscalation" class="updateEscalationNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="SaveAction" class="saveActionNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="RemoveAction" class="removeActionNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="UpdateEscalationOrder" class="updateEscalationOrderNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="RemoveEscalation" class="removeEscalationNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="UpdateEscalationOrder" class="updateEscalationOrderNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action name="resourceHub" class="resourceHubPortalActionNG" method="execute">
			<result name="success" type="tiles">.resource.hub</result>
		</action>

		<action name="removeResource" class="removeResourceActionNG" method="execute">
			<result name="success" type="redirectAction">
				<param name="actionName">resourceHub</param>
				<param name="pn">0</param>
				<param name="view">${view}</param>
				<param name="keywords">${keywords}</param>
				<param name="ft">${ft}</param>
				<param name="any">${any}</param>
				<param name="unavail">${unavail}</param>
				<param name="own">${own}</param>
			</result>
			<result name="input" type="redirectAction">
				<param name="actionName">resourceHub</param>
				<param name="view">${view}</param>
			</result>
		</action>

	
		<!-- Start Dashboard Actions -->
		
		<action class="displayDashboardActionNG" name="Dashboard" method="execute" >           
			<result name="success" type="tiles">.ng.portal.dash.layout</result>
		</action>

		<action class="autoDiscModifyActionNG" name="*AutoDiscModifyPortlet" method="{1}">           
			<result name="cancel" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
			<!--go back to displaying the form-->
			<result name="reset" type="redirectAction"> 
				<param name="actionName">autoDiscoveryPortletControl</param>
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
		</action>


		<action class="dashboardAdminControllerNG" name="*PortletControl" method="{1}" >           
			<result name="displaySavedQueries" type="tiles">.dashContent.admin.savedQueries</result>
			<result name="displayResourceHealth" type="tiles">.ng.dashContent.admin.resourceHealth</result>
			<result name="displayRecentlyApproved" type="tiles">.ng.dashContent.admin.recentlyApproved</result>
			<result name="displayCriticalAlerts" type="tiles">.dashContent.admin.criticalAlerts</result>
			<result name="displaySummaryCounts" type="tiles">.dashContent.admin.summaryCounts</result>
			<result name="displayAutoDiscovery" type="tiles">.ng.dashContent.admin.autoDiscovery</result>
			<result name="displayCriticalAlertsAddResources" type="tiles">.dashContent.admin.criticalAlerts.addResources</result>
			<result name="displayChangeLayout" type="tiles">.dashContent.admin.changeLayout</result>
			<result name="displayControlActions" type="tiles">.dashContent.admin.controlActions</result>
			<result name="displayAvailSummary" type="tiles">.dashContent.admin.availSummary</result>
			<result name="availSummaryAddResources" type="tiles">.dashContent.admin.availSummary.addResources</result>
			<result name="displayMetricViewer" type="tiles">.dashContent.admin.metricViewer</result>
			<result name="displayMetricViewerAddResources" type="tiles">.dashContent.admin.metricViewer.addResources</result>
			<result name="displayResourceHealthAddResources" type="redirectAction">
				<param name="actionName">displayResourceHealthModifyAddResourcesPortlet</param>
			</result>
		</action>

		<action class="autoDiscProcessQueueActionNG" name="ProcessAutoDiscovery" method="execute" >           
			<result name="success" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
			<result name="input" type="redirectAction">
				<param name="actionName">Dashboard</param>
				<param name="customActionErrorMessages">${customActionErrorMessages}</param>
			</result>
		</action>

		<action class="editConfigPrepActionNG" name="*Settings" method="{1}">           
			<result name="adminEditConfig" type="tiles">.ng.admin.config.EditConfig</result>
			<result name="settingsSaved" type="redirectAction">
				<param name="actionName">Admin</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">Admin</param>
			</result>

			<result name="reset" type="redirectAction"> 
				<param name="actionName">editSettings</param>
			</result>

			<result name="input" type="tiles">.ng.admin.config.EditConfig</result>
		</action>

		<action class="recentlyApprovedModifyActionNG" name="*RecentlyApprovedModifyPortlet" method="{1}">           
			<result name="cancel" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
			<!--go back to displaying the form-->
			<result name="reset" type="redirectAction"> 
				<param name="actionName">recentlyApprovedPortletControl</param>
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
		</action>

		<action name="JsonLoadFavorites" class="jsonLoadFavoritesNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>

		<action class="resourceHealthModifyActionNG" name="*ResourceHealthModifyPortlet" method="{1}">           
			<result name="cancel" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
			<!--go back to displaying the form-->
			<result name="reset" type="redirectAction"> 
				<param name="actionName">resourceHealthPortletControl</param>
			</result>
			<result name="removed" type="redirectAction"> 
				<param name="actionName">ResourceHealthModifyRemoveResourcesPortlet</param>
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
		</action>

		<action class="addResourcesPortletPrepareActionNG" name="*ResourceHealthModifyAddResourcesPortlet" method="{1}"> 
			<result name="success" type="tiles">.ng.dashContent.admin.resourcehealth.addResources</result>	
			<result name="cancel" type="redirectAction">
				<param name="actionName">resourceHealthPortletControl</param>
			</result>	
			<result name="reset" type="redirectAction"> 
				<param name="actionName">displayResourceHealthModifyAddResourcesPortlet</param>
			</result>			
		</action>

       <action class="resourceHealthRemoveResourcesActionNG" name="ResourceHealthModifyRemoveResourcesPortlet" method="execute"> 
			<result name="success" type="redirectAction">
				<param name="actionName">resourceHealthPortletControl</param>
			</result>				
	  </action>
		<action class="addNewResourcesProtletActionNG" name="*ResourcesHandlePortlet" method="{1}"> 
			<result name="execute" type="redirectAction">
				<param name="actionName">displayResourceHealthModifyAddResourcesPortlet</param>
			</result>
			<result name="added" type="redirectAction">
				<param name="actionName">displayResourceHealthModifyAddResourcesPortlet</param>
			</result>
			<result name="removed" type="redirectAction">
				<param name="actionName">displayResourceHealthModifyAddResourcesPortlet</param>
			</result>			
			<result name="success" type="redirectAction">
				<param name="actionName">resourceHealthPortletControl</param>
			</result>
		</action>

     <action name="JsonLoadAvailabilitySummary" class="jsonLoadAvailabilitySummaryNG" method="execute">
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>
		
		<action class="availSummaryModifyActionNG" name="*AvailSummaryModifyPortlet" method="{1}">           
			<result name="cancel" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
			<!--go back to displaying the form-->
			<result name="reset" type="redirectAction"> 
				<param name="actionName">availSummaryPortletControl</param>
			</result>
			<result name="removed" type="redirectAction"> 
				<param name="actionName">availSummaryPortletControl</param>
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">Dashboard</param>
			</result>
		</action>

		<action class="addResourcesPortletPrepareActionNG" name="*AvailSummaryModifyAddResourcesPortlet" method="{1}"> 
			<result name="success" type="tiles">.ng.dashContent.admin.availSummary.addResources</result>	
			<result name="cancel" type="redirectAction">
				<param name="actionName">availSummaryPortletControl</param>
			</result>	
			<result name="reset" type="redirectAction"> 
				<param name="actionName">displayAvailSummaryModifyAddResourcesPortlet</param>
			</result>			
		</action>

		<action class="availSummaryRemoveResourcesActionNG" name="AvailSummaryModifyRemoveResourcesPortlet" method="execute"> 
				<result name="success" type="redirectAction">
					<param name="actionName">availSummaryPortletControl</param>
				</result>				
		</action>
		
		<action class="addNewResourcesProtletActionNG" name="*ASResourcesHandlePortlet" method="{1}"> 
			<result name="execute" type="redirectAction">
				<param name="actionName">displayAvailSummaryModifyAddResourcesPortlet</param>
			</result>
			<result name="added" type="redirectAction">
				<param name="actionName">displayAvailSummaryModifyAddResourcesPortlet</param>
			</result>
			<result name="removed" type="redirectAction">
				<param name="actionName">displayAvailSummaryModifyAddResourcesPortlet</param>
			</result>			
			<result name="success" type="redirectAction">
				<param name="actionName">availSummaryPortletControl</param>
			</result>
		</action>
		
		<!-- End Dashboard Actions -->
		 
		<action name="resourceAction" class="resourceAction" method="execute">
			<result name="platform" type="redirectAction"> 
				<param name="actionName">currentHealthMonitorPlatformVisibility</param>
				<param name="mode">currentHealth</param>
				<param name="eid">${eid}</param>
			</result>

			<result name="autogroup" type="redirectAction"> 
				<param name="actionName">currentHealthMonitorAutogroupVisibility</param>
				<param name="mode">currentHealth</param>
				<param name="eid">${eid}</param>
				<param name="ctype">${ctype}</param>
			</result>
			<!--add the rest of the resource types-->

		</action>

		<action name="*InventoryPlatformVisibility" class="platformInventoryPortalActionNG" method="{1}">	
			<result name="viewPlatform" type="tiles">.resource.platform.inventory.ViewPlatform</result>
		</action>
	
		<action name="*MonitorPlatformVisibility" class="platformMonitorPortalActionNG" method="{1}">	
			<result name="monitorPaltformCurrentHealth" type="tiles">.resource.platform.monitor.visibility.CurrentHealth</result>
			<result name="monitorPlatformReourceMetrics" type="tiles">.resource.platform.monitor.visibility.PlatformMetrics</result>
		</action>

		<action name="*MonitorAutogroupVisibility" class="autogroupMonitorPortalActionNG" method="{1}">	
			<result name="monitorAutogroupCurrentHealth" type="tiles">.resource.autogroup.monitor.visibility.CurrentHealth</result>
			<result name="monitorAutogroupReourceMetrics" type="tiles">.resource.autogroup.monitor.visibility.AutoGroupMetrics</result>

		</action>

		<action name="*IndicatorCharts" class="indicatorChartsActionNG" method="{1}">	
			<result name="success">/resource/common/monitor/visibility/DashChartsNG.jsp</result>
		</action>  
		<action name="*IndicatorChartsJson" class="jsonIndicatorChartsActionNG" method="{1}">	
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>  
		
		<action name="jsonCurrentMetricValues" class="jsonCurrentMetricValuesActionNG" >	
			<result type="stream">
				<param name="contentType">text/javascript</param>
				<param name="inputName">inputStream</param>
			</result>
		</action>  
		
		<action name="*commonVisibilityPortal" class="commonVisibilityPortalActionNG" method="{1}">	
			<result name="chartSingleMetricMultiResource" type="tiles">.resource.common.monitor.visibility.charts.metric.smmr</result>
			<result name="chartSingleMetricSingleResource" type="tiles">.resource.common.monitor.visibility.charts.metric.smsr</result>
			<result name="chartMultiMetricSingleResource" type="tiles">.resource.common.monitor.visibility.charts.metric.mmsr</result>
		</action>  
		
		<action name="metricsDisplayAction" class="metricsDisplayActionNG" >	
			<result name="chart" type="redirectAction"> 
				<param name="actionName">chartMultiMetricSingleResourcecommonVisibilityPortal</param>
				<param name="m">${m}</param>
			</result>
			
		</action>
		
		<action name="Management" class="managementActionNG"> 
			<result name="success" type="tiles">.management.layout</result>
		</action>

	</package>
</struts>
