<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.6 : PostgreSQL</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 4.6.6.html" title="vFabric Hyperic 4.6.6 Documentation Home">vFabric Hyperic 4.6.6 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.6.html">Hyperic 4.6.6 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.6 : PostgreSQL
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 15, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1329337204189 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1329337204189 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1329337204189 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1329337204189'>
<ul>
    <li><a href='#PostgreSQL-ConfigurePostgreSQLMonitoring'>Configure PostgreSQL Monitoring</a></li>
    <li><a href='#PostgreSQL-PostgreSQLConfigurationTracking'>PostgreSQL Configuration Tracking</a></li>
    <li><a href='#PostgreSQL-PostgreSQLMetrics'>PostgreSQL Metrics</a></li>
</ul></div>

<h1><a name="PostgreSQL-ConfigurePostgreSQLMonitoring"></a>Configure PostgreSQL Monitoring</h1>

<p>Hyperic's PostgreSQL plugin uses the PostgreSQL statistics collector. Enable PostgreSQL to collect the required metrics, set the following the statistics parameters in <tt>postgresql.conf</tt>.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">stats_start_collector = true
stats_block_level = true
stats_row_level = true</pre>
		</div>
</div></div>

<p>Optionally, set the following parameter to ensure that a database restart does not result in a gap in monitoring data. </p>

<p><tt>stats_reset_on_server_start = false</tt></p>

<p>Restart PostgreSQL after updating <tt>postgresql.conf</tt>.</p>

<p>Note that some metrics, for instance "Index Space Used" and "Database Space Used" are only incremented after a vacuum or analyze operation is performed. </p>

<h1><a name="PostgreSQL-PostgreSQLConfigurationTracking"></a>PostgreSQL Configuration Tracking</h1>
<p>In Hyperic 4.6.5, the PostgreSQL plugin uses a new plugin support class —-- <tt>org.hyperic.hq.product.FileChangeTrackPlugin</tt> --— that enables more detailed change tracking than available in previous versions of Hyperic. This plugin tracks the change type ("add", "delete", "modify", or "rename") and the actual changes in text files. For information about the new support class, see <tt><a href="FileChangeTrackPlugin.html" title="FileChangeTrackPlugin">FileChangeTrackPlugin</a></tt>.</p>

<p>For PostgreSQL, the default the default value of the <b>Configuration Files</b> field, which specifies which files to track is:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">data;false;.*\.conf;,*PGDATA*;false;.*\.conf;,data;false;.*\.conf;</pre>
		</div>
</div></div>

<p>When configuration tracking is enabled, this filter causes Hyperic to track:</p>
<ul>
	<li>In the <tt>PostgresqlHome/data</tt> directory, any files with a <tt>.conf</tt> extension.</li>
	<li>In the configuration directory specified by the <tt>PGDATA</tt> environment variable, and any files with a <tt>.conf</tt> extension.</li>
	<li>In the <tt>PostgresqlHome/data</tt> directory, any files with a <tt>.conf</tt> extension.</li>
</ul>



<p>Configuration tracking for PostgreSQL is disabled by default. For information about how to enable configuration tracking and how to specify which files to track, see <a href="Set Up Configuration Tracking for a Resource.html" title="Set Up Configuration Tracking for a Resource">Set Up Configuration Tracking for a Resource</a> in <em>vFabric Hyperic Administration</em>. </p>


<h1><a name="PostgreSQL-PostgreSQLMetrics"></a>PostgreSQL Metrics</h1>


<ul>
	<li><a href="PostgreSQL 9.0 server.html" title="PostgreSQL 9.0 server">PostgreSQL 9.0 server</a></li>
	<li><a href="PostgreSQL 9.0 Table service.html" title="PostgreSQL 9.0 Table service">PostgreSQL 9.0 Table service</a></li>
	<li><a href="PostgreSQL 9.0 Index service.html" title="PostgreSQL 9.0 Index service">PostgreSQL 9.0 Index service</a></li>
	<li><a href="PostgreSQL 8.4 server.html" title="PostgreSQL 8.4 server">PostgreSQL 8.4 server</a></li>
	<li><a href="PostgreSQL 8.4 Table service.html" title="PostgreSQL 8.4 Table service">PostgreSQL 8.4 Table service</a></li>
	<li><a href="PostgreSQL 8.4 Index service.html" title="PostgreSQL 8.4 Index service">PostgreSQL 8.4 Index service</a></li>
	<li><a href="PostgreSQL 8.3 server.html" title="PostgreSQL 8.3 server">PostgreSQL 8.3 server</a></li>
	<li><a href="PostgreSQL 8.3 Table service.html" title="PostgreSQL 8.3 Table service">PostgreSQL 8.3 Table service</a></li>
	<li><a href="PostgreSQL 8.3 Index service.html" title="PostgreSQL 8.3 Index service">PostgreSQL 8.3 Index service</a></li>
	<li><a href="PostgreSQL 8.2 server.html" title="PostgreSQL 8.2 server">PostgreSQL 8.2 server</a></li>
	<li><a href="PostgreSQL 8.2 Table service.html" title="PostgreSQL 8.2 Table service">PostgreSQL 8.2 Table service</a></li>
	<li><a href="PostgreSQL 8.2 Index service.html" title="PostgreSQL 8.2 Index service">PostgreSQL 8.2 Index service</a></li>
	<li><a href="PostgreSQL 8.1 server.html" title="PostgreSQL 8.1 server">PostgreSQL 8.1 server</a></li>
	<li><a href="PostgreSQL 8.1 Table service.html" title="PostgreSQL 8.1 Table service">PostgreSQL 8.1 Table service</a></li>
	<li><a href="PostgreSQL 8.1 Index service.html" title="PostgreSQL 8.1 Index service">PostgreSQL 8.1 Index service</a></li>
	<li><a href="PostgreSQL 8.0 server.html" title="PostgreSQL 8.0 server">PostgreSQL 8.0 server</a></li>
	<li><a href="PostgreSQL 8.0 Table service.html" title="PostgreSQL 8.0 Table service">PostgreSQL 8.0 Table service</a></li>
	<li><a href="PostgreSQL 8.0 Index service.html" title="PostgreSQL 8.0 Index service">PostgreSQL 8.0 Index service</a></li>
	<li><a href="PostgreSQL 7.4 server.html" title="PostgreSQL 7.4 server">PostgreSQL 7.4 server</a></li>
	<li><a href="PostgreSQL 7.4 Table service.html" title="PostgreSQL 7.4 Table service">PostgreSQL 7.4 Table service</a></li>
	<li><a href="PostgreSQL 7.4 Index service.html" title="PostgreSQL 7.4 Index service">PostgreSQL 7.4 Index service</a></li>
</ul>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on May 21, 2012 08:34</font></td>
		    </tr>
	    </table>
    </body>
</html>
