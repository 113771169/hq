<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : Options for Running and Controlling Resource Discovery</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 4.6.5.html" title="vFabric Hyperic 4.6.5 Documentation Home">vFabric Hyperic 4.6.5 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6.5 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.5.html">Hyperic 4.6.5 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : Options for Running and Controlling Resource Discovery
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p>This section describes options for initiating and preventing Hyperic resource discovery processes. </p>


<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699684210 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699684210 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699684210 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699684210'>
<ul>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-ScanaPlatformOnDemand'>Scan a Platform On-Demand</a></li>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-ConfigureDefaultandRuntimeScanningFrequency'>Configure Default and Runtime Scanning Frequency</a></li>
<ul>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-ConfigureFrequencyofDefaultScan'>Configure Frequency of Default Scan</a></li>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-DisableDefaultScan'>Disable Default Scan</a></li>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-ConfigureFrequencyofRuntimeScan'>Configure Frequency of Runtime Scan</a></li>
</ul>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-ExcludeaPluginResourceHierarchy'>Exclude a Plugin Resource Hierarchy</a></li>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-DisablePlatformServiceDiscovery'>Disable Platform Service Discovery</a></li>
    <li><a href='#OptionsforRunningandControllingResourceDiscovery-DisableServiceDiscoveryforaServerInstance'>Disable Service Discovery for a Server Instance</a></li>
</ul></div> 
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>For information about different types of auto-discovery scanning, see <a href="Resource Auto-Discovery Processes.html" title="Resource Auto-Discovery Processes">Resource Auto&#45;Discovery Processes</a>.</td></tr></table></div>

 



<h1><a name="OptionsforRunningandControllingResourceDiscovery-ScanaPlatformOnDemand"></a>Scan a Platform On-Demand </h1>

<p>To initiate a platform scan: </p>

<ol>
	<li>Navigate to the platform you want to scan.</li>
	<li>Select <b>New Auto-Discovery</b> from the <b>Tools</b> menu.
	<ul>
		<li>The <b>New Auto-Discovery</b> page appears.

<p><span class="image-wrap" style=""><img src="attachments/79038211/79135439.png" width="750px" style="border: 0px solid black"/></span></p>
<div class='panelMacro'><table class='infoMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Some Platforms Cannot Be Scanned</b><br />You can only initiate an auto-discovery scan for a platform that runs an Hyperic Agent. Platforms that are remotely monitored, such as Cisco and other network device platforms that do not run an agent, cannot be scanned.</td></tr></table></div> </li>
	</ul>
	</li>
	<li>You can run default scan only, or run a file scan in addition to the default scan. The different scan types are described in <a href="Resource Auto-Discovery Processes.html" title="Resource Auto-Discovery Processes">Resource Auto&#45;Discovery Processes</a>.
	<ul>
		<li>To run a default scan only, click <b>OK</b> at the top of the page.</li>
		<li>To run a file scan in addition to the default scan:
		<ol>
			<li>Check the the <em>Server Types</em> that Hyperic should look for on the platform.</li>
			<li>In <em>ScanDirs</em>, specify the directories that HQ should scan.</li>
			<li>In <em>ExcludeDirs</em>, specify the directories that Hyperic should <em>not</em> scan.</li>
			<li>In <em>fsTypes</em>, select the type of file system to scan: local disks, network-mounted disks, or both ("all").</li>
			<li>In <em>depth</em>, specify the depth in the directory structure to which HQ should scan.</li>
			<li>To have Hyperic follow symlinks when scanning, check <em>Should symlinks be followed</em>.</li>
			<li>Click <b>OK</b> at the bottom of the screen.</li>
		</ol>
		</li>
	</ul>
	</li>
</ol>
 



<h1><a name="OptionsforRunningandControllingResourceDiscovery-ConfigureDefaultandRuntimeScanningFrequency"></a>Configure Default and Runtime Scanning Frequency </h1>

<h2><a name="OptionsforRunningandControllingResourceDiscovery-ConfigureFrequencyofDefaultScan"></a>Configure Frequency of Default Scan </h2>

<p>By default, an HQ Agent runs a default scan upon startup and every 15 minutes thereafter. To change the frequency, uncomment the <tt>autoinventory.defaultScan.interval.millis</tt> line in the <tt>agent.properties file</tt>, and set the desired value in milliseconds.</p>


<h6><a name="OptionsforRunningandControllingResourceDiscovery-autoinventory.defaultScan.interval.millis"></a>autoinventory.defaultScan.interval.millis </h6>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Description</b>

<p>Specifies how frequently the agent performs a default autoinventory scan.  </p>

<p>The default scan detects servers and platform services, typically using the process table or the Windows registry.  Default scans are less resource-intensive than runtime scans.  </p>

<p><b>Default</b></p>

<p>Commented out, set to 86,400,000 milliseconds, or 1 day. </p>

<p><b>Note however, that by default, the agent performs the default scan at startup and every 15 minutes thereafter.</b></p></td></tr></table></div> 

<h2><a name="OptionsforRunningandControllingResourceDiscovery-DisableDefaultScan"></a>Disable Default Scan </h2>

<p>To prevent the HQ Agent from running default scans on the platform, uncomment the <tt>autoinventory.defaultScan.interval.millis</tt> property in the <tt>agent.properties file</tt>, and set it to "-1". For example:</p>

<p><tt>autoinventory.defaultScan.interval.millis=-1</tt></p>

<h2><a name="OptionsforRunningandControllingResourceDiscovery-ConfigureFrequencyofRuntimeScan"></a>Configure Frequency of Runtime Scan </h2>

<p>By default, an HQ Agent runs a runtime scan once a day. To change the frequency, edit the{{autoinventory.runtime.Scan.interval.millis}} line in the <tt>agent.properties file</tt>, and set the desired value in milliseconds.</p>

<h6><a name="OptionsforRunningandControllingResourceDiscovery-autoinventory.runtimeScan.interval.millis"></a>autoinventory.runtimeScan.interval.millis </h6>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Description</b>

<p>Specifies how frequently the agent performs a runtime scan. </p>

<p>A runtime scan may use more resource-intensive methods to detect services than a default scan. For instance, a runtime scan may involve issuing an SQL query or looking up an MBean.  </p>

<p><b>Default</b></p>

<p>86,400,000 milliseconds, or 1 day.</p></td></tr></table></div> 
 

<h1><a name="OptionsforRunningandControllingResourceDiscovery-ExcludeaPluginResourceHierarchy"></a>Exclude a Plugin Resource Hierarchy </h1>

<p>If you do not want the Hyperic Agent to discover a resource, you can prevent the agent from loading the plugin. Specify the plugin or plugins that you do not want the agent to load at startup with the <tt>agent.exclude</tt> property in the <tt>agent.properties</tt> file on the platform. </p>


<h1><a name="OptionsforRunningandControllingResourceDiscovery-DisablePlatformServiceDiscovery"></a>Disable Platform Service Discovery </h1>

<p>To disable auto-discovery of platform services, update <tt>agent.properties</tt> with the following property settings. </p>

<h6><a name="OptionsforRunningandControllingResourceDiscovery-sigar.mirror.procnet"></a>sigar.mirror.procnet </h6>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>
<p><b>Description</b></p>

<p>mirror /proc/net/tcp on linux</p>

<p><b>Default</b></p>

<p>true</p></td></tr></table></div> 

<hr />
<h6><a name="OptionsforRunningandControllingResourceDiscovery-netservices.netstat"></a>netservices.netstat </h6>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Description</b> 

<p>Add the <tt>netservices.netstat</tt> property to <tt>agent.properties</tt> and set it to "false" to prevent the agent from auto-discovering network services running on the platform. </p>

<p><b>Default</b> </p>

<p>As installed, <tt>agent.properties</tt> does not contain this property, and by default, an HQ Agent discovers network services running on a platform.</p></td></tr></table></div> 


<h1><a name="OptionsforRunningandControllingResourceDiscovery-DisableServiceDiscoveryforaServerInstance"></a>Disable Service Discovery for a Server Instance </h1>

<p>If you do not want to the agent to discover the services running in a server, you can disable the behavior in the <b>Monitoring</b> section of the <b>Configuration Properties</b> page for a server instance. </p>



				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Feb 15, 2012 15:42</font></td>
		    </tr>
	    </table>
    </body>
</html>
