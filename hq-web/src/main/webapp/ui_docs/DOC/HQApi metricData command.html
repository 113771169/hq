<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 5.0 : HQApi metricData command</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 5.0.html" title="vFabric Hyperic 5.0 Documentation Home">vFabric Hyperic 5.0 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-5.0.html">Hyperic 5.0 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 5.0 : HQApi metricData command
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>


<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699162141 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699162141 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699162141 li {margin-left: 0px;padding-left: 0px;}

/*]] >*/</style><div class='rbtoc1325699162141'>
<ul>
    <li><a href='#HQApimetricDatacommand-Functionality'>Functionality</a></li>
    <li><a href='#HQApimetricDatacommand-CommandOptions'>Command Options</a></li>
<ul>
    <li><a href='#HQApimetricDatacommand-list'>list</a></li>
<ul>
    <li><a href='#HQApimetricDatacommand-listCommandOutput'>list Command Output</a></li>
    <li><a href='#HQApimetricDatacommand-listCommandQualifiers'>list Command Qualifiers</a></li>
    <li><a href='#HQApimetricDatacommand-Examples'>Examples</a></li>
<ul>
    <li><a href='#HQApimetricDatacommand-ListMeasurementsforaMetric'>List Measurements for a Metric</a></li>
    <li><a href='#HQApimetricDatacommand-ListMeasurementsforaResource'>List Measurements for a Resource</a></li>
    <li><a href='#HQApimetricDatacommand-ListMeasurementsforaCompatibleGroup'>List Measurements for a Compatible Group</a></li>
</ul>
</ul>
</ul>
</ul></div>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Related Topics</b><br />This page provides information for running an HQ API from the command line. Related topics include: 
<ul>
	<li><a href="vFabric Hyperic Web Services API.html" title="vFabric Hyperic Web Services API">vFabric Hyperic Web Services API</a> - brief introduction to the API.</li>
	<li><a href="HQApi Command-Line Tools.html" title="HQApi Command-Line Tools">HQApi Command&#45;Line Tools</a> - how to get started with the command line tools.</li>
	<li><a href="HQApi Java API.html" title="HQApi Java API">HQApi Java API</a> - about accessing the APIs programmatically.</li>
</ul>
</td></tr></table></div> 


<h1><a name="HQApimetricDatacommand-Functionality"></a>Functionality</h1>

<p>The <b>metricData</b> command can be used to list all measurements for a particular metric for a particular resource in HQ.</p>

<h1><a name="HQApimetricDatacommand-CommandOptions"></a>Command Options</h1>

<h2><a name="HQApimetricDatacommand-list"></a>list</h2>

<h3><a name="HQApimetricDatacommand-listCommandOutput"></a>list Command Output</h3>

<p>The data returned by the <b>list</b> option varies by the command qualifiers you supply.  See <a href="#HQApimetricDatacommand-Examples">Examples</a>.</p>


<h3><a name="HQApimetricDatacommand-listCommandQualifiers"></a>list Command Qualifiers</h3>

<p>The <b>list</b> command requires one of the following qualifiers: <tt>groupID</tt>, <tt>metricID</tt>, or <tt>resourceID</tt>.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Qualifier </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> &#45;-file </td>
<td class='confluenceTd'> If specified, use the given file for commands that take XML input. If not specified, stdin will be used. </td>
</tr>
<tr>
<td class='confluenceTd'> &#45;-formatDates </td>
<td class='confluenceTd'> When specified timestamps will be formatted using the given format. Defaults to yyyy-MM-dd HH:mm:ss </td>
</tr>
<tr>
<td class='confluenceTd'> &#45;-groupId </td>
<td class='confluenceTd'> The group id to query for metric data. Only supported for compatible groups. To determine the ID for the desired group, use the <a href="HQApi group command.html#HQApigroupcommand-list">group list</a> command, using the &#45;-compatible qualifer. </td>
</tr>
<tr>
<td class='confluenceTd'> &#45;-hours </td>
<td class='confluenceTd'> The number of hours of data to query. Defaults to 8. </td>
</tr>
<tr>
<td class='confluenceTd'> &#45;-metricId </td>
<td class='confluenceTd'> The internal ID for the metric to list. To determine the ID for the metric you wish to list, use the <a href="HQApi metric command.html#HQApimetriccommand-list">metric list</a> command. </td>
</tr>
<tr>
<td class='confluenceTd'> &#45;-resourceId </td>
<td class='confluenceTd'> The resource id to query for metric data. To determine the ID for the desired resource, use the <a href="HQApi resource command.html#HQApiresourcecommand-list">resource list</a> command. </td>
</tr>
</tbody></table>
</div>


<h3><a name="HQApimetricDatacommand-Examples"></a>Examples</h3>

<h4><a name="HQApimetricDatacommand-ListMeasurementsforaMetric"></a>List Measurements for a Metric</h4>

<p>The query below returns measurements for the metric whose ID is 10001 &#8212; the Availability metric for a platform in inventory. The timestamp and the value are returned for each data point.</p>

<p>For brevity, only the last three measurements returned are shown.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">sh bin/hqapi.sh metricData list --metricId=10001
,Value
1289412780000,0.5
1289412840000,1.0
1289412900000,1.0</pre>
		</div>
</div></div>

<h4><a name="HQApimetricDatacommand-ListMeasurementsforaResource"></a>List Measurements for a Resource</h4>

<p>The query below returns measurements of all metrics collected in the last hour for a resource whose id is 10826 &#8212; a platform in inventory.</p>

<p>The first row returned is comma-separated list of the metrics returned, in <tt>MetricName(id=MetricID</tt> format.</p>

<p>Each remaining row lists a timestamp, and the values collected for each metric at that time.</p>

<p>For brevity, only the measurements collected in the last 10 minutes are shown.  Note that Availability is reported every minute, and the other metrics are reported every five minutes.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">sh bin/hqapi.sh metricData list  --resourceId=10826 --hours=1
,Availability(id=10001),Free Memory(id=10007),Load Average 5 Minutes(id=10010),Swap Used(id=10067)
1289413200000,1.0,9.4183424E7,0.99805,2.468708352E9
1289413260000,1.0,,,
1289413320000,1.0,,,
1289413380000,1.0,,,
1289413440000,1.0,,,
1289413500000,1.0,8.6974464E7,0.56104,2.468708352E9
1289413560000,1.0,,,
1289413620000,1.0,,,
1289413680000,1.0,,,
1289413740000,1.0,,,
1289413800000,1.0,,,</pre>
		</div>
</div></div>

<h4><a name="HQApimetricDatacommand-ListMeasurementsforaCompatibleGroup"></a>List Measurements for a Compatible Group</h4>

<p>The query below returns measurements for a compatible group whose id is 10826.</p>

<p>The first row returned is comma-separated list of the columns returned:</p>
<ul>
	<li>Metric Name</li>
	<li>Template ID</li>
	<li>Min, Max, and Ave &#8212; The minimum value for the metric over the last 8 hours. If the <tt>&#45;-hours</tt> qualify was specified, period specified.</li>
	<li>Last &#8212; The last value reported for the metric.</li>
</ul>


<p>Each remaining row is a comma-separated list of the values of each column for a measurement.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">sh bin/hqapi.sh metricData list --groupId=10001
Metric Name, Template Id, Min, Max, Avg, Last
Number Of Row Inserts per Minute,20915,0.0,4.9E-324,0.0,0.0
Data Space Used,20909,8.0,8.0,8.0,240.0
Index Space Used,20899,16.0,48.0,38.4,1152.0
Sequential Scans per Minute,20904,0.0,0.00383,2.0157894736842104E-4,0.0038299999999999996
Availability,20910,0.0,1.0,0.1284722222222222,0.1284722222222222</pre>
		</div>
</div></div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jul 10, 2012 14:24</font></td>
		    </tr>
	    </table>
    </body>
</html>
