<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 5.0 : Model MBean Naming and Descriptor Data</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 5.0.html" title="vFabric Hyperic 5.0 Documentation Home">vFabric Hyperic 5.0 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 5.0 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-5.0.html">Hyperic 5.0 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 5.0 : Model MBean Naming and Descriptor Data
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>


<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699874129 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699874129 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699874129 li {margin-left: 0px;padding-left: 0px;}

/*]] >*/</style><div class='rbtoc1325699874129'>
<ul>
    <li><a href='#ModelMBeanNamingandDescriptorData-KeyFactsAboutModelMBeansandServiceDiscovery'>Key Facts About ModelMBeans and Service Discovery</a></li>
    <li><a href='#ModelMBeanNamingandDescriptorData-ModelMBeanObjectNameFormat'>ModelMBean ObjectName Format</a></li>
    <li><a href='#ModelMBeanNamingandDescriptorData-ModelMBeanInfoDescriptors'>ModelMBeanInfo Descriptors</a></li>
    <li><a href='#ModelMBeanNamingandDescriptorData-ModelMBeanAttributeInfoDescriptors'>ModelMBeanAttributeInfo Descriptors</a></li>
    <li><a href='#ModelMBeanNamingandDescriptorData-ModelMBeanOperationInfoDescriptors'>ModelMBeanOperationInfo Descriptors</a></li>
</ul></div>

<p>This page specifies the descriptors that ModelMBeans must expose to enable a Hyperic Agent to discover and manage Java application resources.</p>

<p>For information about Java service discovery feature and associated requirements, see <a href="Java Applications.html" title="Java Applications">Java Applications</a>.</p>

<h1><a name="ModelMBeanNamingandDescriptorData-KeyFactsAboutModelMBeansandServiceDiscovery"></a>Key Facts About ModelMBeans and Service Discovery</h1>

<ul>
	<li>Hyperic translates <tt>ModelMBeanInfo</tt> into service metadata, <tt>ModelMBeanAttributeInfo</tt> into custom property or metric metadata, and <tt>ModelMBeanOperationInfo</tt> into control action metadata.</li>
</ul>


<ul>
	<li>All MBean instances with the same type must have the same attributes, metrics, and operations. If the metadata for a service type changes the type will be updated in Hyperic and any existing service instances will be deleted and redeployed.</li>
</ul>


<ul>
	<li>A service type cannot be deleted from Hyperic.</li>
</ul>


<h1><a name="ModelMBeanNamingandDescriptorData-ModelMBeanObjectNameFormat"></a>ModelMBean ObjectName Format</h1>

<p>An ModelMBean's ObjectName must have this format:</p>

<p><tt>spring.application:application=%application%,type=%type%,name=%name%&#42;</tt></p>

<p>where:</p>
<ul>
	<li><tt>application</tt> &#45; (Optional) The name of the application that contains the resource. If defined, forms a portion of the service name in Hyperic.</li>
</ul>


<ul>
	<li><tt>type</tt> &#45; (Required) The Hyperic service type for the resource. When Hyperic creates the service to add to inventory, this is the service type it will have. The value of <tt>type</tt> also forms a portion of the service name in Hyperic.</li>
</ul>


<ul>
	<li><tt>name</tt> &#45; (Required) An identifier that forms a portion of the name of the service in Hyperic. The service <tt>name</tt> also includes: name of the platform (machine) where the service runs, value of <tt>application</tt> if specified, and the Hyperic server type where the service runs. The order in which these components are concatenated into a name varies by the type of server where the service runs.</li>
</ul>


<p>For an MBean whose ObjectName is:</p>

<p><tt>spring.application:application=swf-booking-mvc,type=MessageListener,name=bookingMessageListener</tt></p>

<p>the Hyperic Agent creates a service in Hyperic whose:</p>
<ul>
	<li>Service type is "MessageListener"</li>
	<li>Name is "Platform Name Apache Tomcat 6.0 swf-booking-mvc bookingMessageListener MessageListener"</li>
</ul>


<h1><a name="ModelMBeanNamingandDescriptorData-ModelMBeanInfoDescriptors"></a>ModelMBeanInfo Descriptors</h1>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> ModelMBean Field <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Type <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Requirements <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Default Value </th>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanInfo. <br class="atl-forced-newline" />
getDescription() <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> The friendly description of the service </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Must not be null </td>
<td class='confluenceTd'> N/A </td>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanInfo. <br class="atl-forced-newline" />
getMBeanDescriptor(). <br class="atl-forced-newline" />
getField("typeName") </td>
<td class='confluenceTd'> If supplied, supplies the service type for the service to be created in Hyperic, overriding the default value - the value of <tt>type</tt> from the service's ObjectName. <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Optional </td>
<td class='confluenceTd'> Value of the <tt>type</tt> property in the resource's ObjectName, described in <a href="#ModelMBeanNamingandDescriptorData-ModelMBeanObjectNameFormat">ModelMBean ObjectName Format</a> </td>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanInfo. <br class="atl-forced-newline" />
getMBeanDescriptor(). <br class="atl-forced-newline" />
getField("export") </td>
<td class='confluenceTd'> Can be used to prevent the Hyperic Agent from creating a service for the MBean in Hyperic inventory. <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Set to "true" or "false" </td>
<td class='confluenceTd'> "true" </td>
</tr>
</tbody></table>
</div>


<h1><a name="ModelMBeanNamingandDescriptorData-ModelMBeanAttributeInfoDescriptors"></a>ModelMBeanAttributeInfo Descriptors</h1>

<p>The Hyperic Agent interprets ModelMBeanAttributeInfo as property or metric data. If the "metricType" descriptor is defined, Hyperic interprets the data as a metric.</p>

<p>An attribute that represents a property must be JMX SimpleType or an array of JMX SimpleTypes.</p>

<p>An attribute that represents a&nbsp; metric must be numeric JMX SimpleType.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> ModelMBean Field&nbsp; </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Type <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Expected Format <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Default Value <br class="atl-forced-newline" /> </th>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanAttributeInfo. <br class="atl-forced-newline" />
getDescription() </td>
<td class='confluenceTd'> Description of the property or metric. &nbsp; <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
Note:&nbsp; In the Hyperic user interface, a property is identified by its Description. </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Must not be null. <br class="atl-forced-newline" />
&nbsp; <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> N/A </td>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanAttributeInfo. <br class="atl-forced-newline" />
getDescriptor(). <br class="atl-forced-newline" />
getField("metricCategory") </td>
<td class='confluenceTd'> Category of a Metric </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Allowable values: <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
PERFORMANCE - a metric that provides time-related information. For example, average elapsed time per method call. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
UTILIZATION - a metric that indicates resource usage. For example, memory usage, cache size, thread pool size. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
THROUGHPUT - a metric that indicates the amount of work done over a period of time. For example, transactions per second. </td>
<td class='confluenceTd'> UTILIZATION </td>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanAttributeInfo. <br class="atl-forced-newline" />
getDescriptor(). <br class="atl-forced-newline" />
getField("displayName") </td>
<td class='confluenceTd'> Name that uniquely identifies the metric for a service type. &nbsp;&nbsp;&nbsp; <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> This value is used to uniquely identify the metric per service type. </td>
<td class='confluenceTd'> Defaults to the name of the ModelMBean attribute. </td>
</tr>
<tr>
<td class='confluenceTd'> getDescriptor(). <br class="atl-forced-newline" />
getField("indicator") <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> Designates a metric as an Indicator in Hyperic.&nbsp; <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
Indicators are presented on a resource's Indicator page in Hyperic. <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> String <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> If set to "true", the metric is an Indicator, and is collected by default. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
NOTE: If "false" metric will NOT be collected by default. </td>
<td class='confluenceTd'> "true" </td>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanAttributeInfo. <br class="atl-forced-newline" />
getDescriptor(). <br class="atl-forced-newline" />
getField("metricType") </td>
<td class='confluenceTd'> Indicates how the value of the metric changes over time. &nbsp; <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
The presence of this field indicates the MBeanAttribute is a metric. If not set, the attribute will be considered a custom property. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
Hyperic sets the collection interval for a metric based on the value of metricType. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
"counter" metrics are collected every 10 minutes. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
"gauge" metrics arecollected every 5 minutes. </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> The JMX specification requires metricType have a value of either: <br class="atl-forced-newline" />
<ul>
	<li>"counter" - a metric whose value does not decrease unless it is reset to a starting value. "Number of requests received" is an example of a counter metric. Counter metrics usually have a positive integer value.</li>
	<li>"gauge" - a metric whose value can either increase or decrease. "Cache Hit Rate" is an example of a gauge metric. <br class="atl-forced-newline" /></li>
</ul>
</td>
<td class='confluenceTd'> "gauge" </td>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanAttributeInfo. <br class="atl-forced-newline" />
getDescriptor(). <br class="atl-forced-newline" />
getField("units") </td>
<td class='confluenceTd'> The unit in which an metric is measured. <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Hyperic specifies these allowable values: <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<ul>
	<li>B - Bytes</li>
	<li>KB - Kilobytes</li>
	<li>MB &#45;&nbsp; Megabytes</li>
	<li>GB - Gigabytes</li>
	<li>TB - Terabytes</li>
	<li>epoch-millis - Time since January 1, 1970 in milliseconds.</li>
	<li>epoch-seconds - Time since January 1, 1970 in seconds.</li>
	<li>ns - Nanoseconds</li>
	<li>mu - Microseconds</li>
	<li>ms - Milliseconds</li>
	<li>jiffys - Jiffies (1/100 sec)</li>
	<li>s - Seconds</li>
	<li>cents - Cents (1/100 of 1 US Dollar)</li>
	<li>&nbsp;none</li>
</ul>
</td>
<td class='confluenceTd'> Defaults to "none" if not specified or if set to an unrecognized unit. </td>
</tr>
</tbody></table>
</div>


<h1><a name="ModelMBeanNamingandDescriptorData-ModelMBeanOperationInfoDescriptors"></a>ModelMBeanOperationInfo Descriptors</h1>

<p>ModelMBean Operation return values and parameters should be JMX SimpleType or arrays of JMX SimpleTypes.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> ModelMBean Field </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Type <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Expected Format <br class="atl-forced-newline" /> </th>
<th class='confluenceTh'> Default Value <br class="atl-forced-newline" /> </th>
</tr>
<tr>
<td class='confluenceTd'> ModelMBeanOperationInfo. <br class="atl-forced-newline" />
getDescription() </td>
<td class='confluenceTd'> The friendly description of the Operation </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Must not be null. </td>
<td class='confluenceTd'> N/A </td>
</tr>
</tbody></table>
</div>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Oct 01, 2012 10:07</font></td>
		    </tr>
	    </table>
    </body>
</html>
