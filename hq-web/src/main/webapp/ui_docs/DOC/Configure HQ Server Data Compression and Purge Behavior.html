<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <b><a href="vFabric Hyperic 4.6.html" title="vFabric Hyperic 4.6 Documentation Home">vFabric Hyperic 4.6 Documentation Home (Internal)</a> - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6 Documentation Home (Online)</a> -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.0.html">Hyperic 4.6 Release Notes</a> </b>
<p>      
<p>
        <title>vFabric Hyperic 4.6 : Configure HQ Server Data Compression and Purge Behavior</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6 : Configure HQ Server Data Compression and Purge Behavior
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 07, 2011 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <h2><a name="ConfigureHQServerDataCompressionandPurgeBehavior-HQServerDataManagementProcesses"></a>HQ Server Data Management Processes</h2>

<p>HQ Server stores monitoring results using a tiered model to minimize the volume of data stored, while still providing sufficient data granularity. Periodically, the HQ Server removes detailed metric data from the database and archives it. Alerts and events older than a specified age are removed from the database, and not archived.</p>

<p>The server performs the following periodic data management functions:</p>

<ul>
	<li>Compress and archive measurement data &#8212; HQ Server stores detailed metric data (all data points reported) in the HQ database for a configurable period (up to 7 days) of time, after which the metrics are eligible for compression and archival. On a (configurable) periodic basis, the server removes the aged individual metric data points from the database, and archives the metric data in compressed form: hourly metric averages, highs, and lows. &nbsp;HQ Server retains the archived metric data for 2 years.</li>
</ul>


<ul>
	<li>Purge alert data &#8212; HQ Server retains fired alert data for a configurable period, after which the alerts are deleted.</li>
</ul>


<ul>
	<li>Purge event data &#8212; HQ Server retains event data for a configurable period, after which the events are deleted.</li>
</ul>


<ul>
	<li>Rebuild metric table indexes  &#8212; During normal HQ operation, the metric data tables in the HQ database contain a lot of frequently changing data. The HQ Server rebuilds the metric table indexes on a&nbsp;(configurable) periodic basis to avoid performance problems that heavily fragmented indexes can cause.</li>
</ul>


<h2><a name="ConfigureHQServerDataCompressionandPurgeBehavior-ConfigureHQDataManagementSettings"></a>Configure HQ Data Management Settings</h2>

<p>You can configure how HQ condenses and purges the contents of the HQ database on the <b>Administration</b> &gt; <b>Server Settings</b> page. &nbsp;Retaining fewer days of detailed metric data and deleting alerts and other events on a timely basis can improve HQ performance.</p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Option </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Default </th>
<th class='confluenceTh'> Notes </th>
</tr>
<tr>
<td class='confluenceTd'> Run Database Maintenance Every </td>
<td class='confluenceTd'> Controls how frequently HQ compresses and archives detailed metric data that is older than the age specified by the following property.&nbsp; <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> Hourly&nbsp; <br class="atl-forced-newline" />  <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> Delete Detailed Metric Data Older Than </td>
<td class='confluenceTd'> Controls how many days of detailed metric data HQ retains before compressing it into hourly averages with highs and lows and archiving those values. </td>
<td class='confluenceTd'> 2 days </td>
<td class='confluenceTd'> You cannot enter a value greater than 7. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> Reindex Metric Data Tables Nightly </td>
<td class='confluenceTd'> Controls whether HQ reindexes metric data tables every night. If configured to re-index nightly, HQ re-indexes the tables around midnight. </td>
<td class='confluenceTd'> Nightly </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> Delete Alerts Older Than </td>
<td class='confluenceTd'> Controls how long HQ stores alert event data. </td>
<td class='confluenceTd'> 31 days </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> Delete Events and Logs Older Than </td>
<td class='confluenceTd'> Controls how long HQ stores other HQ event and log data. </td>
<td class='confluenceTd'> 31 days </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>


<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Warning: Data Management Changes Require Server Restart</b><br />Any changes made in this section require the HQ Server to be restarted before they take effect.</td></tr></table></div>

<p><font color=""></font></p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jul 29, 2011 14:43</font></td>
		    </tr>
	    </table>
    </body>
</html>
