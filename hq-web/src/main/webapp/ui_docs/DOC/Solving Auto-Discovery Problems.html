<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <b><a href="vFabric Hyperic 4.6.html" title="vFabric Hyperic 4.6 Documentation Home">vFabric Hyperic 4.6 Documentation Home (Internal)</a> - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6 Documentation Home (Online)</a> -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.0.html">Hyperic 4.6 Release Notes</a> </b>
<p>      
<p>
        <title>vFabric Hyperic 4.6 : Solving Auto-Discovery Problems</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6 : Solving Auto-Discovery Problems
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 21, 2011 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p>Refer to the sections below if you have trouble with resource discovery. </p>

<style type='text/css'>/*<![CDATA[*/
div.rbtoc1308678970481 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1308678970481 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1308678970481 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1308678970481'>
<ul>
    <li><a href='#SolvingAuto-DiscoveryProblems-RemovedResourcesNotRediscovered'>Removed Resources Not Rediscovered</a></li>
    <li><a href='#SolvingAuto-DiscoveryProblems-DiscoveredResourcesNotImported'>Discovered Resources Not Imported</a></li>
    <li><a href='#SolvingAuto-DiscoveryProblems-AutoDiscoveringWebLogicServeronLinuxandSolaris'>Auto-Discovering WebLogic Server on Linux and Solaris</a></li>
    <li><a href='#SolvingAuto-DiscoveryProblems-AutoDiscoveringServerTypesonSolaris'>Auto-Discovering Server Types on Solaris</a></li>
</ul></div>

<h2><a name="SolvingAuto-DiscoveryProblems-RemovedResourcesNotRediscovered"></a>Removed Resources Not Rediscovered </h2>

<p>If you delete a resource, and then immediately scan the platform, it is possible that the deleted resource will not be rediscovered during that scan. </p>

<p>In Hyperic, the resource deletion process is asynchronous. If you delete many resources at once, if the the deletion of a resource is not complete when the next scan is performed, the agent will find the resource already exists, and not report it as new or changed. </p>

<h2><a name="SolvingAuto-DiscoveryProblems-DiscoveredResourcesNotImported"></a>Discovered Resources Not Imported </h2>

<p>If a resource still appears in the <b>Auto-Discovery Portlet</b> after you clicked <b>Add to Inventory</b> to import it to inventory, you can use <b>HQ Health</b> to troubleshoot the problem. Use the available database queries to check the autoinventory queue - if the resource you wish to add appears in the queue, use the <b>Purge Autoinventory Queue</b> action. Initiate an auto-discovery scan and try importing the resource after it is re-discovered. </p>

<h2><a name="SolvingAuto-DiscoveryProblems-AutoDiscoveringWebLogicServeronLinuxandSolaris"></a>Auto-Discovering WebLogic Server on Linux and Solaris </h2>

<p>To auto-discover a WebLogic Server instance on Linux or Solaris, the Hyperic Agent must be able to read its current working directory <tt>/proc/$pid/cwd</tt>. To ensure that the agent has sufficient privileges, you can: </p>
<ul>
	<li>Run the Hyperic Agent as the same user that runs the WebLogic Server Administration Server,</li>
	<li>Run the Hyperic Agent as root, or</li>
	<li>Under Solaris 10 only, grant the agent account permission to read <tt>/proc/$pid/</tt> files within the Solaris 10 Least Privilege Model (LPM). For instructions, see<a href="Troubleshoot Agent and Server Problems.html#TroubleshootAgentandServerProblems-ConfigureAgentAccountPrivilegesunderSolaris10">Configure Agent Account Privileges under Solaris 10</a>.</li>
</ul>


<p>For additional information about solving problems with auto-discovery of WebLogic Server, see <a href="http://support.hyperic.com/display/hypcomm/Configure+HQ+Agent+to+Monitor+WebLogic+Server" title="Configure HQ Agent to Monitor WebLogic Server">Configure Hyperic Agent to Monitor WebLogic Server</a>. </p>

<h2><a name="SolvingAuto-DiscoveryProblems-AutoDiscoveringServerTypesonSolaris"></a>Auto-Discovering Server Types on Solaris </h2>

<p>A Hyperic Agent can fail to auto-discover some types of servers running under Solaris for a combination of reasons. </p>

<p>Solaris limits the length of the publicly-viewable process arguments struct member to 80 bytes, which can result in truncation of process arguments that the agent needs to read. To obtain all arguments, the agent will attempt to access the process address space file{{/proc/$pid/as}}and fail, if it lacks permission. </p>

<p>If the Hyperic Agent does not auto-discover servers under Solaris, run the agent as root, or grant the agent account permission to read /proc/$pid/ files within the Solaris 10 Least Privilege Model (LPM). For instructions, see <a href="Troubleshoot Agent and Server Problems.html#TroubleshootAgentandServerProblems-ConfigureAgentAccountPrivilegesunderSolaris10">Configure Agent Account Privileges under Solaris 10</a>. </p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jul 27, 2011 14:51</font></td>
		    </tr>
	    </table>
    </body>
</html>
