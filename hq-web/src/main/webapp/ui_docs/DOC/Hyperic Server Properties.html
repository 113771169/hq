<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : Hyperic Server Properties</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : Hyperic Server Properties
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699575384 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699575384 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699575384 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699575384'>
<ul>
    <li><a href='#HypericServerProperties-AboutHypericServerConfiguration'>About Hyperic Server Configuration</a></li>
<ul>
    <li><a href='#HypericServerProperties-ConfigurationSettingsinhqserver.conf'>Configuration Settings in hq-server.conf</a></li>
    <li><a href='#HypericServerProperties-ConfigurationSettingsintheDatabase'>Configuration Settings in the Database</a></li>
</ul>
    <li><a href='#HypericServerProperties-ServerPropertyDefinitions'>Server Property Definitions</a></li>
<ul>
    <li><a href='#HypericServerProperties-server.connectionvalidationsql'>server.connection-validation-sql</a></li>
    <li><a href='#HypericServerProperties-server.plugin.custom.dir'>server.plugin.custom.dir</a></li>
    <li><a href='#HypericServerProperties-server.database'>server.database</a></li>
    <li><a href='#HypericServerProperties-server.databaseblockingtimeout'>server.database-blockingtimeout</a></li>
    <li><a href='#HypericServerProperties-server.databasedriver'>server.database-driver</a></li>
    <li><a href='#HypericServerProperties-server.databasemaxpoolsize'>server.database-maxpoolsize</a></li>
    <li><a href='#HypericServerProperties-server.databaseminpoolsize'>server.database-minpoolsize</a></li>
    <li><a href='#HypericServerProperties-server.databasepassword'>server.database-password</a></li>
    <li><a href='#HypericServerProperties-server.databaseurl'>server.database-url</a></li>
    <li><a href='#HypericServerProperties-server.databaseuser'>server.database-user</a></li>
    <li><a href='#HypericServerProperties-server.encryptionkey'>server.encryption-key</a></li>
    <li><a href='#HypericServerProperties-server.hibernate.dialect'>server.hibernate.dialect</a></li>
    <li><a href='#HypericServerProperties-server.java.opts'>server.java.opts</a></li>
    <li><a href='#HypericServerProperties-server.jms.highmemory'>server.jms.highmemory</a></li>
    <li><a href='#HypericServerProperties-server.jms.maxmemory'>server.jms.maxmemory</a></li>
    <li><a href='#HypericServerProperties-server.mail.host'>server.mail.host</a></li>
    <li><a href='#HypericServerProperties-server.pluginsync.enable'>server.pluginsync.enable</a></li>
    <li><a href='#HypericServerProperties-server.quartzDelegate'>server.quartzDelegate</a></li>
    <li><a href='#HypericServerProperties-server.webapp.port'>server.webapp.port</a></li>
    <li><a href='#HypericServerProperties-server.webapp.secure.port'>server.webapp.secure.port</a></li>
    <li><a href='#HypericServerProperties-vfabric.licenseServer.url'>vfabric.licenseServer.url</a></li>
    <li><a href='#HypericServerProperties-ClusteringPropertiesinvFabricHyperic'>Clustering Properties in vFabric Hyperic</a></li>
</ul>
</ul></div>

<h1><a name="HypericServerProperties-AboutHypericServerConfiguration"></a>About Hyperic Server Configuration</h1>

<h2><a name="HypericServerProperties-ConfigurationSettingsinhqserver.conf"></a>Configuration Settings in hq-server.conf</h2>

<p><tt>hq-server.conf</tt> contains the configuration settings that Hyperic Server requires to start up and get ready for work. For instance, <tt>hq-server.conf</tt> has properties that tell the server how to connect to the database and where to listen for agent and web application communications.</p>

<p>When you install Hyperic Server, the selections you can make - port selections, use of plaintext or SSL communications, and so on - correspond to properties in <tt>hq-server.conf</tt>. The configuration settings you supply during installation are persisted in <tt>ServerHome/conf/hq-server.conf</tt>.</p>

<p>In addition to the properties that reflect installation choices, <tt>hq-server.conf</tt> contains properties with default values that you can modify, after installation, based on the your environment and the size of your Hyperic deployment. For example, there are properties in <tt>hq-server.conf</tt> that set defaults for database and JMS configuration options.</p>

<p>Each time Hyperic Server starts up, it reads the values of the properties in <tt>hq-server.conf</tt>.</p>

<p><b>Note:</b> Hyperic Server supports some properties that do not appear in <tt>hq-server.conf</tt> unless you add them explicitly.</p>

<p>After you change the values of properties in <tt>hq-server.conf</tt> or add new properties to the file, you must restart the server for the new settings to take effect.</p>

<h2><a name="HypericServerProperties-ConfigurationSettingsintheDatabase"></a>Configuration Settings in the Database</h2>

<p>Some of the configuration data that governs Hyperic Server behavior is stored in the Hyperic Server database. For example, the data Hyperic Server needs to contact an Hyperic Agent is stored in in the Hyperic Database. For information about how Hyperic Server obtains Hyperic Agent address information, see <a href="Agent Server Communications Diagram.html" title="Agent Server Communications Diagram">Agent Server Communications Diagram</a>.</p>


<h1><a name="HypericServerProperties-ServerPropertyDefinitions"></a>Server Property Definitions</h1>

<h2><a name="HypericServerProperties-server.connectionvalidationsql"></a>server.connection-validation-sql</h2>

<p><b>Description</b></p>

<p>The SQL query to run in order to validate a connection from the pool.</p>

<p><b>Default</b></p>

<p><tt>server.connection-validation-sql=select 1</tt></p>

<h2><a name="HypericServerProperties-server.plugin.custom.dir"></a>server.plugin.custom.dir</h2>
<p><b>Description</b> <br/>
The <tt>server.plugin.custom.dir</tt> property can be used to specify the location of the Hyperic's Server's custom plugin directory, rather than the default location described below.</p>

<p>To specify the location of the custom plugin directory, add <tt>server.plugin.custom.dir</tt> to <tt>ServerHome/conf/hq-server.conf</tt>, supplying the full path to the directory, and restart the Hyperic Server:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[server.plugin.custom.dir=FullDirectoryPath]]></script>
</div></div> 

<p>For more information about plugin deployment, see <a href="Plugin Deployment and Management.html" title="Plugin Deployment and Management">Plugin Deployment and Management</a>.</p>

<p><b>Default</b> </p>

<p>By default, the Hyperic Server stores custom plugins in a subdirectory of the current working directory of the Hyperic Server process &#8212; <tt>user.dir/hq-plugins</tt>. Note however that <tt>hq-server.conf</tt> does not contain the <tt>server.plugin.custom.dir</tt> property. You must add this property to the configuration file to specify a directory.</p>

<h2><a name="HypericServerProperties-server.database"></a>server.database</h2>


<p><b>Description</b></p>

<p>The kind of database the Hyperic Server will use.  <br/>
Valid values are: </p>

<ul>
	<li>PostgreSQL</li>
</ul>


<ul>
	<li>Oracle10g/11g</li>
</ul>


<ul>
	<li>MySQL Enterprise / Community Server 5.x</li>
</ul>




<p><b>Default</b></p>

<p>PostgreSQL</p>


<h2><a name="HypericServerProperties-server.databaseblockingtimeout"></a>server.database-blockingtimeout</h2>



<p><b>Description</b></p>

<p>Maximum time in milliseconds to wait for a connection from the pool.</p>

<p><b>Default</b></p>

<p>10000</p>


<h2><a name="HypericServerProperties-server.databasedriver"></a>server.database-driver</h2>

<p><b>Description</b></p>

<p>The JDBC driver to use. This property is rarely modified.  </p>

<p><b>Default</b></p>

<p>None. The value is set as a result of the database selected during Hyperic Server installation.</p>


<h2><a name="HypericServerProperties-server.databasemaxpoolsize"></a>server.database-maxpoolsize</h2>

<p><b>Description</b></p>

<p>The maximum number of database connections to keep in the pool. This must be set lower than the total number of connections allowed to the backend database.</p>

<p><b>Default</b></p>

<p>In Hyperic HQ and in vFabric Hyperic 4.6 and 4.6.0.1 the default value is 100.</p>

<p>In vFabric Hyperic 4.6.5 and later, the value of the property can vary by the installation profile for the Hyperic Server. </p>

<ul>
	<li>small &#8212; 100</li>
	<li>medium &#8212; 200</li>
	<li>large &#8212; 400</li>
</ul>


<p>For information about installation profiles and how to select one, see <a href="About Installation Profiles in vFabric Hyperic.html" title="About Installation Profiles in vFabric Hyperic">About Installation Profiles in vFabric Hyperic</a>.</p>


<h2><a name="HypericServerProperties-server.databaseminpoolsize"></a>server.database-minpoolsize</h2>


<p><b>Description</b></p>

<p>The minimum number of database connections to keep in the pool.</p>

<p>For information about the effect of this and other server properties on Hyperic performance, see <a href="Scaling and Tuning Hyperic Performance.html" title="Scaling and Tuning Hyperic Performance">Scaling and Tuning Hyperic Performance</a>. </p>


<p><b>Default</b></p>

<p>In Hyperic HQ and in vFabric Hyperic 4.6 and 4.6.0.1 the default value is 5.</p>

<p>In vFabric Hyperic 4.6.5 and later, the value of the property can vary by the installation profile for the Hyperic Server. </p>

<ul>
	<li>small &#8212; 5</li>
	<li>medium &#8212; 20</li>
	<li>large &#8212; 50</li>
</ul>


<p>For information about installation profiles and how to select one, see <a href="About Installation Profiles in vFabric Hyperic.html" title="About Installation Profiles in vFabric Hyperic">About Installation Profiles in vFabric Hyperic</a>.</p>


<h2><a name="HypericServerProperties-server.databasepassword"></a>server.database-password</h2>

<p><b>Description</b></p>

<p>The database user's password.</p>

<p><b>Default</b></p>

<p>hqadmin</p>



<h2><a name="HypericServerProperties-server.databaseurl"></a>server.database-url</h2>

<p><b>Description</b></p>

<p>The JDBC URL to connect to.</p>

<p><b>Default</b></p>

<p>None. The value is set as a result of the database selected during HQ Server installation.</p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> If you select... </th>
<th class='confluenceTh'> the default database URL is... </th>
</tr>
<tr>
<td class='confluenceTd'> HQ Built-in Databasel PostgreSQL </td>
<td class='confluenceTd'> <div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>postgresql://127.0.0.1:9432/hqdb?protocolVersion=2</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Oracle </td>
<td class='confluenceTd'> <div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>jdbc:oracle:thin:@localhost:1521:HYPERIC_HQ</pre>
</div></div></td>
</tr>
<tr>
<td class='confluenceTd'> MySql </td>
<td class='confluenceTd'> <div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>jdbc:mysql://localhost:3306/HQ</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> PostgreSQL (external) </td>
<td class='confluenceTd'> <div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>jdbc:postgresql://localhost:5432/HQ?protocolVersion=2</pre>
</div></div> </td>
</tr>
</tbody></table>
</div>



<h2><a name="HypericServerProperties-server.databaseuser"></a>server.database-user</h2>

<p><b>Description</b></p>

<p>The database user to connect as.</p>

<p><b>Default</b></p>

<p>hqadmin</p>



<h2><a name="HypericServerProperties-server.encryptionkey"></a>server.encryption-key</h2>

<p><b>Description</b> </p>

<p>The key for decrypting the Hyperic database user password. The key must be at least 8 characters long, and can contain letters and numbers.</p>

<p><b>Default</b> </p>

<p>None. The Hyperic installer prompts for <tt>server.encryption-key</tt> during Hyperic Server installation.  </p>




<h2><a name="HypericServerProperties-server.hibernate.dialect"></a>server.hibernate.dialect</h2>

<p><b>Description</b> </p>

<p>The database-specific dialect class used by Hibernate in HQ</p>

<p><b>Default</b> </p>

<p><tt>org.hyperic.hibernate.dialect.PostgreSQLDialect</tt></p>


<h2><a name="HypericServerProperties-server.java.opts"></a>server.java.opts</h2>

<p><b>Description</b></p>

<p>Options to pass to Java at Hyperic Server startup.</p>

<p>For information about the effect of this and other server properties on Hyperic performance, see <a href="Scaling and Tuning Hyperic Performance.html" title="Scaling and Tuning Hyperic Performance">Scaling and Tuning Hyperic Performance</a>. </p>

<p><b>Default</b><br/>
In Hyperic HQ and in vFabric Hyperic 4.6 and 4.6.0.1 the default value is: </p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[server.java.opts= -Djava.awt.headless=true -XX:MaxPermSize=192m -Xmx1g -Xms1g -XX:+HeapDumpOnOutOfMemoryError]]></script>
</div></div>

<p>In vFabric Hyperic 4.6.5 and later, the value of the property can vary by the installation profile for the Hyperic Server. </p>

<ul>
	<li>small &#8212; <tt>server.java.opts= -Djava.awt.headless=true -XX:MaxPermSize=192m -Xmx1g -Xms1g -XX:+HeapDumpOnOutOfMemoryError</tt></li>
	<li>medium &#8212; <tt>-Djava.awt.headless=true -XX:MaxPermSize=192m -Xmx4g -Xms4g -XX:+HeapDumpOnOutOfMemoryError</tt></li>
	<li>large &#8212; <tt>-Djava.awt.headless=true -XX:MaxPermSize=192m -Xmn4g -Xmx8g -Xms8g -XX:+HeapDumpOnOutOfMemoryError</tt></li>
</ul>


<p>For information about installation profiles and how to select one, see <a href="About Installation Profiles in vFabric Hyperic.html" title="About Installation Profiles in vFabric Hyperic">About Installation Profiles in vFabric Hyperic</a>.</p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Setting Hyperic Server Timezone</b><br />You can set the time zone for the JVM in which Hyperic Server runs by adding <tt>-Duser.timezone=Area/Location</tt> to <tt>server.java.opts</tt>, where:

<ul>
	<li><tt>Area</tt> &#8212; Is a continent or ocean, for example <tt>America</tt>}</li>
	<li><tt>Location</tt> &#8212; Is a city, with underbar (_) for embedded spaces, for example <tt>New_York</tt>.</li>
</ul>
</td></tr></table></div>
<p>For information about using different Java options when starting Hyperic Server, see <a href="Scaling and Tuning Hyperic Performance.html" title="Scaling and Tuning Hyperic Performance">Scaling and Tuning Hyperic Performance</a>.</p>


<h2><a name="HypericServerProperties-server.jms.highmemory"></a>server.jms.highmemory</h2>

<p><b>Description</b></p>

<p>The high memory mark for the JMS queue.</p>

<p>For information about the effect of this and other server properties on Hyperic performance, see <a href="Scaling and Tuning Hyperic Performance.html" title="Scaling and Tuning Hyperic Performance">Scaling and Tuning Hyperic Performance</a>.</p>

<p><b>Default</b></p>

<p>In Hyperic HQ and in vFabric Hyperic 4.6 and 4.6.0.1 the default value is 350.</p>

<p>In vFabric Hyperic 4.6.5 and later, the value of the property can vary by the installation profile for the Hyperic Server. </p>

<ul>
	<li>small &#8212; 350</li>
	<li>medium &#8212; 1600</li>
	<li>large &#8212; 3600</li>
</ul>


<p>For information about installation profiles and how to select one, see <a href="About Installation Profiles in vFabric Hyperic.html" title="About Installation Profiles in vFabric Hyperic">About Installation Profiles in vFabric Hyperic</a>.</p>


<h2><a name="HypericServerProperties-server.jms.maxmemory"></a>server.jms.maxmemory</h2>

<p><b>Description</b></p>

<p>Configures the JMS broker memory limit.</p>

<p>If the broker memory limit is reached, the broker will block the <tt>send()</tt> call until some messages are consumed and space becomes available on the broker.</p>

<p>The recommended setting for <tt>server.jms.maxmemory</tt> is 90% of the Java heap size. Erratic alert behavior or missed alerts may indicate the settings are too low.</p>

<p>For information about the effect of this and other server properties on Hyperic performance, see <a href="Scaling and Tuning Hyperic Performance.html" title="Scaling and Tuning Hyperic Performance">Scaling and Tuning Hyperic Performance</a>.</p>

<p><b>Default</b></p>

<p>In Hyperic HQ and in vFabric Hyperic 4.6 and 4.6.0.1 the default value is 400.</p>

<p>In vFabric Hyperic 4.6.5 and later, the value of the property can vary by the installation profile for the Hyperic Server. </p>

<ul>
	<li>small &#8212; 350</li>
	<li>medium &#8212; 1400</li>
	<li>large &#8212; 2400</li>
</ul>


<p>For information about installation profiles and how to select one, see <a href="About Installation Profiles in vFabric Hyperic.html" title="About Installation Profiles in vFabric Hyperic">About Installation Profiles in vFabric Hyperic</a>.</p>


<h2><a name="HypericServerProperties-server.mail.host"></a>server.mail.host</h2>


<p><b>Description</b></p>

<p>The IP or hostname of the SMTP server that the Hyperic server will use for sending alerts and other Hyperic-related emails. Most UNIX platforms have a local SMTP server, in which case localhost or 127.0.0.1 can be used here.</p>

<p><b>Default</b></p>

<p>127.0.0.1</p>

<h2><a name="HypericServerProperties-server.pluginsync.enable"></a>server.pluginsync.enable</h2>


<p><b>Description</b> <br/>
The <tt>server.pluginsync.enable</tt> property can be used to disable Hyperic's Server-Agent Plugin Synchronization (SAPS) feature, described in <a href="Plugin Deployment and Management.html" title="Plugin Deployment and Management">Plugin Deployment and Management</a>.</p>

<p>To disable SAPS, add this property setting to <tt>ServerHome/conf/hq-server.conf</tt>, and restart the Hyperic Server:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[server.pluginsync.enable=false]]></script>
</div></div> 

<p><b>Default</b> </p>

<p>SAPS is enabled by default. Note however that <tt>hq-server.conf</tt> does not contain the <tt>server.pluginsync.enable</tt> property. You must add this property to the configuration file to disable SAPS.</p>

<h2><a name="HypericServerProperties-server.quartzDelegate"></a>server.quartzDelegate</h2>

<p><b>Description</b></p>

<p>The database-specific plugin class used by HQ's internal scheduler service.</p>

<p>If you use Oracle as your HQ database, specify:</p>

<p>org.quartz.impl.jdbcjobstore.oracle.OracleDelegate</p>

<p>If you use the either HQ's internal PostgreSQL database or an external PostgreSQL database as your HQ database, specify:</p>

<p>org.quartz.impl.jdbcjobstore.PostgreSQLDelegate</p>

<p><b>Default</b></p>

<p>None. The value is set as a result of the database selected during HQ Server installation.</p>


<h2><a name="HypericServerProperties-server.webapp.port"></a>server.webapp.port</h2>

<p><b>Description</b></p>

<p>The HTTP listen port for the Hyperic web-based GUI.</p>

<p><b>Default</b></p>

<p>7080</p>


<h2><a name="HypericServerProperties-server.webapp.secure.port"></a>server.webapp.secure.port</h2>

<p><b>Description</b></p>

<p>The HTTPS listen port for the Hyperic web-based GUI.</p>

<p><b>Default</b></p>

<p>7443</p>

<h2><a name="HypericServerProperties-vfabric.licenseServer.url"></a>vfabric.licenseServer.url</h2>

<p>This property only applies to vFabric Hyperic servers acquired as a  part of vFabric Platform &#8212; it is ignored if you obtained vFabric Hyperic as a stand-alone component. </p>

<p>You can use <tt>vfabric.licenseServer.url</tt> to specify the URL of the VMware Licensing Server that administers your vFabric Platform license. Note that by default, <tt>ServerHome/conf</tt> does not contain <tt>vfabric.licenseServer.url</tt>. If you wish to define the location of the VMware License Server, you must add <tt>vfabric.licenseServer.url</tt> to <tt>ServerHome/conf</tt>. </p>
<h2><a name="HypericServerProperties-ClusteringPropertiesinvFabricHyperic"></a>Clustering Properties in vFabric Hyperic</h2>

<p>For information about properties for configuring a Hyperic Server cluster, see <a href="Clustering Hyperic Servers for Failover.html" title="Clustering Hyperic Servers for Failover">Clustering Hyperic Servers for Failover</a>.</p>



				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jan 20, 2012 10:07</font></td>
		    </tr>
	    </table>
    </body>
</html>
