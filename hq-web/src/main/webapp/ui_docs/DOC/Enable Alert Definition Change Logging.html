<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <b><a href="vFabric Hyperic 4.6.html" title="vFabric Hyperic 4.6 Documentation Home">vFabric Hyperic 4.6 Documentation Home (Internal)</a> - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6 Documentation Home (Online)</a> -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.0.html">Hyperic 4.6 Release Notes</a> </b>
<p>      
<p>
        <title>vFabric Hyperic 4.6 : Enable Alert Definition Change Logging</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6 : Enable Alert Definition Change Logging
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 07, 2011 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p>The HQ audit subsystem logs changes made to alert definitions.  When an alert definition is enabled, disabled, or deleted, the event is written to the database.  The information includes the username of the person who made the change.</p>

<p>You can configure HQ Server to also write the audit events to the <tt>server.log</tt> file in the server's <tt>logs</tt> directory.  To do so, add the following section to <tt>ServerHome/conf/server-log4j.xml</tt>, near the end of the file, before the <tt>root</tt> stanza.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;!-- Use this category to log every instance of a group alert firing.
          Comment out if the log messages become unwieldy. --&gt;
 &lt;category name="org.hyperic.hq.galerts.processor.MemGalertDef.Fired"&gt;
   &lt;priority value="DEBUG" /&gt;
 &lt;/category&gt;

 &lt;category
name="org.hyperic.hq.common.server.session.AuditManagerEJBImpl"&gt; &lt;!--SEE
HERE --&gt;
    &lt;priority value="DEBUG"/&gt;
 &lt;/category&gt;</pre>
		</div>
</div></div>

<p>The entries are written to <tt>logs/server.log</tt>, similar to the following:</p>


<p><tt>2009-03-18 15:56:20,088 INFO  [main][org.hyperic.hq.common.server.session.AuditManagerEJBImpl@259] Audit Manager starting up</tt><br/>
<tt>2009-03-18 15:58:28,223 DEBUG [main][org.hyperic.hq.common.server.session.AuditManagerEJBImpl@87] Audit:Audit[user=admin,purpose=12288,time=1237409692209,resource=,msg=HQ Started]</tt><br/>
<tt>2009-03-18 16:01:12,114 DEBUG [UserLoginListener1][org.hyperic.hq.common.server.session.AuditManagerEJBImpl@87] Audit:Audit[user=hqadmin,purpose=16384,time=1237410072113,resource=,msg=HQ Administrator logged in]</tt><br/>
<tt>2009-03-18 16:05:18,485 DEBUG [http-0.0.0.0-7080-4][org.hyperic.hq.common.server.session.AuditManagerEJBImpl@87]Audit:Audit[user=hqadmin,purpose=20482,time=1237410318484,resource=Linux,msg=Alert definition deleted (High Load)]</tt></p>

<p><font color=""></font></p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jul 29, 2011 14:43</font></td>
		    </tr>
	    </table>
    </body>
</html>
