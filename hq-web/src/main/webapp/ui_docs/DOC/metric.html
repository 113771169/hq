<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : metric</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : metric
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>


<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699852793 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699852793 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699852793 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699852793'>
<ul>
    <li><a href='#metric-ElementOverview'>Element Overview</a></li>
    <li><a href='#metric-Parentage'>Parentage</a></li>
    <li><a href='#metric-Contents'>Contents</a></li>
<ul>
    <li><a href='#metric-name'>name</a></li>
    <li><a href='#metric-alias'>alias</a></li>
    <li><a href='#metric-category'>category</a></li>
    <li><a href='#metric-units'>units</a></li>
    <li><a href='#metric-indicator'>indicator</a></li>
    <li><a href='#metric-collectionType'>collectionType</a></li>
    <li><a href='#metric-defaultOn'>defaultOn</a></li>
    <li><a href='#metric-interval'>interval</a></li>
    <li><a href='#metric-group'>group</a></li>
    <li><a href='#metric-rate'>rate</a></li>
    <li><a href='#metric-query'>query</a></li>
    <li><a href='#metric-template'>template</a></li>
</ul>
    <li><a href='#metric-Examples'>Examples</a></li>
<ul>
    <li><a href='#metric-templateforametricobtainedviaavendorAPI'>template for a metric obtained via a vendor API</a></li>
    <li><a href='#metric-templateformetricobtainedwithnetworkcollector'>template for metric obtained with network collector</a></li>
    <li><a href='#metric-templateformetricobtainedwithSIGAR'>template for metric obtained with SIGAR</a></li>
    <li><a href='#metric-templateformetricobtainedwithJDBC'>template for metric obtained with JDBC</a></li>
    <li><a href='#metric-templateformetricobtainedwithSQLQuery'>template for metric obtained with SQL Query</a></li>
    <li><a href='#metric-templateformetricobtainedwithJMX'>template for metric obtained with JMX</a></li>
    <li><a href='#metric-templateformetricobtainedwithscript'>template for metric obtained with script</a></li>
    <li><a href='#metric-templateformetricobtainedwithSNMP%2Cconstructedwithgloballyavailableconfig'>template for metric obtained with SNMP, constructed with globally available config</a></li>
</ul>
</ul></div>


<h1><a name="metric-ElementOverview"></a>Element Overview</h1>

<p>The <tt>&lt;metric&gt;</tt> element defines a metric to be obtained for a resource type.</p>

<p>Any attribute of a <tt>&lt;metric&gt;</tt> element is available as a variable, as described in <a href="Variables in Plugin Descriptors.html" title="Variables in Plugin Descriptors">Variables in Plugin Descriptors</a>.</p>

<h1><a name="metric-Parentage"></a>Parentage</h1>

<ul>
	<li><tt>&lt;metrics&gt;</tt> &#45; A &lt;metric&gt; element can be included in a named &lt;metrics&gt; element that can be included in resource elements by reference. For more information, see <tt><a href="metrics.html" title="metrics">metrics</a></tt>.</li>
</ul>


<ul>
	<li><tt>&lt;platform&gt;</tt> &#45; A <tt>&lt;metric&gt;</tt> at this level is associated with the platform type.</li>
</ul>


<ul>
	<li><tt>&lt;server&gt;</tt> &#45; A <tt>&lt;metric&gt;</tt> at this level is associated with the server type.</li>
</ul>


<ul>
	<li><tt>&lt;service&gt;</tt> &#45; A <tt>&lt;metric&gt;</tt> at this level is associated with the service  type.</li>
</ul>


<h1><a name="metric-Contents"></a>Contents</h1>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;metric&gt;
    name
    alias
    category
    defaultOn
    indicator
    collectionType
    units
    interval
    group
    rate
    template</pre>
		</div>
</div></div>

<h2><a name="metric-name"></a>name</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875689' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> y </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Name of the metric shown in the HQ UI. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> None </td>
</tr>
</tbody></table>
</div>


<h2><a name="metric-alias"></a>alias</h2>

<p></p>
<div class='table-wrap'>

<table id='TBL1321720875690' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Abbreviated name of the metric, displayed in the plugin output (name-value pairs).<br/>
In the case of a JMX measurement plugin, <tt>alias</tt> must exactly match the mbean attribute name. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> Value of name, stripped of spaces and non-alphanumeric content. </td>
</tr>
</tbody></table>
</div>


<h2><a name="metric-category"></a>category</h2>

<p></p>
<div class='table-wrap'>

<table id='TBL1321720875691' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> The category of metric; determines where a metric appears on HQ pages that organize metrics by category, like the example shown in the screenshot below. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> If the <tt>name</tt> attribute is set to "Availability", <tt>category</tt> defaults to AVAILABILITY, otherwise the default is UTILIZATION. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> AVAILABILITY <br class="atl-forced-newline" />
THROUGHPUT <br class="atl-forced-newline" />
PERFORMANCE <br class="atl-forced-newline" />
UTILIZATION </td>
</tr>
</tbody></table>
</div>


<p>The screenshot is the <b>Monitoring Defaults</b> page for the HTTP service type. Note that the metrics are listed by category.</p>

<p><span class="image-wrap" style=""><img src="attachments/79038211/79135323.png" width="600" style="border: 0px solid black"/></span></p>

<h2><a name="metric-units"></a>units</h2>

<p></p>
<div class='table-wrap'>

<table id='TBL1321720875692' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> The units of measurement for the metric's value, which affects the formatting applied in the HQ user interface. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> none <br class="atl-forced-newline" /> <br class="atl-forced-newline" />- <em>No formatting will be applied to metric values in the HQ user interface.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> percentage <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values will be shown as a percentage, for instance "100.0%".</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> B  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values are in bytes, for instance "12.5 B".</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> KB <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values are in kilobytes.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> MB  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values are in megabytes, for instance "14.5 KB".</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> GB  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values are in gigabytes, for instance "102.8 GB".</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> TB  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values are in terabytes, for instance "100.5 TB".</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> epoch-millis  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values are reported in number of milliseconds since Jan 1, 1970.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> epoch-seconds  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> - <em>Metric values will be shown in number of seconds since Jan 1, 1970.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> ns  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> - <em>Metric values will be shown in nanoseconds.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> mu  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> - <em>Metric values will be shown in microseconds.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> ms  <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> - <em>Metric values will be shown in_milliseconds.</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> jiffys <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> - <em>Metric values will be shown in Jiffies (1/100 of a second).</em> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> sec <br class="atl-forced-newline" />  <br class="atl-forced-newline" /> - <em>Metric values will be shown in seconds.</em>  </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> cents <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> -<em>Metric values will be shown in cents (1/100 of 1 US dollar).</em> </td>
</tr>
<tr>
<td class='confluenceTd'><b>Default</b> </td>
<td class='confluenceTd'> If <tt>units</tt> is not specified, default is "none", unless the <tt>name</tt> attribute is "Availability", in which case the default for <tt>units</tt> is "percentage".</td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
//Copyright(c)2005,2010 Bob Swift and other contributors. All rights reserved. 
function getElementInnerText(element){var str="";for(var i=0;i<element.childNodes.length;i++){switch(element.childNodes.item(i).nodeType){case 1:str+=getElementInnerText(element.childNodes.item(i));break;case 3:str+=element.childNodes.item(i).nodeValue;break;}}return str;}
function trimSafe(v){return((v==undefined)||(v==null))?"":v.Trim();}String.prototype.Trim=new Function("return this.replace(/^\\s+|\\s+$/g,'')");
function compareNumber(v1,v2){if(isNaN(v2)){if(isNaN(v1))return 0;return-1;}if(v1<v2)return-1;if(v1==v2)return 0;return 1;}
function compareSeparatedNumber(v1,v2){for(i=0;(i<v1.length)&&(i<v2.length);i++){var result=compareNumber(parseInt(v1[i]),parseInt(v2[i]));if(result!=0)return result;}if(v1.length<v2.length)return-1;if(v2.length<v1.length)return 1;return 0;}
function sortByCell(sortCell,firstDataRowIndex,footingCount){var compareFunction;var valueParser;compareFunction=compareNumber;if(sortCell.columnType=="I"){valueParser=function(value){return parseInt(getElementInnerText(value));};}else if(sortCell.columnType=="F"){valueParser=function(value){return parseFloat(getElementInnerText(value));};}else if(sortCell.columnType=="C"){valueParser=function(value){return parseFloat(getElementInnerText(value).replace(/[^\d\.\,\-]*([\d\.\,\-*]*).*/,'$1'));};}else if(sortCell.columnType.charAt(0)=='D'){if(Date.parseString){valueParser=function(value){var date=Date.parseString(trimSafe(getElementInnerText(value)),sortCell.columnType.substring(1));return((date==null)?NaN:date.getTime());};}else{valueParser=function(value){return Date.parse(getElementInnerText(value));};}}else if((sortCell.columnType=="/")||(sortCell.columnType==".")||(sortCell.columnType=="-")||(sortCell.columnType==":")){compareFunction=compareSeparatedNumber;valueParser=function(value){return getElementInnerText(value).split(sortCell.columnType);};}else if(sortCell.columnType=="A"){valueParser=function(value){return 0;};}else{compareFunction=function(v1,v2){if(v1<v2)return-1;if(v1==v2)return 0;return 1;};valueParser=function(value){return trimSafe(getElementInnerText(value)).toUpperCase();};}var headRowCount=(sortCell.sortTable.tHead==null)?0:sortCell.sortTable.tHead.rows.length;firstDataRowIndex=firstDataRowIndex-headRowCount;var table=sortCell.sortTable.tBodies[0];var rowCount=table.rows.length-firstDataRowIndex-footingCount;var map=Array(rowCount);var values=Array(rowCount);var compareTest=(sortCell.sortDescending?-1:1);sortCell.sortDescending=!sortCell.sortDescending;var firstCell=(((sortCell.sortTable.tHead==null)||(sortCell.sortTable.tHead.rows.length==0))?table.rows[0].cells[sortCell.columnIndex]:sortCell.sortTable.tHead.rows[0].cells[sortCell.columnIndex]);if((firstCell!=null)&&(firstCell.sortTable!=null)&&(firstCell.sortTable!=undefined)&&(firstCell.sortTable.sortImage!=null)&&(firstCell.sortTable.sortImage!=undefined)){firstCell.sortTable.sortImage.setAttribute("src",firstCell.sortDescending?firstCell.sortTable.sortAttributeDescending:firstCell.sortTable.sortAttributeAscending);firstCell.appendChild(firstCell.sortTable.sortImage);}var i;for(i=0;i<rowCount;i++){map[i]=sortCell.sortFirstTime?i:(rowCount-1-i);var row=table.rows[i+firstDataRowIndex];var cellValue=row.cells[sortCell.columnIndex];values[i]=valueParser(cellValue);}sortCell.sortFirstTime=false;var didSwap;do{didSwap=false;for(i=0;i<rowCount-1;i++){if(compareFunction(values[map[i]],values[map[i+1]])==compareTest){saveIndex=map[i];map[i]=map[i+1];map[i+1]=saveIndex;didSwap=true;}}}while(didSwap);var tableRows=new Array();for(i=0;i<rowCount+footingCount;i++){tableRows.push(table.rows[i+firstDataRowIndex]);}for(i=0;i<rowCount+footingCount;i++){table.removeChild(tableRows[i]);}for(i=0;i<rowCount;i++){var row=tableRows[map[i]];table.appendChild(row);if(row.autoNumber){row.cells[0].innerHTML=i+1;}}for(i=0;i<footingCount;i++){table.appendChild(tableRows[i+rowCount]);}}
function enableSortOnCell(cell,columnIndex,table,columnTypes,customize){cell.style.cursor="pointer";cell.sortTable=table;cell.sortFirstTime=true;cell.sortDescending=false;cell.columnIndex=(customize.autoNumber?(columnIndex+1):columnIndex);if(columnIndex==-1){cell.columnType="I";}else{cell.columnType=(columnTypes&&columnTypes[columnIndex])?columnTypes[columnIndex]:"S";}if(cell.columnType!="X"){cell.onmouseover=function(){this.saveTitle=this.getAttribute('title');this.setAttribute('title',customize.sortTip+" "+((this.saveTitle!=null)&&(this.saveTitle!=undefined)?this.saveTitle:''));};cell.onmouseout=function(){this.setAttribute('title',this.saveTitle);};cell.onclick=function(){sortByCell(this,customize.firstDataRowIndex,customize.footingCount);};}else{cell.columnType=cell.columnType.substring(1);}}
function sumColumn(table,index,firstDataRowIndex,columnType){var total=0;for(var i=firstDataRowIndex;i<table.rows.length;i++){var cell=table.rows[i].cells[index];var value;if(cell){if(columnType=='C'){value=parseFloat(getElementInnerText(cell).replace(/[^\d\.\,\-]*([\d\.\,\-*]*).*/,'$1'))}else{value=parseFloat(getElementInnerText(cell));}if(!isNaN(value)){total=total+value;}}}return total;}
function appendTotalRow(table,columnTypes,firstDataRowIndex){var row=document.createElement('tr');var table=table.tBodies[0];var columnCount=(0<table.rows.length)?table.rows[table.rows.length-1].cells.length:0;for(var columnIndex=0;columnIndex<columnCount;columnIndex++){var column=document.createElement('th');column.className='confluenceTh';column.innerHTML=(columnIndex<columnTypes.length&&((columnTypes[columnIndex]=='I')||(columnTypes[columnIndex]=='F')||(columnTypes[columnIndex]=='C')))?sumColumn(table,columnIndex,firstDataRowIndex,columnTypes[columnIndex]):'';row.appendChild(column);}table.appendChild(row);}
function handleRow(table,row,rowIndex,customize){var columnCount=row.cells.length;for(var i=0;i<columnCount;i++){if(customize.enableSorting&&(rowIndex<=customize.lastClickableRow)){enableSortOnCell(row.cells[i],i,table,customize.columnTypes,customize);}if((rowIndex==0)&&(customize.sortColumn!='')&&(customize.sortCell==null)&&(((i+1).toString()==customize.sortColumn)||(trimSafe(getElementInnerText(row.cells[i]))==customize.sortColumn)||(trimSafe(row.cells[i].getAttribute('title'))==customize.sortColumn))){customize.sortCell=row.cells[i];}if(customize.firstDataRowIndex<=rowIndex){if((customize.columnTypes[i]=="I")||(customize.columnTypes[i]=="F")||(customize.columnTypes[i]=="C")){row.cells[i].style.textAlign="right";}}if(customize.columnTypes[i]=="H"){row.cells[i].style.display="none";}if(customize.enableHeadingAttributes||(customize.firstDataRowIndex<=rowIndex)){if(i<customize.attrList.length){for(var j=0;j<customize.attrList[i].length;j++){var attr=customize.attrList[i][j].Trim().split("=");if(1<attr.length){var aName=attr[0].Trim();var aValue=attr[1].Trim();if((aName.toLowerCase()=="style")&&(2<aValue.length)){if((aValue.charAt(0)=='"')){aValue=aValue.substring(1,aValue.length-1);}row.cells[i].style.cssText=aValue;}else{row.cells[i].setAttribute(aName,aValue);}}}}}}if(customize.autoNumber){var column=document.createElement(!customize.autoNumberSort||(rowIndex<customize.firstDataRowIndex)?'th':'td');column.className=(!customize.autoNumberSort||(rowIndex<customize.firstDataRowIndex)?'confluenceTh':'confluenceTd');column.innerHTML=((rowIndex<customize.firstDataRowIndex)||(customize.totalRowCount-customize.firstDataRowIndex-customize.footingCount<rowIndex)?'':customize.dataRowCount++);column.setAttribute('align','right');row.autoNumber=!customize.autoNumberSort;row.insertBefore(column,row.cells[0]);if(customize.enableSorting&&customize.autoNumberSort&&(rowIndex<=customize.lastClickableRow)){enableSortOnCell(column,-1,table,null,customize);}}if((customize.highlightColor!="")&&(customize.firstDataRowIndex<=rowIndex)){row.onmouseover=function(){this.tableHighLightRowColor=this.bgColor;this.bgColor=customize.highlightColor;};row.onmouseout=function(){this.bgColor=this.tableHighLightRowColor;this.tableHighLightRowColor=null;};}}
function customizeMacroTable(tableId,columnTypes,firstDataRowIndex,highlightColor,enableSorting,sortTip,sortColumn,sortDescending,autoNumber,autoNumberSort,enableHeadingAttributes,footingCount,autoTotal,iconLocation){var customize=new Object;customize.columnTypes=columnTypes;customize.firstDataRowIndex=firstDataRowIndex;customize.highlightColor=highlightColor;customize.enableSorting=enableSorting;customize.sortTip=sortTip;customize.sortColumn=sortColumn;customize.sortDescending=sortDescending;customize.autoNumber=autoNumber;customize.autoNumberSort=autoNumberSort;customize.enableHeadingAttributes=enableHeadingAttributes;customize.footingCount=footingCount;customize.autoTotal=autoTotal;customize.iconLocation=iconLocation;var table=(typeof(tableId)=="string")?document.getElementById(tableId):null;if(table){if(customize.autoTotal){appendTotalRow(table,customize.columnTypes,customize.firstDataRowIndex);customize.footingCount++;}if(customize.iconLocation!=""){table.sortAttributeAscending=contextPath+customize.iconLocation+"down.gif";table.sortAttributeDescending=contextPath+customize.iconLocation+"up.gif";table.sortImage=document.createElement("IMG");}customize.lastClickableRow=customize.firstDataRowIndex-1;if(customize.lastClickableRow<0){customize.lastClickableRow=0;}customize.sortCell=null;customize.dataRowCount=1;var colAttrs=columnAttributes.split(",");customize.attrList=Array(colAttrs.length);for(var i=0;i<colAttrs.length;i++){customize.attrList[i]=colAttrs[i].Trim().split(";;");}var rowIndex=0;var headRowCount=(table.tHead==null)?0:table.tHead.rows.length;var footRowCount=(table.tFoot==null)?0:table.tFoot.rows.length;var bodyRowCount=table.tBodies[0].rows.length;customize.totalRowCount=headRowCount+footRowCount+bodyRowCount;for(var i=0;i<headRowCount;i++){var row=table.tHead.rows[i];handleRow(table,row,rowIndex,customize);rowIndex++;}for(var i=0;i<bodyRowCount;i++){var row=table.tBodies[0].rows[i];handleRow(table,row,rowIndex,customize);rowIndex++;}for(var i=0;i<footRowCount;i++){var row=table.tFoot.rows[i];handleRow(table,row,rowIndex,customize);rowIndex++;}if(customize.sortCell!=null){customize.sortCell.sortDescending=customize.sortDescending;sortByCell(customize.sortCell,customize.firstDataRowIndex,customize.footingCount);}}return table;}

var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875689', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> 
<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875690', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> 
<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875691', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> 
<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875692', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-indicator"></a>indicator</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875693' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> y </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Whether or not this metric is an indicator metric in HQ. Indicator metrics are charted on a resources <b>Indicators</b> tab in the HQ UI. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> true </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> false </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> None </td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875693', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-collectionType"></a>collectionType</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875694' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Describes the behavior of a metric's values over time. For example, the value of "Requests Served" will trend up as more and more requests are counted over time. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> dynamic - Metric value may go either up or down over time.  "Availability" is an example of a metric whose collectionType is "dynamic". </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> static - Metric value does not change. For example, a value that takes the form of a   timestamp. </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> trendsup - Metric value will increase, but not decrease.  For metrics whose collectionType is "trendsup", HQ automatically creates a derived metric that reports the rate at which the metric value increases per minute. If an automatically created rate metric's defaultOn attribute is "true", the defaultOn attribute for metric it is based upon will be set to "false" - so that you'll collect and display the only the rate metric, not the original metric). If you do not want HQ to generate a rate metric for a metrics whose collectionType is "trendsup", set rate to "none". </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> trendsdown - Value changes will always decrease.  Is above info for trendsup also valid for this section? </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> dynamic </td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875694', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-defaultOn"></a>defaultOn</h2>

<p>

<div class='table-wrap'>

<table id='TBL1321720875695' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Controls whether or not the metric is collected by default. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> true </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> false </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> &#42;"*true", if indicator=true.  Otherwise, &#42;"*false". </td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875695', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-interval"></a>interval</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875696' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Default collection interval. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> A numeric value, which is interpreted as milliseconds (ms). <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> If name attribute is Availability, defaults to 1, 5, and 10 minutes, for resources of types Platform, Server, or Service, respectively. </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> Otherwise, the default  depends on the value of collectionType: </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> If collectionType  is dynamic, default is 5 minutes </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> If  collectionType is trendsup or trendsdown, default is 10 minutes </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> If collectionType is static, 30 minutes </td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875696', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-group"></a>group</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875697' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875697', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-rate"></a>rate</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875698' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Specifies the time period for a rate measurement. Valid only for metrics whose collectionType is   trendsup. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <b>Values:</b> </td>
<td class='confluenceTd'> 1s </td>
<td class='confluenceTd'> 1 second </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> 1m </td>
<td class='confluenceTd'> 1 minute </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> 1h </td>
<td class='confluenceTd'> 1 hour </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<th class='confluenceTh'> disable automatically generated rate metric <br class="atl-forced-newline" /> </th>
</tr>
<tr>
<td class='confluenceTd'><b>Default:</b></td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875698', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h2><a name="metric-query"></a>query</h2>

<p>
<div class='table-wrap'>

<table id='TBL1321720875699' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> n </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> Can be used to specifies all or a portion of a query string, and referenced in a metric template. For example usage, see <a href="SQL Query Plugin.html" title="SQL Query Plugin">SQL Query Plugin</a>. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>


<h2><a name="metric-template"></a>template</h2>

<p></p>
<div class='table-wrap'>

<table id='TBL1321720875700' width='700px' class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <b>Required:</b> </td>
<td class='confluenceTd'> y </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Description:</b> </td>
<td class='confluenceTd'> The template attribute specifies the  information required  to obtain a specific metric. Every metric must have a template.  However, template attribute may not always be defined within theelement.  Often, template is defined in the root of a descriptor, using variables whose values are assigned in resource elements.  See Variables Simplify Metric Template Definitions <b>on page</b> and the examples below for more information. </td>
</tr>
<tr>
<td class='confluenceTd'> <b>Default:</b> </td>
<td class='confluenceTd'> none </td>
</tr>
</tbody></table>
</div>

<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875699', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> 
<script type='text/javascript'> <!-- 
var columnTypes = ['S'];
var columnAttributes = '';
customizeMacroTable('TBL1321720875700', columnTypes, 1, 'lightgoldenrodyellow', false, 'Click to sort', '', false, false, false, true, 0, false, '' );
//-->
 </script> </p>

<h1><a name="metric-Examples"></a>Examples</h1>


<h2><a name="metric-templateforametricobtainedviaavendorAPI"></a>template for a metric obtained via a vendor API</h2>

<p>This excerpt from the coldfusion-plugin shows a &lt;metric&gt; element that does not include an explicitly defined template attribute.  The &lt;filter&gt; element defines the template based on variables provided by config &lt;option&gt; elements ( %installpath% and %logfile%) and the metric's alias attribute.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;filter name="template"
        value="coldfusion-stats:installpath=%installpath%,logfile=%logfile%:$\{alias\}"/&gt;
&lt;metric name="Threads Listening For A New Connection"
        alias="listenTh"
        category="THROUGHPUT"
        indicator="false"
        collectionType="dynamic"
        units="none"/&gt;</pre>
		</div>
</div></div>

<h2><a name="metric-templateformetricobtainedwithnetworkcollector"></a>template for metric obtained with network collector</h2>

<p>The structure of a template for a network collector is:</p>

<p><tt>Protocol:hostname=HostName,port=PortNumber,ssl=yes:MetricName</tt></p>

<p>For example:</p>

<p>HTTP:hostname=www.hyperic.com,port=443,ssl=true:Availability</p>

<h2><a name="metric-templateformetricobtainedwithSIGAR"></a>template for metric obtained with SIGAR</h2>

<p>sigar:Type=&lt;QueryType&gt;:Arg=&lt;PtqlQuery&gt;:&lt;MetricName&gt;</p>

<p>Where PtqlQuery is in this form:</p>

<p>Class.Attribute.operator=value</p>

<p>Where:</p>
<ul>
	<li>Class is the name of the Sigar class minus the Proc prefix.</li>
	<li>Attribute is an attribute of the given Class, index into an array or key in a Map class.</li>
	<li>Operator=value is a string operation, e.g. eq, ne, ew, etc.</li>
</ul>


<p>Pid.PidFile.eq=%installpath%/log/zmconvertdmon.pid</p>

<h2><a name="metric-templateformetricobtainedwithJDBC"></a>template for metric obtained with JDBC</h2>

<p>DummyDomain:KeyProperties:MetricName</p>

<p>For example:</p>

<p>sybase:Type=Service,instance=Geniousity:Number of Indexes</p>

<h2><a name="metric-templateformetricobtainedwithSQLQuery"></a>template  for metric obtained with SQL Query</h2>

<p>sql:Query:MetricName</p>

<p>For example:</p>

<p>sql:SELECT COUNT(&#42;y) FROM MAILHOSTS:Number of Servers</p>

<h2><a name="metric-templateformetricobtainedwithJMX"></a>template for metric obtained with JMX </h2>

<p>(JSR 160 and connector method)</p>

<p>Domain:KeyProperties:MbeanAttribute</p>

<p>For example</p>

<p>org.apache.activemq:Type=Connector,BrokerName=broker1,ConnectorName=winConn:EnqueueCount</p>

<h2><a name="metric-templateformetricobtainedwithscript"></a>template for metric obtained with script</h2>
<p><a name="metric-ScriptMetricTemplate"></a></p>

<p><tt>exec:timeout=TIMEOUT,file=FILENAME,args=ARGUMENTS:METRIC</tt></p>

<p>where:</p>
<ul>
	<li>TIMEOUT &#8212; Time in seconds to wait for a response when the script runs. (optional, but recommended.)</li>
	<li>FILENAME &#8212; Name of script that returns the metric.</li>
	<li>ARGUMENTS &#8212; Space-separated list of argument values to pass to the script.</li>
	<li>METRIC &#8212; Name of the metric.</li>
</ul>


<p>For example:</p>

<p><tt>exec:file=pdk/scripts/device_iostat.pl,args=sda:w/s</tt></p>

<h2><a name="metric-templateformetricobtainedwithSNMP%2Cconstructedwithgloballyavailableconfig"></a>template for metric obtained with SNMP, constructed with globally available config</h2>

<p>The template below is constructed using a globally available configuration schema.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">template="${snmp.template}:cacheUptime"</pre>
		</div>
</div></div>

<p>The "snmp" schema is defined in HQ's netservices-plugin descriptor, as shown in this excerpt.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;config name="snmp" type="global"&gt;
  &lt;option name="snmpIp"
          description="SNMP agent IP address"
          default="127.0.0.1"/&gt;
  &lt;option name="snmpPort"
          description="SNMP agent port"
          type="port"
          default="161"/&gt;
  &lt;option name="snmpVersion"
          description="SNMP Version"
          type="enum"&gt;
    &lt;include name="v2c"/&gt;
    &lt;include name="v1"/&gt;
    &lt;include name="v3"/&gt;
  &lt;/option&gt;</pre>
		</div>
</div></div>

<p>In the template definition, </p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">${snmp.template}</pre>
		</div>
</div></div>

<p>is replaced by:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">snmp:snmpIP=*,snmpPort=*,snmpVersion=*</pre>
		</div>
</div></div>


<p>resulting in this template:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">snmp:snmpIP=*,snmpPort=*,snmpVersion=*:cacheUptime</pre>
		</div>
</div></div>




				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">
                                <h2>Attachments:</h2>
                            </a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037443/79135065.png">metric-1.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jan 20, 2012 10:08</font></td>
		    </tr>
	    </table>
    </body>
</html>
