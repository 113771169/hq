<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Hyperic HQ 4.0 and 4.1 Documentation : ui-Alert.Edit</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Hyperic HQ 4.0 and 4.1 Documentation : ui-Alert.Edit
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jul 15, 2009 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><em>Topics marked with</em> <font color="red"><em>&#42;</em></font> <em>relate to HQ Enterprise-only features.</em></p>
<p>On the <b>Alert Definition</b> page, you can edit an alert definition's properties and condition set, and define and edit the alert actions HQ should perform when the alert fires.  </p>

<p>The <b>Alert Definition</b> page, which appears when you save a new alert definition or edit an existing alert definition, is similar to the <b>New Alert</b> page, with the addition of <b>Edit</b> controls in the "Alert Properties" and "Condition Set" sections, and a set of tabs at the bottom of the page for defining alert actions.</p>

<style type='text/css'>/*<![CDATA[*/
div.rbtoc1247693270630 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1247693270630 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1247693270630 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1247693270630'>
<ul>
    <li><a href='#ui-Alert.Edit-EditAlertProperties'>Edit Alert Properties</a></li>
    <li><a href='#ui-Alert.Edit-EditAlertConditionSet'>Edit Alert Condition Set</a></li>
<ul>
    <li><a href='#ui-Alert.Edit-DefineAlertCondition'>Define Alert Condition</a></li>
    <li><a href='#ui-Alert.Edit-DefineAdditionalConditions'>Define Additional Conditions <span style="color: red">*</span></a></li>
    <li><a href='#ui-Alert.Edit-DefineRecoveryAlertBehavior'>Define Recovery Alert Behavior <span style="color: red">*</span></a></li>
    <li><a href='#ui-Alert.Edit-EnableActions'>Enable Actions <span style="color: red">*</span></a></li>
    <li><a href='#ui-Alert.Edit-EnableActionFilters'>Enable Action Filters</a></li>
</ul>
    <li><a href='#ui-Alert.Edit-CreateorEditAlertActions'>Create or Edit Alert Actions</a></li>
</ul></div>
<p><em>Feedback is welcome. Click <b>Add Comment</b> at the bottom of the page.</em></p>

<h2><a name="ui-Alert.Edit-EditAlertProperties"></a>Edit Alert Properties</h2>

<p>Click <img src="download/attachments/59375878/tbb_edit.gif" align="absmiddle" border="0"/> in "Alert Properties" section.&nbsp;</p>

<ul>
	<li><b>Name</b> &#45; Name assigned by the user creating an alert definition. A fired alert is identified, in the HQ user interface and alert notifications, by the alert definition name and a timestamp. An alert definition name should clearly communicate the nature of the problem. For example, "Down" for an alert on availability, or "Low Memory" for an alert on free memory.</li>
</ul>


<ul>
	<li><b>Description</b> &#45; Description entered by the user creating the alert definition.</li>
</ul>


<ul>
	<li><b>Priority</b> &#45; The severity of the problem, as defined by the person creating the alert definition:&nbsp; "Low", "Medium", or "High".&nbsp; A consistent policy for defining an alert definition priority makes it easier to triage problems appropriately.&nbsp; An alert's priority is shown in HQ pages that present alert status and in alert notifications. You can sort alerts by priority in HQ Enterprise's&nbsp; <b>Alert Center</b> or <b>Operations Center</b>.</li>
</ul>


<ul>
	<li><b>Active</b> &#45; The current enabled/disabled status of the alert definition. Alerts only fire for enabled alert definitions.  When an alert definition is disabled, HQ does not evaluate its condition or fire alerts for it.</li>
</ul>


<h2><a name="ui-Alert.Edit-EditAlertConditionSet"></a>Edit Alert Condition Set</h2>

<p>Click <img src="download/attachments/59375878/tbb_edit.gif" align="absmiddle" border="0"/> in "Condition Set" section.</p>
<h3><a name="ui-Alert.Edit-DefineAlertCondition"></a>Define Alert Condition</h3>

<p>An alert condition specifies a resource metric value or event that will initiate the alert firing process.</p>

<p>The condition types you can choose in the alert definition page vary by resource type and HQ version. If a condition type is not supported by your version of HQ or is not valid for the target resource, it will not appear as an option.</p>

<p>To define the alert condition, choose one of the following condition types, and select or enter the required parameter values.</p>
<ul>
	<li><b>Metric condition</b> &#45;&nbsp; Use this condition type to base the alert on the value of a metric that HQ collects for the resource. To create a metric condition:
	<ol>
		<li>Select a metric from the selector list.&nbsp; Only currently enabled metrics are listed.&nbsp; (If the metric you're looking for is not listed, see the note below.)</li>
		<li>Define the rule for evaluating the metric value.&nbsp; Choose one of the following options:
		<ul>
			<li>Metric value is greater than, less than, equal to, or not equal to the value you specify.</li>
			<li>Any change in metric value.</li>
			<li>In HQ Enterprise only:
			<ul>
				<li>Metric value is greater than, less than, equal to, or not equal to a percentage (specified as a decimal value less than 1) of the baseline value for the metric.&nbsp; Requires that baselining feature is enabled.&nbsp; For more information, see <a href="http://support.hyperic.com/confluence/display/DOC/Baselines" title="Baselines">Baselines</a>.</li>
			</ul>
			</li>
		</ul>
		</li>
	</ol>
	</li>
</ul>


<div class="panel" style="border-width: 1px;"><div class="panelHeader" style="border-bottom-width: 1px;"><b>To Enable Collection of a Metric</b></div><div class="panelContent">
<p>If you want to base a metric condition on a metric that is not currently collected, you have to enable collection of that metric. To do so, update the metric collection settings for the resource type (choose <b>Monitoring Defaults</b> from the <b>Administration</b> tab), or for the specific resource (click <b>Metrics</b> on the <b>Monitor</b> tab for the resource).</p>
</div></div>
<ul>
	<li><b>Inventory Property Condition</b> &#45; To define a condition that is triggered when the value of an inventory property for resource changes, select an inventory property.&nbsp; The pulldown contains only those inventory properties that are valid for the type of the resource to which the alert applies.</li>
</ul>


<ul>
	<li><b>Control Action Condition</b> &#45; When you define an alert for a resource that supports control actions, you can define a condition that is triggered when a particular control action is performed. If desired, you can base the condition on a control action with a particular result status: "in progress", "completed", or "failed".&nbsp; Pulldowns allow you to select a control action that the resource supports, and a result status if desired.</li>
</ul>


<ul>
	<li><b>Events/Log Level Condition</b> &#45; To define a condition that is triggered by a log event, select a message severity level ("error", "warn", "info", "debug", "all") and optionally a match string. The condition is satisfied each time a message of the selected severity that contains the match string (if one was specified) is written to a log file that HQ is tracking. Log tracking must be enabled for the resource. To determine the log files that HQ monitors for the resource, see the <b>Configuration Properties</b> section of the resource's <b>Inventory</b> tab. The log files that HQ monitors for a resource are defined using the <b>server.log_track.files</b> property. For configuration instructions, see&nbsp; see <a href="http://support.hyperic.com/confluence/display/DOC/Log+Tracking" title="Log Tracking">Log Tracking</a>.</li>
</ul>


<ul>
	<li><b>Config Changed... Condition</b> &#45; This type of condition is triggered by a change to a configuration file that HQ is configured to monitor for the resource. To limit the condition to a single file, enter its filename in the "match filename" field.&nbsp; If you don't specify a filename, a change to any file monitored will trigger the alert.&nbsp; To determine the log files that HQ monitors for the resource, see the <b>Configuration Properties</b> section of the resource's <b>Inventory</b> tab. The files that HQ monitors for a resource are defined using the <b>server.config_track.files</b> property. The maximum length for filename entered is&nbsp; 25 characters.&nbsp; For configuration instructions, see <a href="http://support.hyperic.com/confluence/display/DOC/Configuration+Tracking" title="Configuration Tracking">Configuration Tracking</a>.</li>
</ul>


<h3><a name="ui-Alert.Edit-DefineAdditionalConditions"></a>Define Additional Conditions<font color="red">&#42;</font></h3>

<p>In HQ Enterprise, you can define up to three conditions for an alert. To add another condition, click <b>Add Another Condition</b> and specify whether both the new condition and the preceding one must be satisfied for the alert to be triggered ("AND") or only one must be satisfied ("OR").</p>

<h3><a name="ui-Alert.Edit-DefineRecoveryAlertBehavior"></a>Define Recovery Alert Behavior<font color="red">&#42;</font></h3>

<p>To designate the alert you're defining as a recovery alert, select the primary alert definition from the pulldown. A recovery alert condition should detect when the condition that fired the primary alert is no longer true. When a recovery alert fires, it marks the primary alert "Fixed", and re-enables the primary alert definition. A recovery alert should be paired with a primary alert definition that is configured with the <b>Disable alert until marked fixed or by recovery alert</b> action, as described below in <a href="#ui-Alert.Edit-EnableActionFilters">Enable Action Filters</a>. For more information, see <a href="http://support.hyperic.com/confluence/display/DOC/Recovery+Alerts" title="Recovery Alerts">Recovery Alerts</a>.</p>

<h3><a name="ui-Alert.Edit-EnableActions"></a>Enable Actions<font color="red">&#42;</font></h3>

<p>In HQ Enterprise, you can use the <em>"Once every x times conditions are met within a time period of y minutes</em>" option to configure an alert definition to fire when its conditions occur multiple times in a time period, instead of every time the condition are met. Enter a period of time, and how many occurrences of the conditions within the period are required to fire the alert.</p>
<div class="panel" style="border-width: 1px;"><div class="panelHeader" style="border-bottom-width: 1px;"><b>Option removed in 4.1</b></div><div class="panelContent">
<p>In versions of HQ Enterprise previous to 4.1, you could configure an alert definition to fire when its conditions have meet met continuously for a specified portion of an period of time.&nbsp; the option - <em>"When conditions are exceeded for</em> <em>x within a time period of y</em> <em>minutes"</em> &#45; was removed in HQ 4.1.</p>
</div></div>

<h3><a name="ui-Alert.Edit-EnableActionFilters"></a>Enable Action Filters</h3>

<p>If you select this option, when the alert fires it will disable the alert definition to prevent it from firing again until the alert is fixed. Use this option if you don't want repeated alerts fired for the same triggering event.&nbsp; In HQ Enterprise, configure this behavior if you intend to assign a recovery alert to the current alert definition.  For more information, see <a href="http://support.hyperic.com/confluence/display/DOC/Recovery+Alerts" title="Recovery Alerts">Recovery Alerts</a></p>
<ul>
	<li><b>Disable alert until marked fixed or by recovery alert -</b> By default, an alert fires as soon as the condition or conditions are met, and fires again every time the conditions are re-evaluated and determined to be satisfied. If you choose this option, the alert definition will be disabled when an alert fires, and automatically re-enabled when the fired alert is marked "fixed", either manually or via a recovery alert.</li>
</ul>


<div class="panel" style="border-width: 1px;"><div class="panelHeader" style="border-bottom-width: 1px;"><b>Option removed in 4.2</b></div><div class="panelContent">
<p>Versions of HQ previous to 4.2 also had a <b>Filter notification actions that are defined for related alerts</b> option to prevent multiple notification when alerts fire for resources on the same platform. In HQ 4.2, the option was removed. HQ 4.2 provides enhanced functionality for global control of notification volume.&nbsp; For more information, see <a href="http://support.hyperic.com/confluence/display/DOC/Controlling+Alert+and+Notification+Volume#ControllingAlertandNotificationVolume-SetaNotificationThrottle">Set a Notification Throttle</a>.</p>
</div></div>

<h2><a name="ui-Alert.Edit-CreateorEditAlertActions"></a>Create or Edit Alert Actions</h2>

<p>You assign actions to an alert definition on the <b>Alert Definition</b> page, which is presented when you save a new alert definition or edit an existing alert definition. The <b>Alert Definition</b> page is similar to the <b>New Alert</b> page, with the addition of <b>Edit</b> controls in the "Alert Properties" and "Condition Set" sections, and a set of tabs at the bottom of the page for defining alert actions.</p>

<p>You can specify multiple actions to be performed automatically when an alert fires. The types of actions available in the <b>Alert Definition</b> page vary based on: (1) the type of resource the alert applies to, (2) your version of HQ, and (3) whether you've configured HQ for the types of actions that must be enabled before you can use them, such as escalations, OpenNMS trap actions, and in HQ Enterprise, SNMP trap actions.</p>

<p>To define an alert action, select one of the tabs and supply the required information:</p>
<ul>
	<li><b>Escalation</b> &#45; Select an escalation from the "Escalation "Scheme" pulldown; the tab refreshes and shows the escalation steps.&nbsp; You must define an escalation before you can assign it to an alert definition. Using escalations configured to repeat until the alert is fixed is a good way to prevent redundant alerts firing for the same problem. To create an escalation, click <b>Escalation Schemes Configuration</b> on the <b>Administration</b> tab. For more information about escalations, see <a href="http://support.hyperic.com/confluence/display/DOC/Escalation" title="Escalation">Escalation</a>.</li>
</ul>


<ul>
	<li><b>Control Action</b><font color="red">&#42;</font> &#45; In HQ Enterprise, you can define a resource control action for HQ to perform when the alert fires. The control action can target the current resource (the one to which the alert definition is assigned) or a different resource on the same platform, as long as the resource type has HQ-supported control actions. To configure a control action for the alert, select the <b>Control Action</b> tab, click <b>Edit</b>, and follow the instructions on <a href="ui-Alert.ControlAction.html" title="ui-Alert.ControlAction">ui&#45;Alert.ControlAction</a>.&nbsp; You can only assign a single control action to an alert definition. <b>Note:</b>&nbsp; Control actions cannot be defined for a resource type alert.</li>
</ul>


<ul>
	<li><b>Notify Roles</b><font color="red">&#42;</font> &#45; In HQ Enterprise you can specify one or more HQ roles as notification recipients. HQ users with a role you specify will be notified when an alert is fired.&nbsp; Click <b>Add to List</b> on the <b>Notify Roles</b> tab.&nbsp; On the roles selection page, choose the role(s) to be notified when the alert fires. The <a href="ui-Alert.Notification.html" title="ui-Alert.Notification">help page</a>has instructions.&nbsp; <b>Note</b>:&nbsp; For information about creating roles specifically for use in notfication actions, see in <a href="http://support.hyperic.com/confluence/display/DOC/HQ+Users+and+Roles#HQUsersandRoles-RoleBasedAlertNotifications">Role-Based Alert Notifications</a>.</li>
</ul>


<ul>
	<li><b>Notify HQ Users</b> &#45; Click <b>Add to List</b> on  this tab to specify one or more HQ uses as notification recipients. On the user selection page, choose the users to be notified when the alert fires. The <a href="ui-Alert.Notification.html" title="ui-Alert.Notification">help page</a>has instructions.&nbsp;</li>
</ul>


<ul>
	<li><b>Notify Other Recipients</b> &#45; Click <b>Add to List</b> on this tab to specify non-HQ user email recipients for alert notifications.&nbsp; The <a href="ui-Alert.Notification.html" title="ui-Alert.Notification">help page</a>has instructions.&nbsp;</li>
</ul>


<ul>
	<li><b>Script</b><font color="red">&#42;</font> &#45; In HQ Enterprise, to assign a script action to the alert definition, click the <b>Script</b> tab, enter the full path to the script, and click <b>Set</b>.&nbsp; HQ will run the script when the alert fires. Scripts can reference alert-related HQ environment variables to perform custom notification logic. For information, see <a href="ui-Alert.Script.html" title="ui-Alert.Script">Define a Script Action for an Alert</a>.</li>
</ul>


<ul>
	<li><b>OpenNMS</b> &#45; You can use this tab to configure HQ to send an SNMP trap to an OpenNMS system when the alert fires. Enter the the listen address and port of your OpenNMS server.&nbsp; The HQ Server must be configured for OpenNMS integration. For more information, see <a href="http://support.hyperic.com/confluence/display/hypcomm/HQU+OpenNMS" title="HQU OpenNMS">Enabling OpenNMS Integration</a>.</li>
</ul>


<ul>
	<li><b>SNMP Trap Action</b><font color="red">&#42;</font> &#45; This tab is present in HQ Enterprise if the HQ Server is configured for your SNMP server and traps are enabled. Enter the SNMP server's listen address and port, and the MIB object identifier (OID) for the trap. For information about enabling SNMP traps in HQ and configuring the HQ Server for your SNMP server, see <a href="http://support.hyperic.com/confluence/display/DOC/SNMP+Traps" title="SNMP Traps">SNMP Traps</a>.</li>
</ul>
 

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="download/attachments/59375878/tbb_edit.gif">tbb_edit.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="download/attachments/59375878/tbb_remove.gif">tbb_remove.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="download/attachments/59375878/tbb_set.gif">tbb_set.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="download/attachments/59375878/tbb_addtolist.gif">tbb_addtolist.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="download/attachments/59375878/tbb_removefromlist.gif">tbb_removefromlist.gif</a> (image/gif)
                                <br/>
                                                    </div>
				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/confluence/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jul 20, 2009 15:33</font></td>
		    </tr>
	    </table>
    </body>
</html>