<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Hyperic 4.6 Documentation : Upgrade Hyperic Components</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Hyperic 4.6 Documentation : Upgrade Hyperic Components
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 07, 2011 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>



<p>This section has instruction for upgrading your Hyperic deployment to a new version. You should upgrade both the Hyperic Server and the Hyperic Agent to the same version.</p>

<style type='text/css'>/*<![CDATA[*/
div.rbtoc1307466678196 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1307466678196 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1307466678196 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1307466678196'>
<ul>
    <li><a href='#UpgradeHypericComponents-UpgradeHypericServer'>Upgrade Hyperic Server</a></li>
    <li><a href='#UpgradeHypericComponents-UpgradeHyperic4.xAgents'>Upgrade Hyperic 4.x Agents</a></li>
    <li><a href='#UpgradeHypericComponents-UpgradeHyperic3.1.xand3.2.xAgents'>Upgrade Hyperic 3.1.x and 3.2.x Agents</a></li>
</ul></div>


<p><font color="gray"><em>Feedback is welcome. Click <b>Add Comment</b> at the bottom of the page.</em></font></p>




<div class="scroll-pagebreak"></div>

<h1><a name="UpgradeHypericComponents-UpgradeHypericServer"></a>Upgrade Hyperic Server</h1>

<p>You upgrade the Hyperic Server using the full installer, using the upgrade option. (The installer does not upgrade the Hyperic Agent.)</p>

<h2><a name="UpgradeHypericComponents-WhatHappensDuringServerUpgrade"></a>What Happens During Server Upgrade</h2>

<p>The installer installs a new version of Hyperic Server; it obtains the configuration information from your previous server installation and configures the new server instance accordingly.</p>

<p>If you use Hyperic's internal database, the installer creates a new database instance that contains the data from the existing instance. The new instance has an updated schema, but the PostgreSQL server itself in not upgraded to a new version.</p>

<p>If you use an external database, the installer updates the existing instance.</p>

<h2><a name="UpgradeHypericComponents-UpgradeHypericServeronUnixBasedPlatforms"></a>Upgrade Hyperic Server on Unix-Based Platforms</h2>

<ol>
	<li>Stop the current server instance. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/opt/hyperic/server-4.5.0/bin/hq-server.sh stop</pre>
		</div>
</div></div></li>
	<li><b>If you use an external Hyperic database, back it up before proceeding.</b></li>
	<li>Run the Hyperic installer in upgrade mode. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/opt/hyperic/hyperic-hq-installer/setup.sh -upgrade</pre>
		</div>
</div></div></li>
	<li>You are prompted to acknowledge the VMware license agreement.</li>
	<li>The installer prompts for the path to the previous Hyperic Server instance. Enter the path, for example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/opt/hyperic/server-4.5.0</pre>
		</div>
</div></div></li>
	<li>The installer prompts for the path to the new server instance. Enter the path to the directory under which the new server instance will be installed. For example, to install the new instance under your existing Hyperic home directory:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/opt/hyperic</pre>
		</div>
</div></div>
	<ul>
		<li>The installer will finish the upgrade.
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Update Java options</b><br />In this version of Hyperic, to avoid a known problem, after upgrading the Hyperic Server, you must edit the <tt>server.java.opts</tt> property in <tt>server.conf</tt> to add the <tt>&#45;Djava.awt.headless=true</tt> option.</td></tr></table></div></li>
	</ul>
	</li>
	<li>Archive your old Hyperic Server directory, so that if you want, you can revert to the previous version. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">tar -zcvf hq-server-4.5.0-archive.tgz hq-server-4.4.0-EE</pre>
		</div>
</div></div></li>
	<li>Start the new server instance. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/opt/hyperic/server-4.5.0/bin/hq-server.sh start</pre>
		</div>
</div></div></li>
</ol>


<h2><a name="UpgradeHypericComponents-UpgradeHypericServeronWindowsPlatforms"></a>Upgrade Hyperic Server on Windows Platforms</h2>

<ol>
	<li>Stop the existing server instance using the Windows Services Control Panel.</li>
	<li>Follow the instructions that apply, depending on whether you use the Hyperic built-in database or an external database:
	<ul>
		<li>If you use the built-in Hyperic database, the upgrade process will migrate your database schema to the latest edition. Note that PostgreSQL itself is not upgraded to the latest version that ships with Hyperic. The database server remains the one installed when you first installed Hyperic Server.</li>
		<li><b>If using an external database, back it up.</b></li>
	</ul>
	</li>
	<li>Run the Hyperic installer in upgrade mode:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">c:\hyperic\hyperic-hq-installer\setup.bat -upgrade</pre>
		</div>
</div></div></li>
	<li>You are prompted to acknowledge the SpringSource license agreement.</li>
	<li>The installer prompts for the path to the previous Hyperic Server instance. Enter the full path to your existing server installation, for instance:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">c:\hyperic\server-4.5.0</pre>
		</div>
</div></div></li>
	<li>The installer prompts for the path where the upgrade version should be installed. Enter the path to the directory that will contain the new server installation. For instance, to install the new instance under your existing Hyperic home directory:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">c:\hyperic\</pre>
		</div>
</div></div>
	<ul>
		<li>The installer will finish the upgrade.
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Update Java options</b><br />In this version of Hyperic, to avoid a known problem, after upgrading the Hyperic Server, you must edit the <tt>server.java.opts</tt> property in <tt>server.conf</tt> to add the <tt>&#45;Djava.awt.headless=true</tt> option.</td></tr></table></div></li>
	</ul>
	</li>
	<li>Archive your previous Hyperic Server directory so that if you wish you can revert to the previous version.</li>
	<li>Update the Windows Service with the new version information:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">c:\hyperic\server-4.5.0\bin\hq-server.bat install</pre>
		</div>
</div></div></li>
	<li>Start the upgraded Hyperic Server using the Windows Services Control Panel.</li>
</ol>


<h2><a name="UpgradeHypericComponents-SolvingProblemswithUpgradedServerswithanOracleDatabase"></a>Solving Problems with Upgraded Servers with an Oracle Database</h2>

<p>If you are upgrading an Hyperic installation with an Oracle backend and you experience any of the following errors during upgrade, follow the steps below to resolve the problem.</p>

<p><tt>Error updating EAM_SERVICE.SERVICE_TYPE_ID: java.sql.SQLException: ORA-02296: cannot enable (HQDBUSER.) - null values found</tt><br/>
<tt>Error executing statement desc=null SQL=[</tt><br/>
<tt>ALTER TABLE eam_stat_errors DROP CONSTRAINT rt_errs_fk_rstat CASCADE</tt><br/>
<tt>] java.sql.SQLException: ORA-02443: Cannot drop constraint - nonexistent constraint</tt></p>

<p>Fix this with these steps:</p>

<ol>
	<li>Restore your database from backup.</li>
	<li>Execute this SQL:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">DELETE FROM EAM_SERVICE WHERE SERVICE_TYPE_ID IS NULL;</pre>
		</div>
</div></div></li>
	<li>Re-run the upgrade.</li>
</ol>


<h2><a name="UpgradeHypericComponents-ClearBrowserCacheBeforeUsingthePortal"></a>Clear Browser Cache Before Using the Portal</h2>

<p>If you are upgrading to 4.x from a 3.2.x or 3.1.x version, before using the Hyperic user interface, users must clear the browser cache, or reload the Dashboard using the Shift Refresh key sequence.</p>

<p>If you do not clear the browser cache, portions of the Hyperic user interface may display improperly.</p>

<div class="scroll-pagebreak"></div>
<h1><a name="UpgradeHypericComponents-UpgradeHyperic4.xAgents"></a>Upgrade Hyperic 4.x Agents</h1>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Agent Name Unchanged by Upgrade Process</b><br />Note that if you upgrade a 4.x agent by pushing a new bundle from the Hyperic Server, the name of the agent is not changed. So, an agent name that contains the Hyperic version number &#8212; as is the default naming convention &#8212; reflects the originally installed version, rather than the version to which it has been upgraded. For example, if you push a 4.4 bundle to an agent whose name is "HQ Agent 4.3", the agent name will remain "HQ Agent 4.3".</td></tr></table></div>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>No Agent Build Number in Hyperic 4.5</b><br />Prior to Hyperic 4.5, the build number of a Hyperic Agent was a resource property that appeared the Hyperic user interface for an agent selected in the Resource Hub. Starting in Hyperic 4.5, there is no agent build number property. Note that if you upgrade a 4.x agent to 4.5 by pushing a new bundle from the Hyperic Server, the build number of the previous version of the agent still appears in the user interface, but does not apply to the 4.5 agent.</td></tr></table></div>

<h2><a name="UpgradeHypericComponents-PushAgentBundlefromtheHypericServer"></a>Push Agent Bundle from the Hyperic Server</h2>
<p><b>Available only in <font color="red">vFabric Hyperic</font></b></p>

<p>You can update one or more Hyperic Agents by pushing the new bundle to it from the Hyperic Server, using the Hyperic user interface. The bundle must reside in the /hq-agent-bundles directory of the HQ Server installation:<br/>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles</pre>
		</div>
</div></div>The agent upgrade command is available on the <b>Views</b> tab for an Hyperic Agent (or a group of agents). For more information, see <a href="ui-Views.AgentCommands.html" title="ui-Views.AgentCommands">Agent Control Commands</a>.</p>

<p><b>Note:</b> When you update an agent bundle, its previous agent configuration is preserved.</p>

<h2><a name="UpgradeHypericComponents-Upgradea4.xAgentBundleManually"></a>Upgrade a 4.x Agent Bundle Manually</h2>
<p><p><b>Available only in <font color="red">vFabric Hyperic</font></b></p>
Follow these steps if you wish to manually upgrade the agent bundle in your agent installation, instead of pushing the bundle from the Hyperic Server.</p>

<p><b>Note:</b> When you update an agent bundle, your previous agent configuration is preserved.</p>

<ol>
	<li>Copy the agent bundle (agent-4.x.y-nnn.tgz or agent-4.x.y-nnn.zip) from<br/>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles</pre>
		</div>
</div></div>to
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">AgentHome/bundles</pre>
		</div>
</div></div></li>
	<li>Unpack the agent bundle.</li>
	<li>Edit the rollback.properties file in <tt>AgentHome/conf</tt> to specify the location of the new agent bundle and the bundle it will supersede.
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Property </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Example </th>
</tr>
<tr>
<td class='confluenceTd'> HQ_AGENT_BUNDLE </td>
<td class='confluenceTd'> Name of directory with the new bundle, without full path specification. </td>
<td class='confluenceTd'> agent-4.5.0-EE-nnn </td>
</tr>
<tr>
<td class='confluenceTd'> HQ_AGENT&#95; <br class="atl-forced-newline" />
ROLLBACK_BUNDLE </td>
<td class='confluenceTd'> Name of directory with the old bundle (the one you are upgrading from), without full path specification. </td>
<td class='confluenceTd'> agent-4.5.0-EE-nnn </td>
</tr>
</tbody></table>
</div>
</li>
	<li>Restart the agent. For instructions, see <a href="Start, Stop, and Other Agent Operations.html#Start%2CStop%2CandOtherAgentOperations-RestarttheHypericAgent">Restart the Hyperic Agent</a>.</li>
</ol>


<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>First Agent Startup</b><br />The first time you start the agent, it will prompt for start settings. If you prefer, you can supply the settings in the agent properties file before starting the agent the first time. For instructions, see <a href="Configure Agent - Server Communication in Properties File.html" title="Configure Agent - Server Communication in Properties File">Configure Agent - Server Communication in Properties File</a>.</td></tr></table></div>

<p>If the upgrade to the new agent bundle fails, an attempt will be made to start the agent using the old agent bundle.</p>

<p>You can determine whether the upgrade was successful and what version you are running by looking at the log files in AgentHome/logs.</p>

<h2><a name="UpgradeHypericComponents-CreateaCustom4.xAgentUpgradeBundle"></a>Create a Custom 4.x Agent Upgrade Bundle</h2>
<p><a name="UpgradeHypericComponents-CustomBundle"></a></p>

<p><b>Available only in <font color="red">vFabric Hyperic</font></b></p>


<p>This section describes how to create a custom agent bundle. Pre-configuring the agent eases the process of upgrading multiple agents. For additional information, see <a href="Deploying Multiple Hyperic Agents.html" title="Deploying Multiple Hyperic Agents">Deploying Multiple Hyperic Agents</a>.</p>

<ol>
	<li>Back up an existing agent located in:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles</pre>
		</div>
</div></div>
	<ul>
		<li>For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">cp ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/agent-4.5.0-EE-nnn.tgz
ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/agent-4.5.0-EE-nnn.tgz.bak</pre>
		</div>
</div></div></li>
	</ul>
	</li>
	<li>Extract the bundle. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">tar xzf ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/agent-4.5.0-EE-nnn.tgz</pre>
		</div>
</div></div>
	<ul>
		<li>This results in a new directory corresponding to the agent bundle, like this:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/agent-4.5.0-EE-nnn</pre>
		</div>
</div></div></li>
	</ul>
	</li>
	<li>Update the contents of expanded directory. For instance, you could add custom plugins to the plugins directory:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/agent-4.5.0-EE-nnn/pdk/plugins</pre>
		</div>
</div></div></li>
	<li>Rename expanded directory to the name of custom agent bundle. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">mv ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/agent-4.5.0-EE-nnn
ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/my-bundle</pre>
		</div>
</div></div></li>
	<li>Pack up agent bundle, using the directory name from from the previous step as the tarball file name. For example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">tar cvf ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/my-bundle.tar
ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/my-bundle;
gzip ServerHome/hq-engine/hq-server/webapps/ROOT/WEB-INF/hq-agent-bundles/my-bundle</pre>
		</div>
</div></div></li>
</ol>


<h2><a name="UpgradeHypericComponents-Upgradea4.xAgentUsingaFullAgentPackage"></a>Upgrade a 4.x Agent Using a Full Agent Package</h2>

<p>These instructions apply to both Hyperic HQ and vFabric Hyperic. </p>

<p>To upgrade an Hyperic 4.x Agent using full the agent package:</p>
<ol>
	<li>Stop the 4.x agent.</li>
	<li>Preserve the existing agent configuration.
	<ul>
		<li>Back up the <tt>agent.properties</tt> file from your previous installation. The default location for <tt>agent.properties</tt> in 4.x installations is the <tt>AgentHome/conf</tt> directory.</li>
		<li>Note: In some Hyperic environments, <tt>agent.properties</tt> is stored in an alternative location that eases the process of automating the deployment of multiple agents. On Unix-based platforms, that location is the <tt>.hq</tt> subdirectory of the home directory of the user that runs the Agent. If your agent configuration is stored in that location, it will not be over-written by the new installation.</li>
	</ul>
	</li>
	<li>If the agent runs on Windows, uninstall the agent service from a command shell in <em>AgentHome</em>/bin:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hq-agent.bat remove</pre>
		</div>
</div></div></li>
	<li>Unpack the 4.y agent into the agent installation directory.</li>
	<li>On Windows, install the new agent service. In a command shell in <em>AgentHome</em>/bin enter:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hq-agent.bat install</pre>
		</div>
</div></div></li>
	<li>Start the agent. For instructions, see <a href="Start, Stop, and Other Agent Operations.html#Start%2CStop%2CandOtherAgentOperations-StarttheHypericAgent">Start the Hyperic Agent</a>.</li>
</ol>


<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>First Agent Startup</b><br />The first time you start the agent, it will prompt for start settings. If you prefer, you can supply the settings in the agent properties file before starting the agent the first time. For instructions, see <a href="Configure Agent - Server Communication in Properties File.html" title="Configure Agent - Server Communication in Properties File">Configure Agent - Server Communication in Properties File</a>.</td></tr></table></div>

<div class="scroll-pagebreak"></div>

<h1><a name="UpgradeHypericComponents-UpgradeHyperic3.1.xand3.2.xAgents"></a>Upgrade Hyperic 3.1.x and 3.2.x Agents</h1>

<p>These instructions apply to both Hyperic HQ and HQ Enterprise.</p>

<p>You must use an agent-only package to upgrade 3.1.x and 3.2.x agents to 4.x.</p>

<ol>
	<li>Stop the 3.1.x or 3.2.x agent.</li>
	<li>Unpack the 4.x agent into the agent installation directory.</li>
	<li>To preserve your previous configuration settings, copy property settings that you have customized from the 3.2.x or 3.1.x agent.properties file into the 4.x properties file, in <em>AgentHome</em>/conf.
	<ul>
		<li>There are new properties as of Hyperic 4.0, so you cannot use a 3.x properties file.</li>
	</ul>
	</li>
	<li>Install the Hyperic Agent service (Windows only):
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">AgentHome\bin\hq-agent.bat install</pre>
		</div>
</div></div></li>
	<li>Start the agent. For instructions, see <a href="Start, Stop, and Other Agent Operations.html#Start%2CStop%2CandOtherAgentOperations-StarttheHypericAgent">Start the Hyperic Agent</a>.</li>
</ol>


<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>First Agent Startup</b><br />The first time you start the agent, it will prompt for start settings. If you prefer, you can supply the settings in the agent properties file before starting the agent the first time. For instructions, see <a href="Configure Agent - Server Communication in Properties File.html" title="Configure Agent - Server Communication in Properties File">Configure Agent - Server Communication in Properties File</a>.</td></tr></table></div>

<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Upgrading from 3.x</b><br />When you first upgrade an HQ Enterprise 3.1.x or 3.2.x agent to 4.x, you cannot configure unidirectional communications at first startup. You must configure bidirectional communications at first startup of an agent upgraded from 3.x to 4.x, and then, follow the instructions in <a href="Configure Unidirectional Agent - Server Communication.html" title="Configure Unidirectional Agent - Server Communication">Configure Unidirectional Agent - Server Communication</a>.</td></tr></table></div>
<div class="scroll-pagebreak"></div>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 14, 2011 15:08</font></td>
		    </tr>
	    </table>
    </body>
</html>
