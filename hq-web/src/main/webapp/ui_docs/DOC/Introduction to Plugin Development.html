<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : Introduction to Plugin Development</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 4.6.5.html" title="vFabric Hyperic 4.6.5 Documentation Home">vFabric Hyperic 4.6.5 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6.5 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.5.html">Hyperic 4.6.5 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : Introduction to Plugin Development
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699804085 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699804085 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699804085 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699804085'>
<ul>
    <li><a href='#IntroductiontoPluginDevelopment-PluginDevelopmentCenter'> Plugin Development Center</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-WhatPluginsDo'>What Plugins Do</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-WhatRoletheServerandAgentPlayinPlugins'>What Role the Server and Agent Play in Plugins</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-TechnicalOverview'>Technical Overview</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-PluginImplementations'>Plugin Implementations</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-UsingSupportClassestoSimplifyYourPlugin'>Using Support Classes to Simplify Your Plugin</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-WritingaPlugin'>Writing a Plugin</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-TestingYourPlugin'>Testing Your Plugin</a></li>
    <li><a href='#IntroductiontoPluginDevelopment-DeployingYourPlugin'>Deploying Your Plugin</a></li>
</ul></div>


<h1><a name="IntroductiontoPluginDevelopment-PluginDevelopmentCenter"></a><a name="IntroductiontoPluginDevelopment-top"></a>Plugin Development Center</h1>

<p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>



<p>Plugins are the interface between Hyperic HQ and products on the network you want to manage. HQ can detect hundreds of products thanks to its standard plugins, but you can extend HQ's functionality to products (or parts of products) not yet covered by HQ by developing your own custom plugins. This page gives you an overview of plugins and points you to detailed instructions for specific plugin types.</p>

<p>All HQ bundled plugins are available in both the Enterprise and Open Source versions of HQ. The only difference is that, as reflected in the HQ feature list, plugins in the Enterprise version enable more management features.</p>

<p>For a soup-to-nuts lesson on writing your own custom plugins, please see <a href="Plugins Tutorial.html" title="Plugins Tutorial">Plugins Tutorial</a>.</p>



<p><a name="IntroductiontoPluginDevelopment-overview"></a></p>

<h1><a name="IntroductiontoPluginDevelopment-WhatPluginsDo"></a>What Plugins Do</h1>

<p>Plugin development requires an understanding of the HQ inventory model, described in <a href="Resources, Resource Types and Inventory Types.html" title="Resources, Resource Types and Inventory Types">Resources, Resource Types and Inventory Types</a> and of the management functions that plugins implement. For an overview of Hyperic management functions, see <a href="Introduction to Hyperic Monitoring.html" title="Introduction to Hyperic Monitoring">Introduction to Hyperic Monitoring</a>. Hyperic management functions include</p>

<ul>
	<li>Auto-Discovery &#8212; Plugins can implement auto-discovery of servers and services (<em>not</em> platforms, which are discovered via the <a href="Product Plugin.html" title="Product Plugin">Product plugin</a>). Custom plugins will usually just call Hyperic's built-in  <a href="ServerDetector.html" title="ServerDetector">ServerDetector</a> class. For more information about auto-discovery, see <a href="Resource Auto-Discovery Processes.html" title="Resource Auto-Discovery Processes">Resource Auto&#45;Discovery Processes</a>.</li>
</ul>


<ul>
	<li><em>Monitoring</em>: Plugins can implement metric collection, defining and collecting metrics and configuring them for display in the UI. <a href="Measurement Plugin.html" title="Measurement Plugin">Measurement plugins</a> implement monitoring.</li>
</ul>


<ul>
	<li><em>Control</em>: Plugins can implement Hyperic's resource control feature, defining control actions used to control resources. For more information, see <a href="Resource Control in Hyperic.html" title="Resource Control in Hyperic">Resource Control in Hyperic</a>. <a href="Control Plugin.html" title="Control Plugin">Control plugins</a> implement control.</li>
</ul>


<ul>
	<li><em>Event Traclomg</em></li>
</ul>


<p>In addition, the <a href="Product Plugin.html" title="Product Plugin">Product Plugin</a> provides the deployment entry point on both the Server and Agent. It defines the resource types and plugin implementations for measurement, control, and auto-discovery (auto-inventory).</p>

<p>You can use plugins discover, collect data from, and control resources; plugins cannot be used to change alerting, reporting, or similar, Server-side functionality.</p>



<h1><a name="IntroductiontoPluginDevelopment-WhatRoletheServerandAgentPlayinPlugins"></a>What Role the Server and Agent Play in Plugins</h1>

<p>Plugins must be deployed on both the Server and Agent. The Server and Agent each play different roles vis-a-vis plugins:</p>

<p>The Agent does the work of gathering all the data from resources and generally communicating with the resource. Using the plugin, the Agent can:</p>

<ul>
	<li>Auto-discover resources</li>
	<li>Collect resource metrics</li>
	<li>Perform supported control actions</li>
</ul>


<p>The Server deals in meta-data, which is to say, it knows about:</p>

<ul>
	<li>Platform, server, and service resource types and how the plugin's targeted resources map to the inventory model.</li>
	<li>The configuration schema for each resource.</li>
	<li>Presentation of resource data and metrics in the Hyperic user interface.</li>
	<li>Definition of control actions.</li>
</ul>


<h1><a name="IntroductiontoPluginDevelopment-TechnicalOverview"></a>Technical Overview</h1>

<p>Hyperic HQ plugins are self-contained .jar or .xml files which are deployed on both the Server and every Agent that you want to run the plugin. Every plugin contains, at a minimum, an XML descriptor, which is either a standalone .xml file or embedded in the .jar file.</p>

<p>For more information, see <a href="Plugin Descriptors.html" title="Plugin Descriptors">Plugin Descriptors</a>.</p>

<h1><a name="IntroductiontoPluginDevelopment-PluginImplementations"></a>Plugin Implementations</h1>

<p>For the sake of discussion, we'll call measurement, control, etc. the "types" of plugins. They can be created for any kind of resource. Depending on the kind of resource and how it communicates and surfaces its data, however, you will write different "implementations" of those plugin types. The different implementations are:</p>

<ul>
	<li><a href="Script Plugins.html" title="Script Plugins">Script</a></li>
</ul>


<ul>
	<li><a href="JMX Plugin.html" title="JMX Plugin">JMX</a></li>
</ul>


<ul>
	<li><a href="SQL Query Plugin.html" title="SQL Query Plugin">SQL</a></li>
</ul>


<ul>
	<li><a href="Write an SNMP Plugin.html" title="Write an SNMP Plugin">SNMP</a></li>
</ul>



<h1><a name="IntroductiontoPluginDevelopment-UsingSupportClassestoSimplifyYourPlugin"></a>Using Support Classes to Simplify Your Plugin</h1>

<p>HQ provides a bunch of "support classes" (that is, plugins) that you can invoke in your own plugins to abstract and simplify its construction. HQ provides the following support classes:</p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Category </th>
<th class='confluenceTh'> Support Classes </th>
<th class='confluenceTh'> When You Would Invoke This Support Class </th>
</tr>
<tr>
<td class='confluenceTd'> Scripting </td>
<td class='confluenceTd'> qmail, Sendmail, Sybase </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> SNMP </td>
<td class='confluenceTd'> Squid, Cisco IOS </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> JMX </td>
<td class='confluenceTd'> JBoss, WLS, WAS, ActiveMQ, Jetty </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> JDBC </td>
<td class='confluenceTd'> MySQL, PostgreSQL, Oracle </td>
<td class='confluenceTd'> To gather database system tables metrics </td>
</tr>
<tr>
<td class='confluenceTd'> Win-Perf Counters </td>
<td class='confluenceTd'> IIS, Exchange, DS, .NET </td>
<td class='confluenceTd'> To gather metrics from an application that surfaces perf counters </td>
</tr>
<tr>
<td class='confluenceTd'> SIGAR </td>
<td class='confluenceTd'> System, Process, Netstat </td>
<td class='confluenceTd'> To communicate with an operating system. SIGAR is HQ's proprietary OS-independent API. For more information see <a href="http://support.hyperic.com/display/SIGAR/Home">http://support.hyperic.com/display/SIGAR/Home</a>. </td>
</tr>
<tr>
<td class='confluenceTd'> Net Protocols </td>
<td class='confluenceTd'> HTTP, FTP, SMTP, etc. For more information see <a href="Network Platform Services.html" title="Network Platform Services">Network Platform Services</a>.</td>
<td class='confluenceTd'> To communicate with platform services that HQ already has built-in, but you might want to gather additional metrics from it </td>
</tr>
<tr>
<td class='confluenceTd'> Vendor </td>
<td class='confluenceTd'> Citrix, DB2, VMware </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>


<h1><a name="IntroductiontoPluginDevelopment-WritingaPlugin"></a>Writing a Plugin</h1>


<p>The interface with HQ plugins is simple. For example, the HQ-provided Measurement plugin has only one method (getValue); the Autoinventory plugin has only one method for each inventory level. The hard part of writing a plugin is figuring out:</p>

<ul>
	<li>How do you get the data out of the managed resource?</li>
</ul>


<ul>
	<li>Where should this data "live" in the inventory model? At what inventory level (platform, server, or service)?</li>
</ul>



<h1><a name="IntroductiontoPluginDevelopment-TestingYourPlugin"></a>Testing Your Plugin</h1>

<p>Please see <a href="Running and Testing Plugins from Command Line.html" title="Running and Testing Plugins from Command Line">Running and Testing Plugins from Command Line</a>.</p>

<h1><a name="IntroductiontoPluginDevelopment-DeployingYourPlugin"></a>Deploying Your Plugin</h1>

<p>Please see <a href="Plugin Deployment and Management.html" title="Plugin Deployment and Management">Plugin Deployment and Management</a>.</p>



				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Feb 22, 2012 14:07</font></td>
		    </tr>
	    </table>
    </body>
</html>
