<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : Set Up Log Tracking for a Resource</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 4.6.5.html" title="vFabric Hyperic 4.6.5 Documentation Home">vFabric Hyperic 4.6.5 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6.5 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.5.html">Hyperic 4.6.5 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : Set Up Log Tracking for a Resource
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p>View Source</p>
<p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>

 
<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699639030 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699639030 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699639030 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699639030'>
<ul>
    <li><a href='#SetUpLogTrackingforaResource-LogTrackingOverview'>Log Tracking Overview</a></li>
    <li><a href='#SetUpLogTrackingforaResource-ConfigureLogTracking'>Configure Log Tracking</a></li>
<ul>
    <li><a href='#SetUpLogTrackingforaResource-HypericResourceTypesthatSupportLogTracking'>Hyperic Resource Types that Support Log Tracking</a></li>
    <li><a href='#SetUpLogTrackingforaResource-SupportedLogMessageTypes'>Supported Log Message Types</a></li>
    <li><a href='#SetUpLogTrackingforaResource-LogTrackingConfigurationOptions'>Log Tracking Configuration Options</a></li>
<ul>
    <li><a href='#SetUpLogTrackingforaResource-LogTrackingforResourceswithLog4jLogs'>Log Tracking for Resources with Log4j Logs</a></li>
    <li><a href='#SetUpLogTrackingforaResource-LogTrackingforNetworkServices'>Log Tracking for Network Services</a></li>
    <li><a href='#SetUpLogTrackingforaResource-LogTrackingforWindowsPlatforms'>Log Tracking for Windows Platforms</a></li>
</ul>
</ul>
    <li><a href='#SetUpLogTrackingforaResource-ViewLogEvents'>View Log Events</a></li>
    <li><a href='#SetUpLogTrackingforaResource-DefiningAlertConditionsBasedonLogEvents'>Defining Alert Conditions Based on Log Events</a></li>
    <li><a href='#SetUpLogTrackingforaResource-LogTrackingSupportClasses'>Log Tracking Support Classes</a></li>
</ul></div> 
 

<h1><a name="SetUpLogTrackingforaResource-LogTrackingOverview"></a>Log Tracking Overview </h1>

<p>IT problems can often be detected or diagnosed from messages generated by operating systems, application servers, network services, or middleware throughout the environment. Hyperic can monitor messages in log files and in memory, and record events in the Hyperic database based on criteria you specify. &nbsp; </p>

<h1><a name="SetUpLogTrackingforaResource-ConfigureLogTracking"></a>Configure Log Tracking </h1>

<h2><a name="SetUpLogTrackingforaResource-HypericResourceTypesthatSupportLogTracking"></a>Hyperic Resource Types that Support Log Tracking </h2>

<p>Hyperic supports log tracking for operating system platforms, network services, and most server types. If a resource supports log tracking, its <b>Configuration Properties</b> page contains log tracking configuration options. </p>

<h2><a name="SetUpLogTrackingforaResource-SupportedLogMessageTypes"></a>Supported Log Message Types </h2>

<p>Hyperic can monitor and record events for: </p>
<ul>
	<li>Log file messages that specify log levels using log4j log levels.</li>
	<li>Events written to Windows Event Logs.</li>
	<li>Network request results for a variety of network services.</li>
</ul>


<h2><a name="SetUpLogTrackingforaResource-LogTrackingConfigurationOptions"></a>Log Tracking Configuration Options </h2>

<p>You enable and configure log tracking for a resource on its <b>Configuration Properties</b> page. Navigate to the resource's <b>Inventory</b> page, and click <b>Edit</b> in the <b>Configuration Properties</b> section to display the <b>Configuration Properties</b> page. </p>

<p><b>Note:</b> Log and configuration tracking must be enabled for a resource if you wish to log events for log messages or configuration changes. Event logging is automatic for alerts and control actions. Log tracking configuration options vary somewhat by resource type. </p>

<p>Log tracking options vary by resource type. See the following sections for more detail:</p>

<ul>
	<li><a href="#SetUpLogTrackingforaResource-LogTrackingforResourceswithLog4jLogs">Log Tracking for Resources with Log4j Logs</a></li>
	<li><a href="#SetUpLogTrackingforaResource-LogTrackingforNetworkServices">Log Tracking for Network Services</a></li>
	<li><a href="#SetUpLogTrackingforaResource-LogTrackingforWindowsPlatforms">Log Tracking for Windows Platforms</a></li>
</ul>


<h3><a name="SetUpLogTrackingforaResource-LogTrackingforResourceswithLog4jLogs"></a>Log Tracking for Resources with Log4j Logs </h3>

<p>This section describes the log tracking configuration options for resources that whose log files use logj4 levels. </p>

<p><span class="image-wrap" style=""><img src="attachments/79038211/79135328.png" style="border: 0px solid black"/></span> </p>

<p>An authorized user can set the values of these configuration options:</p>
<ul>
	<li>Enable/disable log tracking.</li>
	<li>Specify one or more files to track, as a comma-separated list. The Hyperic Agent must be able to read these files, so make sure permissions are set appropriately.</li>
	<li>Specify the highest log level to track:
	<ul>
		<li>Error - Messages with log level "FATAL" or "ERROR"</li>
		<li>Warn</li>
		<li>Info</li>
		<li>Debug</li>
	</ul>
	</li>
	<li>Specify substrings or expressions to use as include/exclude filter criteria. Enter a substring or a regular expression that a log message must contain or match in <b>Log Pattern Match</b>. For more information, see <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html">http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html</a>.</li>
</ul>


<h3><a name="SetUpLogTrackingforaResource-LogTrackingforNetworkServices"></a>Log Tracking for Network Services </h3>

<p>This section describes the log tracking configuration options for network services. </p>

<p><span class="image-wrap" style=""><img src="attachments/79038211/79135347.png" style="border: 0px solid black"/></span> </p>

<p>An authorized user can set the values of these configuration options:</p>
<ul>
	<li>Enable/disable log tracking.</li>
	<li>Specify the highest log level to track:
	<ul>
		<li>Error</li>
		<li>Warn</li>
		<li>Info</li>
		<li>Debug</li>
	</ul>
	</li>
	<li>Specify substrings or expressions to use as include/exclude filter criteria. Enter a substring or a regular expression that a log message must contain or match in <b>Log Pattern Match</b>. For more information, see <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html">http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html</a>.</li>
</ul>



<h3><a name="SetUpLogTrackingforaResource-LogTrackingforWindowsPlatforms"></a>Log Tracking for Windows Platforms </h3>
<p>This section describes the log tracking configuration options for platforms of type "win32". </p>

<p><span class="image-wrap" style=""><img src="attachments/79038211/79135327.png" style="border: 0px solid black"/></span> </p>

<p>An authorized user can set the values of these configuration options:</p>
<ul>
	<li>Enable/disable log tracking.</li>
	<li>Specify one or more Event Log to track:
	<ul>
		<li>System - contains events logged by Windows system components. For example, if a driver fails to load during startup, an event is recorded in the system log. Windows predetermines the events that are logged by system components.</li>
		<li>Application - contains events logged by programs. For example, a database program may record a file error in the application log. Events that are written to the application log are determined by the developers of the software program.</li>
		<li>Security - contains events such as valid and invalid logon attempts, as well as events related to resource use, such as the creating, opening, or deleting of files. For example, when logon auditing is enabled, an event is recorded in the security log each time a user attempts to log on to the computer. A Windows administrator or member of the Windows Administrators group specify which events are recorded in the security log.</li>
		<li>"*" causes all event logs to be tracked</li>
	</ul>
	</li>
	<li>Specify the highest log level to track:
	<ul>
		<li>Error - Windows Events with level "ERROR"&nbsp;</li>
		<li>Warn - Windows Events with level "WARNING"</li>
		<li>Info - Windows Events with level "INFORMATION" or "SUCCESS"</li>
		<li>Debug - No Windows Event types map to this level</li>
	</ul>
	</li>
</ul>


<h4><a name="SetUpLogTrackingforaResource-ContentofLoggedWindowsEvents"></a>Content of Logged Windows Events </h4>

<p>When Windows log tracking is enabled, an entry of this form is logged for events that match the criteria you specified on the resource's <b>Configuration Properties</b> page:</p>

<p>[Timestamp] Log Message (EventLogName):EventLogName:EventAttributes</p>

<p>where:</p>

<ul>
	<li><b><em>Timestamp</em></b> &#45; is when the event occurred</li>
	<li><b>Log Message</b> &#45; is an text string</li>
	<li><b><em>EventLogName</em></b> &#45; is the Windows event log type, "System", "Security", or "Application".</li>
	<li><b><em>EventAttributes</em></b> &#45; a colon delimited string made of the Windows event <b>Source</b> and <b>Message</b> attributes.</li>
</ul>


<p>For example, this log entry:&nbsp;</p>

<p>&nbsp;04/19/2010 06:06 AM&nbsp;Log Message (SYSTEM): SYSTEM: Print: Printer HP LaserJet 6P was paused.</p>

<p>is for an Windows event written to the Windows System event log at 6:06 AM on 04/19/2010. The Windows event <b>Source</b> and <b>Message</b> attributes, are "Print" and "Printer HP LaserJet 6P was paused.", respectively.</p> 

<h4><a name="SetUpLogTrackingforaResource-TailoringtheContentandFormatofLoggedWindowsEvents"></a>Tailoring the Content and Format of Logged Windows Events </h4>

<p>Tou can configure the last portion of the log data that the agent writes for a Windows event - referred to above as <b><em>EventAttributes</em></b>. You can include additional event attributes, for example <b>User</b> and <b>Computer</b>. To do so, you add the <tt>platform.log_track.eventfmt</tt> property to the <tt>agent.properties</tt> file for the Hyperic Agent monitoring the Windows platform.</p>

<p>Usage of <tt>platform.log_track.eventfmt</tt> property is described below.</p>

<h4><a name="SetUpLogTrackingforaResource-platform.logtrack.eventfmtProperty"></a>platform.log_track.eventfmt Property</h4>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Description</b>

<p>Specifies the content and format of the Windows event attributes that a Hyperic Agent includes when logging a  Windows event as an event in Hyperic. <tt>agent.properties</tt> does not contain the <tt>platform.log_track.eventfmt</tt> property, you must explicitly add it if you want to tailor the data logged for Windows events.</p>

<p><b>Default Behavior</b></p>

When Windows log tracking is enabled, an entry of this form is logged for events that match the criteria you specified on the resource's <b>Configuration Properties</b> page:

<p>[Timestamp] Log Message (EventLogName):EventLogName:EventAttributes</p>

<p>where:</p>

<ul>
	<li><b><em>Timestamp</em></b> &#45; is when the event occurred</li>
	<li><b>Log Message</b> &#45; is an text string</li>
	<li><b><em>EventLogName</em></b> &#45; is the Windows event log type, "System", "Security", or "Application".</li>
	<li><b><em>EventAttributes</em></b> &#45; a colon delimited string made of the Windows event <b>Source</b> and <b>Message</b> attributes.</li>
</ul>


<p>For example, this log entry:&nbsp;</p>

<p>&nbsp;04/19/2010 06:06 AM&nbsp;Log Message (SYSTEM): SYSTEM: Print: Printer HP LaserJet 6P was paused.</p>

<p>is for an Windows event written to the Windows System event log at 6:06 AM on 04/19/2010. The Windows event <b>Source</b> and <b>Message</b> attributes, are "Print" and "Printer HP LaserJet 6P was paused.", respectively.</p>

<p><b>Configuration</b></p>

<p>You can use the parameters below to configure the Windows event attributes that the agent writes for a Windows event. Each parameter maps to Windows event attribute of the same name.</p>

<ul>
	<li><tt>%user%</tt> &#8212;  The name of the user on whose behalf the event occurred.</li>
	<li><tt>%computer%</tt> &#8212; The name of the computer on which the event occurred.</li>
	<li><tt>%source%</tt> &#8212; The software that logged the Windows event.</li>
	<li><tt>%event%</tt> &#8212; A number identifying the particular event type.</li>
	<li><tt>%message%</tt> &#8212; The event message.</li>
	<li><tt>%category%</tt> &#8212; An application-specific value used for grouping events.</li>
</ul>


<p>For example, with this property setting:</p>

<p><tt>platform.log_track.eventfmt=%user%@%computer% %source%:%event%:%message%</tt></p>

<p>the Hyperic Agent will write the following data when logging Windows event:</p>

<div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>04/19/2010 06:06 AM Log Message (SYSTEM): SYSTEM: HP_Admistrator@Office Print:7:Printer HP LaserJet 6P was paused.</p>
</div></div>

<p>This entry is for as for an Windows event written to the Windows System event log at 6:06 AM on 04/19/2010. The software associated with the event was running as "HP_Administrator" on the host "Office". The Windows event's <b>Source,</b>&nbsp;<b>Event,</b> and&nbsp;<b>Message</b> attributes, are "Print", "7", and "Printer HP LaserJet 6P was paused.", respectively.</p></td></tr></table></div> 

<h1><a name="SetUpLogTrackingforaResource-ViewLogEvents"></a>View Log Events </h1>

<p>Log events for a particular resource are indicated in the timeline at the bottom of the resource's <b>Indicators</b> page. A circular indicator over the timeline indicates a timeslice in which one or more events of any type - log events, configuration change events, or alerts - were logged. Click the event indicator to view the data collected at that time. </p>

<p><span class="image-wrap" style=""><img src="attachments/79038211/79135329.png" style="border: 0px solid black"/></span> </p>

<p>In vFabric Hyperic, you can use the <b>Event Center</b> to view events over time for all, or selected groups of resources, and filter by log event severity. For more information see <a href="ui-Event.Center.html" title="ui-Event.Center">Event Center</a>. </p>

<h1><a name="SetUpLogTrackingforaResource-DefiningAlertConditionsBasedonLogEvents"></a>Defining Alert Conditions Based on Log Events </h1>

<p>For information about defining alert conditions based on log events see the "Step 3: Define Alert Condition Set" in <a href="Define an Alert for a Resource.html" title="Define an Alert for a Resource">Define an Alert for a Resource</a>. </p>

<h1><a name="SetUpLogTrackingforaResource-LogTrackingSupportClasses"></a>Log Tracking Support Classes </h1>

<p>For information about the Hyperic support class for log events for log file messages that specify a log4j level, see <tt><a href="Log4JLogTrackPlugin.html" title="Log4JLogTrackPlugin">Log4JLogTrackPlugin</a></tt>. </p>

<p>For information about the Hyperic support class for tracking Windows Event logs, see <tt>Win32EventTrackPlugin</tt>. </p>

<p>Plugin classes monitor network services log events using the <tt>plugin.getManager().reportEvent</tt> method.</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">
                                <h2>Attachments:</h2>
                            </a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135017.gif">fb_ok.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135018.gif">tbb_edit.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135019.gif">icon_hub_i.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135020.gif">tab_Inventory_on.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135021.gif">tab_Monitor_on.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135022.bmp">logTrackingBar.bmp</a> (image/bmp)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135023.gif">MiniTab_Indicators_on.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135024.gif">icon_hub_m.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135025.gif">icon_hub_a.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135026.gif">tab_Alert_on.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/79037281/79135027.gif">tbb_new.gif</a> (image/gif)
                                <br/>
                                                    </div>
				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Feb 22, 2012 14:06</font></td>
		    </tr>
	    </table>
    </body>
</html>
