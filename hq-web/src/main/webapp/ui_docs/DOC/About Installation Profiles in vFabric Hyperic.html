<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : About Installation Profiles in vFabric Hyperic</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : About Installation Profiles in vFabric Hyperic
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 18, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><b>Available only in <font color="red">vFabric Hyperic</font></b></p>

<style type='text/css'>/*<![CDATA[*/
div.rbtoc1326911669634 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1326911669634 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1326911669634 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1326911669634'>
<ul>
    <li><a href='#AboutInstallationProfilesinvFabricHyperic-DeploymentSizeandInstallationProfiles'>Deployment Size and Installation Profiles</a></li>
    <li><a href='#AboutInstallationProfilesinvFabricHyperic-ServerPropertyValuesforeachInstallationProfile'>Server Property Values for each Installation Profile</a></li>
    <li><a href='#AboutInstallationProfilesinvFabricHyperic-HowtoSelectanInstallationProfile'>How to Select an Installation Profile</a></li>
    <li><a href='#AboutInstallationProfilesinvFabricHyperic-HowtoUpdateanInstallationProfile'>How to Update an Installation Profile</a></li>
</ul></div> 

<blockquote>
<p><b>About this page...</b> </p>

<p>This page describes how the Hyperic installer in vFabric Hyperic 4.6.5 and later sets the values of key server properties that affect the system resources allocated to server processing. For information about: </p>
<ul>
	<li>blah &#8212; See xref</li>
	<li>blah &#8212; See xref</li>
</ul>

</blockquote> 

<h1><a name="AboutInstallationProfilesinvFabricHyperic-DeploymentSizeandInstallationProfiles"></a>Deployment Size and Installation Profiles</h1>

<p>Starting in vFabric 4.6.5, the Hyperic installer prompts you to select an installation profile based on the size of your Hyperic deployment.  Depending on the volume of platforms you will manage, you choose a "small", "medium", or "large" installation profile. </p>

<p>Based on the installation profile you select, the installer sets the values of a variety of Hyperic Server sizing properties in <tt>ServerHome\server.conf</tt> and <tt>ServerHome\hq-engine\hq-server\webapps\ROOT\WEB-INF\web.xml</tt>. The choice you make &#8212; "small", "medium", or "large" &#8212; determines the values of server properties that specify the Java options used to start the Hyperic Server, the server's JMS memory limits, the Hyperic database connection pool size, and the number of threads available to the Hyperic Server's internal application server. </p>

<h1><a name="AboutInstallationProfilesinvFabricHyperic-ServerPropertyValuesforeachInstallationProfile"></a>Server Property Values for each Installation Profile</h1>

<p>The table below lists the Hyperic Server properties whose values are set based upon the selected installation profile, and the values associated with "small", "medium", and "large" installation profile: </p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Property </th>
<th class='confluenceTh'> Small </th>
<th class='confluenceTh'> Medium </th>
<th class='confluenceTh'> Large </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>server.jms.highmemory</tt> </td>
<td class='confluenceTd'> 350 </td>
<td class='confluenceTd'> 1600 </td>
<td class='confluenceTd'> 3600 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>server.jms.maxmemory</tt> </td>
<td class='confluenceTd'> 400 </td>
<td class='confluenceTd'> 1400 </td>
<td class='confluenceTd'> 2400 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>server.database-minpoolsize</tt> </td>
<td class='confluenceTd'> 5 </td>
<td class='confluenceTd'> 20 </td>
<td class='confluenceTd'> 50 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>server.database-maxpoolsize</tt> </td>
<td class='confluenceTd'> 100 </td>
<td class='confluenceTd'> 200 </td>
<td class='confluenceTd'> 400 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>server.java.opts</tt> </td>
<td class='confluenceTd'> <tt>&#45;Djava.awt.headless=true</tt> <br class="atl-forced-newline" /> 
<tt>&#45;XX:MaxPermSize=192m</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xmx1g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xms1g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;XX:+HeapDumpOnOutOfMemory</tt> <br class="atl-forced-newline" /> 
<tt>Error</tt> </td>
<td class='confluenceTd'> <tt>&#45;Djava.awt.headless=true</tt> <br class="atl-forced-newline" /> 
<tt>&#45;XX:MaxPermSize=192m</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xmx4g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xms4g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;XX:+HeapDumpOnOutOfMemory</tt> <br class="atl-forced-newline" /> 
<tt>Error</tt> </td>
<td class='confluenceTd'> <tt>&#45;Djava.awt.headless=true</tt> <br class="atl-forced-newline" /> 
<tt>&#45;XX:MaxPermSize=192m</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xmn4g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xmx8g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;Xms8g</tt> <br class="atl-forced-newline" /> 
<tt>&#45;XX:+HeapDumpOnOutOfMemory</tt> <br class="atl-forced-newline" /> 
<tt>Error</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>tomcat.maxthreads</tt> (new) </td>
<td class='confluenceTd'> 500 </td>
<td class='confluenceTd'> 2000 </td>
<td class='confluenceTd'> 4000 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>tomcat.minsparethreads</tt> (new) </td>
<td class='confluenceTd'> 50 </td>
<td class='confluenceTd'> 100 </td>
<td class='confluenceTd'> 200 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>org.hyperic.lather.maxConns</tt> <br class="atl-forced-newline" /> 
(in <tt>ServerHome\hq-engine\hq-server</tt><br class="atl-forced-newline" /> 
<tt>webapps\ROOT\WEB-INF\web.xml</tt> </td>
<td class='confluenceTd'> 475 </td>
<td class='confluenceTd'> 1900 </td>
<td class='confluenceTd'> 3800 </td>
</tr>
</tbody></table>
</div>


<h1><a name="AboutInstallationProfilesinvFabricHyperic-HowtoSelectanInstallationProfile"></a>How to Select an Installation Profile</h1>

<p>The Hyperic installer you to select an installation profile size when you run it with the <tt>-full</tt> qualifier.  If you run the Hyperic with no qualifier, or a qualifier other than <tt>-full</tt>, default property values are set in accordance with the "small" profile. </p>

<p><a name="AboutInstallationProfilesinvFabricHyperic-UpdateScale"></a></p>
<h1><a name="AboutInstallationProfilesinvFabricHyperic-HowtoUpdateanInstallationProfile"></a>How to Update an Installation Profile</h1>

<p>If you want to change the installation profile after installing the Hyperic Server, or set an installation profile for a server you have upgraded to 4.6.5, run the Hyperic installer with the <tt>-updateScale</tt> qualifier. </p>

<ol>
	<li>Open a command shell.
	<ul>
		<li>On Unix-based platforms, enter:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">PathToInstaller/setup.sh -updateScale</pre>
		</div>
</div></div> </li>
		<li>On Windows platforms, enter:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">PathToInstaller\setup.bat -updateScale</pre>
		</div>
</div></div> </li>
	</ul>
	</li>
	<li>The installer will ask for the new profile and for the directory the server is installed in and will update <tt>hq-server.conf</tt>.</li>
</ol>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jan 20, 2012 10:07</font></td>
		    </tr>
	    </table>
    </body>
</html>
