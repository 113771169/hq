<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : service</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 4.6.5.html" title="vFabric Hyperic 4.6.5 Documentation Home">vFabric Hyperic 4.6.5 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 4.6.5 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-4.6.0.html">Hyperic 4.6.5 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : service
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>


<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699865321 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699865321 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699865321 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699865321'>
<ul>
    <li><a href='#service-ElementOverview'>Element Overview</a></li>
    <li><a href='#service-ElementStructure'>Element Structure</a></li>
    <li><a href='#service-ParentElements'>Parent Elements</a></li>
    <li><a href='#service-ChildAttributesandElements'>Child Attributes and Elements</a></li>
    <li><a href='#service-Examples'>Examples</a></li>
<ul>
    <li><a href='#service-servicedefinesservicethatrunsonaserver'>service defines service that runs on a server</a></li>
    <li><a href='#service-servicedefinesplatformservice'>service defines platform service</a></li>
</ul>
</ul></div>

<h1><a name="service-ElementOverview"></a>Element Overview</h1>

<p>The <tt>&lt;service&gt;</tt> element defines a service type. Like the <tt>&lt;platform&gt;</tt> and <tt>&lt;server&gt;</tt> elements - it defines the information and rules enable the plugin to manage a particular resource type.</p>

<h1><a name="service-ElementStructure"></a>Element Structure</h1>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;service&gt;
    name
    description
    internal
    &lt;filter&gt;
    &lt;property&gt;
    &lt;properties&gt;
    &lt;config&gt;
    &lt;plugin&gt;
    &lt;metric&gt;
    &lt;metrics&gt;
    &lt;actions&gt;
    &lt;help&gt;</pre>
		</div>
</div></div>

<h1><a name="service-ParentElements"></a>Parent Elements</h1>

<ul>
	<li><tt>&lt;plugin&gt;</tt> root &#8212; a <tt>&lt;service&gt;</tt> element in the descriptor root usually represents a platform service.</li>
</ul>


<ul>
	<li><tt>&lt;server&gt;</tt> &#8212; For regular services (not platform services) the <tt>&lt;service&gt;</tt> element is contained by a <tt>&lt;server&gt;</tt> element.</li>
</ul>


<h1><a name="service-ChildAttributesandElements"></a>Child Attributes and Elements</h1>

<ul>
	<li><tt>name</tt> &#8212; The name of the service type. Required.</li>
</ul>


<ul>
	<li><tt>description</tt> &#8212; Description of service type.</li>
</ul>


<ul>
	<li><tt>internal</tt> &#8212; This attribute was used in early versions of HQ.&nbsp; Not currently used.</li>
</ul>


<ul>
	<li><tt>&lt;filter&gt;</tt> &#8212; Defines variables that specify a pattern for the metric templates for a resource type (in this usage, a service type) and elements of the metric template, as desired. Strictly speaking, use of <tt>&lt;filter&gt;</tt> elements is optional, but most plugins use them because it is more efficient and less error-prone than defining the template for each metric explicitly. For more information, see <tt><a href="filter.html" title="filter">filter</a></tt> and <a href="Variables in Plugin Descriptors.html" title="Variables in Plugin Descriptors">Variables in Plugin Descriptors</a>.</li>
</ul>


<ul>
	<li><tt>&lt;property&gt;</tt> &#8212; Defines variables that can be referenced within the plugin descriptor and also by plugin classes. The use of <tt>&lt;property&gt;</tt> element is optional. For more information see <tt><a href="property.html" title="property">property</a></tt>.</li>
</ul>


<ul>
	<li><tt>&lt;properties&gt;</tt> &#8212; A container for one or more <tt>&lt;property&gt;</tt> elements. For more information, see <tt><a href="properties.html" title="properties">properties</a></tt>.</li>
</ul>


<ul>
	<li><tt>&lt;config&gt;</tt> &#8212; Defines a configuration schema, which consists of a set of <tt>&lt;option&gt;</tt> elements for a resource type (in this usage, a platform type). One or more <tt>&lt;config&gt;</tt> elements can be defined.</li>
</ul>


<ul>
	<li><tt>&lt;plugin&gt;</tt> &#45; Defines a plugin function - auto-discovery, measurement, etc - supported for the resource type, and the class to use for the function. For more information, see <tt><a href="plugin - Platform, Server and Service.html" title="plugin - Platform, Server and Service">plugin &#45; Platform, Server and Service</a></tt>.</li>
</ul>


<ul>
	<li><tt>&lt;metric&gt;</tt> &#8212; Defines the attributes of a metric, for the resource type, including its name, category, whether it is an indicator metric, how to collect it (metric template) etc. If the plugin performs measurement for the platform type, the plugin descriptor will contain a <tt>metric</tt> element for each metric it collects. For more information, see <tt><a href="metric.html" title="metric">metric</a></tt>.</li>
</ul>


<ul>
	<li><tt>&lt;metrics&gt;</tt> --&#45; A container for one or more <tt>&lt;metric&gt;</tt> elements. You can assign a name to <tt>&lt;metric&gt;</tt> elements, and reference it by name in other parts of the plugin descriptor. The use of the <tt>&lt;metrics&gt;</tt> element is optional. For more information, see <tt><a href="metrics.html" title="metrics">metrics</a></tt>.</li>
</ul>


<ul>
	<li><tt>&lt;help&gt;</tt> &#8212; Defines the help text that is displayed on the Configuration Properties for the resource type. For more information, see <tt><a href="help.html" title="help">help</a></tt>.</li>
</ul>


<h1><a name="service-Examples"></a>Examples</h1>


<h2><a name="service-servicedefinesservicethatrunsonaserver"></a>service defines service that runs on a server</h2>

<p>The <tt>&lt;service&gt;</tt> element from HQ's tomcat plugin descriptor below specifies a service that runs on a Tomcat server.&nbsp; Note that the&nbsp; <tt>&lt;service&gt;</tt> element is a child of a he <tt>&lt;server&gt;</tt> element.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;server name="Apache Tomcat"
          version="5.5"&gt;
          ......
          ......

         &lt;service name="Web Module Stats"&gt;
               &lt;property name="OBJECT_NAME"
                     value="${domain}:j2eeType=WebModule,name=*,J2EEApplication=*,J2EEServer=*"/&gt;
               &lt;plugin type="autoinventory"/&gt;
               &lt;plugin type="control"
                    class="org.hyperic.hq.product.jmx.MxControlPlugin"/&gt;
              &lt;actions include="stop,start,reload"/&gt;
              &lt;!-- listen for JMX notifications --&gt;
             &lt;plugin type="log_track"
                  class="org.hyperic.hq.product.jmx.MxNotificationPlugin"/&gt;
             &lt;config&gt;
                    &lt;option name="name"
                           description="Name Of Web Module"
                           default=""/&gt;
                    &lt;option name="J2EEApplication"
                           description="J2EE Application"
                           default=""/&gt;
                     &lt;option name="J2EEServer"
                          description="J2EE Server"
                      default=""/&gt;
              &lt;/config&gt;
             &lt;metric name="Availability"
                    indicator="true"/&gt;
             &lt;metric name="Processing Time"
                    alias="processingTime"
                    indicator="true"
                    template="${OBJECT_NAME}:${alias}"
                    units="sec"/&gt;
        &lt;/service&gt;</pre>
		</div>
</div></div>

<h2><a name="service-servicedefinesplatformservice"></a>service defines platform service</h2>

<p>The <tt>&lt;service&gt;</tt> element from HQ's netservices plugin descriptor below specifies a platform service. Note that the <tt>&lt;service&gt;</tt> element is in the root of the plugin descriptor.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">&lt;plugin name="netservices"&gt;

   ......
   ......

 &lt;service name="HTTP"
             description="HTTP/S Monitor"&gt;

      &lt;property name="DOMAIN" value="http,url.availability"/&gt;

      &lt;property name="port" value="80"/&gt;
      &lt;property name="sslport" value="443"/&gt;

      &lt;config include="http"/&gt;

      &lt;plugin type="collector"
              class="HTTPCollector"/&gt;

      &lt;plugin type="log_track"/&gt;

      &lt;metric name="Availability"
              indicator="true"/&gt;

      &lt;metric name="Response Code"
              indicator="true"
              template="${http.template}:${alias}"
              collectionType="static"/&gt;

      &lt;metric name="Response Time"
              indicator="true"
              category="Throughput"
              units="ms"/&gt;

      &lt;metric name="Last Modified"
              defaultOn="true"
              category="Availability"
              units="epoch-millis"
              collectionType="static"/&gt;

      &lt;metrics include="sockaddr-netstat"/&gt;
    &lt;/service&gt;</pre>
		</div>
</div></div>



				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Feb 07, 2012 15:58</font></td>
		    </tr>
	    </table>
    </body>
</html>
