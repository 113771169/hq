<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Hyperic 4.6 Documentation : Plugin Scaffolding</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Hyperic 4.6 Documentation : Plugin Scaffolding
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 07, 2011 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p>The contents of the files created by the HQU scaffolding task are included here for reference.</p>
<h1><a name="PluginScaffolding-Plugin.groovy"></a><b>Plugin.groovy</b></h1>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">import org.hyperic.hq.hqu.rendit.HQUPlugin

import _ControllerName_Controller

class Plugin extends HQUPlugin {
    Plugin() {
        /**
         * The following can be uncommented to have the plugin's view rendered in HQ.
         *
         * description:  The brief name of the view (e.g.: "Fast Executor")
         * attachType:   one of \['masthead', 'admin'\]
         * controller:   The controller to invoke when the view is to be generated
         * action:       The method within 'controller' to invoke
         * category:     (optional)  If set, specifies either 'tracker' or 'resource' menu
         */
        /*
        addView(description:  'A Groovy HQU-{_}plugin_name{_}',
                attachType:   'masthead', 
                controller:   _ControllerName{_}Controller,
                action:       'index', 
                category:     'tracker')
         */
    }
}</pre>
		</div>
</div></div>

<h1><a name="PluginScaffolding-ControllerName%7B%7D%7B%7DController.groovy"></a><em>ControllerName</em><b>Controller.groovy</b></h1>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">import org.hyperic.hq.hqu.rendit.BaseController

class _ControllerName{_}Controller 
 extends BaseController
{
    protected void init() {
        onlyAllowSuperUsers()
    }
    
    def index(params) {
        // By default, this sends views/{_}ControllerName{_}/index.gsp to
        // the browser, providing 'plugin' and 'userName' locals to it
        //
        // The name of the currently-executed action dictates which .gsp file 
        // to render (in this case, index.gsp).
        //
        // If you want to render AJAX, read RenderFrame.groovy for parameters.
     render(locals:\[ plugin :  getPlugin(),
                     userName: user.name\])  
    }
}</pre>
		</div>
</div></div>

<h1><a name="PluginScaffolding-index.gsp"></a>index.gsp</h1>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">Congrats! 
|Plugin Name| |
|Description| |
|Version| |
Your username is ${userName} 
The method named 'index' in app/_ControllerName_Controller.groovy was invoked to render this page. 
It then rendered views/_ControllerName_/index.gsp which you are reading. 
You'll also want to change the following files: 
/Users/mmcgarry/hq/ui_plugins/_plugin_name_/etc/_plugin_name__i18n.properties contains the description</pre>
		</div>
</div></div>

<h1><a name="PluginScaffolding-pluginnamei18n.properties"></a><b><em>plugin_name</em>_i18n.properties</b></h1>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false"># The following property is the localized description of the plugin, which
# is typically used as the link name in an attach point
_plugin_name_.description=[new plugin] _plugin_name_
Congrats=Congratulations</pre>
		</div>
</div></div>
<h1><a name="PluginScaffolding-plugin.properties"></a><b>plugin.properties</b></h1>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">plugin.name=_plugin_name_
plugin.helpTag=_plugin_name_.Help
plugin.version=_project.version_</pre>
		</div>
</div></div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 22, 2011 15:14</font></td>
		    </tr>
	    </table>
    </body>
</html>
