<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 5.7 : Configure and Manage Escalations</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 5.7.html" title="vFabric Hyperic 5.7 Documentation Home">vFabric Hyperic 5.7 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 5.7 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-5.7.html">Hyperic 5.7 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 5.7 : Configure and Manage Escalations
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699418427 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699418427 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699418427 li {margin-left: 0px;padding-left: 0px;}

/*]] >*/</style><div class='rbtoc1325699418427'>
<ul>
    <li><a href='#ui-Admin.Escalation-CreateanEscalation'>Create an Escalation</a></li>
<ul>
    <li><a href='#ui-Admin.Escalation-Step1CreateNewEscalationScheme'>Step 1 - Create New Escalation Scheme</a></li>
    <li><a href='#ui-Admin.Escalation-Step2CreateEscalationActions'>Step 2 - Create Escalation Actions</a></li>
<ul>
    <li><a href='#ui-Admin.Escalation-CreateanEmailorSMSAction'>Create an Email or SMS Action</a></li>
    <li><a href='#ui-Admin.Escalation-CreateaSysLogAction'>Create a Sys Log Action</a></li>
    <li><a href='#ui-Admin.Escalation-CreateanSNMPNotificationAction'>Create an SNMP Notification Action</a></li>
    <li><a href='#ui-Admin.Escalation-CreateaSuppressAlertsAction'>Create a Suppress Alerts Action</a></li>
</ul>
</ul>
    <li><a href='#ui-Admin.Escalation-ViewanEscalation'>View an Escalation</a></li>
    <li><a href='#ui-Admin.Escalation-EditanEscalation'>Edit an Escalation</a></li>
    <li><a href='#ui-Admin.Escalation-DeleteanEscalation'>Delete an Escalation</a></li>
</ul></div>

<p>For a description of the functionality that escalation schemes enable in Hyperic, see <a href="Alerts and Alert Definitions.html#AlertsandAlertDefinitions-escalation">Introduction to Escalations</a>.</p>
<h1><a name="ConfigureandManageEscalations-CreateanEscalation"></a>Create an Escalation</h1>
<h2><a name="ConfigureandManageEscalations-Step1CreateNewEscalationScheme"></a>Step 1 - Create New Escalation Scheme</h2>

<ol>
	<li>Click <b>Administration</b> in the masthead.</li>
	<li>Click <b>Escalation Schemes Configuration</b>.</li>
	<li>Enter values in the <b>Name</b> and optionally, the <b>Description</b> fields.</li>
	<li>Configure acknowledgment options in the "If the alert is acknowledged" section:
	<ul>
		<li><b>Allow user to pause escalation for</b> &#45; Click to enable a user to pause the escalation when acknowledging the alert. Select "Until Fixed" or a duration from the pulldown list. (Options range from 5 minutes to 72 hours.) A user  acknowledging an alert  with this escalation will have the option of pause the escalation process for the period you specify.</li>
		<li><b>Continue escalation without pausing</b> &#45; With this default value, a user  acknowledging an alert with this escalation will not be offered the option to pause the escalation</li>
	</ul>
	</li>
	<li>Configure state change notification options in the "If the alert state has changed" section:
	<ul>
		<li><b>Notify previously notified users of the change</b> &#45; With this default setting, when the state of the alert changes, state change notifications will be sent only to recipients who have already received a notification in previous escalation steps.</li>
		<li><b>Notify entire escalation of the change</b> &#45; Click if you want alert state change notifications to be sent to every notification recipient in the escalation - whether or not they have received a previous notification.</li>
	</ul>
	</li>
	<li>Configure escalation repeat behavior in the "If alert is fixed" section:
	<ul>
		<li><b>Stop escalation execution</b> &#45; With this default setting, the escalation will not be repeated for an alert that is unfixed at the end of the escalation.</li>
		<li><b>Repeat escalation actions</b> &#45; Click to repeat the escalation process if the alert has not been fixed by the end of the escalation.</li>
	</ul>
	</li>
	<li>Click <b>Next Step</b>.</li>
</ol>


<h2><a name="ConfigureandManageEscalations-Step2CreateEscalationActions"></a>Step 2 - Create Escalation Actions</h2>

<p>After performing <a href="#ConfigureandManageEscalations-Step1CreateNewEscalationScheme">Step 1 - Create New Escalation Scheme</a>:</p>
<ol>
	<li>On the <b>Escalation Configuration</b> page, click <b>Create Action.</b></li>
	<li>In the <b>Create Escalation Scheme Actions</b> section, select an action type and proceed to the directions for that type.
	<ul>
		<li>Email - <a href="#ConfigureandManageEscalations-CreateanEmailorSMSAction">Create an Email or SMS Action</a></li>
		<li>SMS - <a href="#ConfigureandManageEscalations-CreateanEmailorSMSAction">Create an Email or SMS Action</a></li>
		<li>Sys Log - <a href="#ConfigureandManageEscalations-CreateaSysLogAction">Create a Sys Log Action</a></li>
		<li>SNMP Trap - <a href="#ConfigureandManageEscalations-CreateanSNMPNotificationAction">Create an SNMP Notification Action</a></li>
		<li>Suppress Alert - <a href="#ConfigureandManageEscalations-CreateaSuppressAlertsAction">Create a Suppress Alerts Action</a></li>
	</ul>
	</li>
</ol>


<h3><a name="ConfigureandManageEscalations-CreateanEmailorSMSAction"></a>Create an Email or SMS Action</h3>

<p>After selecting the "Email" or "SMS" action type:</p>
<ol>
	<li>Select a notification target type from the <b>Choose Who to Notify</b> pulldown:
	<ul>
		<li>Notify Roles<font color="red">&#42;</font> &#45; You will be prompted to select one or more Hyperic roles. The Hyperic users with those role assignments will be notified.</li>
		<li>Notify HQ Users - You will be prompted to select one or more Hyperic users to be notified.</li>
		<li>Notify Other Recipients - You will be prompted to enter a  comma-separated email list of the email addresses for the individuals you be notified.</li>
	</ul>
	</li>
	<li>Leave "continue" selected if you want the next step in the escalation to occur immediately after the current one. To specify a delay before the next step is performed, select an interval from the pulldown. The intervals range from 5 minutes to 24 hours.</li>
	<li>Click <b>Save</b>.</li>
	<li>Repeat <a href="#ConfigureandManageEscalations-Step2CreateEscalationActions">Step 2 - Create Escalation Actions</a> to add another step to the escalation, as desired</li>
</ol>


<h3><a name="ConfigureandManageEscalations-CreateaSysLogAction"></a>Create a Sys Log Action</h3>

<p>This option is available if the configuration described in <a href="Enable Syslog Notifications for Escalations.html" title="Enable Syslog Notifications for Escalations">Enable Syslog Notifications for Escalations</a> has been performed.</p>

<p>After selecting the "Sys Log" action type:</p>
<ol>
	<li>Supply the value for these segments of the syslog message:
	<ul>
		<li><b>meta</b></li>
		<li><b>product</b></li>
		<li><b>version</b></li>
	</ul>
	</li>
	<li>Leave "Then continue" selected if you want the next step in the escalation to occur immediately after the current one. To specify a delay before the next step is performed, select an interval from the pulldown. The intervals range from 5 minutes to 24 hours.</li>
	<li>Click <b>Save</b>.</li>
	<li>Repeat <a href="#ConfigureandManageEscalations-Step2CreateEscalationActions">Step 2 - Create Escalation Actions</a> to add another step to the escalation.
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>About Syslog Notifications</b><br />You can enable Hyperic to issue a syslog notification as a step in an alert escalation. The notification will log a line in the following format:

<p><tt>SyslogAction[ALERT_ID]: DB_1 4 META/PRODUCT/VERSION RESOURCE_NAME : ALERT_NAME - ALERT_CONDITION</tt></p>

<p>where:</p>
<ul>
	<li><tt>ALERT_ID</tt> is a number representing the alert ID in HQ.</li>
	<li><tt>META</tt> is the "Meta" string configured for the syslog action in the escalation.</li>
	<li><tt>PRODUCT</tt> is the "Product" string configured for the syslog action in the escalation.</li>
	<li><tt>VERSION</tt> = is the "Version" string configured for the syslog action in the escalation.</li>
	<li><tt>RESOURCE_NAME</tt> identifies the resource for which the alert was fired.</li>
	<li><tt>ALERT_NAME</tt> identifies the alert definition that fired the alert.</li>
	<li><tt>ALERT_CONDITION</tt> is the alert condition and reported measurement that led to the alert firing, for example, "If Availability &gt; 0.0 (actual value = 1)")</li>
</ul>
</td></tr></table></div></li>
</ol>


<h3><a name="ConfigureandManageEscalations-CreateanSNMPNotificationAction"></a>Create an SNMP Notification Action</h3>

<p>You can define an SNMP notification to be performed as a step in an escalation if the Hyperic Server is configured for your NMS. See "SNMP Server Configuration Properties" on <a href="ui-Admin.HQServer.html" title="ui-Admin.HQServer">Hyperic Server Settings help page</a> for more information.</p>

<p>The trap or inform sent when the escalation step is performed will contain three variable bindings:</p>
<ul>
	<li>sysUptimeOID.0&nbsp; - No configuration is required for this binding.</li>
	<li>snmpTrapOID.0 - This binding is configured on the HQ Server settings page.</li>
	<li>A variable binding for the alert data specified in <tt>snmp_trap.gsp</tt>, a Groovy Server Page template that returns the  alert definition name and the "short reason" for firing.&nbsp; This template can be customized, as desired. For more information, see <a href="Tailor Alert Notification Templates.html" title="Tailor Alert Notification Templates">Tailor Alert Notification Templates</a>.</li>
	<li>any additional variable bindings you define.</li>
</ul>


<p>To configure an SNMP notification as an escalation step:</p>

<ol>
	<li>After selecting the "SNMP Notification" action type, enter:
	<ul>
		<li><b>IP Address</b> &#45; Enter the address and port of the target SNMP server.</li>
		<li><b>Notification Mechanism</b> &#45; Choose the type of notification to send.
		<ul>
			<li>v1 Trap</li>
			<li>v2c Trap</li>
			<li>Inform - not supported if Hyperic Server is configured for SNMP v1.</li>
		</ul>
		</li>
		<li><b>OID</b> &#45; Enter the OID of the notification that will contain the alert details specified in the in <tt>snmp_trap.gsp</tt>, template.&nbsp;</li>
	</ul>
	</li>
	<li>For each additional variable binding you wish to add, click <b>Add Another Variable Binding</b> and enter:
	<ul>
		<li><b>OID</b> &#45; Enter an additional OID to include in the notification.</li>
		<li><b>Value</b> &#45; Enter a value for the OID. You can enter plain text, or an alert variable.  For more information, see <a href="Tailor Alert Notification Templates.html#TailorAlertNotificationTemplates-VariablesAvailableforNotificationTemplates">Variables Available for Notification Templates</a>.</li>
	</ul>
	</li>
	<li>Leave "Then continue" selected if you want the next step in the escalation to occur immediately after the current one. To specify a delay before the next step is performed, select an interval from the pulldown. The intervals range from 5 minutes to 24 hours.</li>
	<li>Click <b>Save</b>.</li>
	<li>Repeat <a href="#ConfigureandManageEscalations-Step2CreateEscalationActions">Step 2 - Create Escalation Actions</a> to add another step to the escalation.</li>
</ol>


<h3><a name="ConfigureandManageEscalations-CreateaSuppressAlertsAction"></a>Create a Suppress Alerts Action</h3>

<p>This action stops the alert from repeated firing - it is useful if the alert definition for the fired alert is not is not configured to "fire once until fixed", and but you want to stop repetitive firing at a specific point in the escalation process. After this step in the escalation process is performed, the alert will not fire again until fixed.</p>

<p>After selecting the "SNMP Notification" action type:</p>
<ol>
	<li>Leave "Then continue" selected if you want the next step in the escalation to occur immediately after the current one. To specify a delay before the next step is performed, select an interval from the pulldown. The intervals range from 5 minutes to 24 hours.</li>
	<li>Click <b>Save</b>.</li>
	<li>Repeat <a href="#ConfigureandManageEscalations-Step2CreateEscalationActions">Step 2 - Create Escalation Actions</a> to add another step to the escalation.</li>
</ol>


<h1><a name="ConfigureandManageEscalations-ViewanEscalation"></a>View an Escalation </h1>

<p>To view an escalation: </p>
<ol>
	<li>Click <b>Administration</b> in the masthead.</li>
	<li>Click <b>Escalation Schemes Configuration</b>.</li>
	<li>In the "Escalation Name" panel on the left side of the page, click the escalation's name.
	<ul>
		<li>The escalation details appear on the right side of the page.</li>
	</ul>
	</li>
</ol>


<h1><a name="ConfigureandManageEscalations-EditanEscalation"></a>Edit an Escalation </h1>

<p>Edits to an escalation scheme take effect for all alert definitions to which the escalation has previously been assigned. When you edit an escalation, you can: </p>
<ul>
	<li>Edit an escalation's <b>Name</b>, <b>Description</b>, and its acknowledgment, notification, and repeat behaviors.</li>
	<li>Delete actions from an escalation.</li>
	<li>Add actions to an escalation.</li>
</ul>


<p>You cannot edit an escalation action, you must delete it and create a new action. </p>

<p>To edit an escalation: </p>
<ol>
	<li>Navigate to the escalation as described in <a href="#ConfigureandManageEscalations-ViewanEscalation">View an Escalation</a>.</li>
	<li>To change the scheme's <b>Name</b>, <b>Description</b>, or high-level instructions, click <b>Edit</b>, change the values, and click <b>Save</b>.</li>
	<li>To delete an existing action, click <b>Delete</b> to the right of the action.</li>
	<li>To create a new action, choose an action type and and follow the instructions in <a href="#ConfigureandManageEscalations-Step2CreateEscalationActions">Step 2 - Create Escalation Actions</a>.
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Editing an Escalation Affects Escalations in Progress</b><br />When you edit an escalation scheme, HQ will immediately stop executing any escalations that are in progress for alerts to which the escalation is assigned. Note that once an escalation for an alert has been stopped: * The alert cannot be acknowledged. 
<ul>
	<li>No further notifications of alert state changes will be issued. So, although an alert with a stopped escalation can be "fixed", notification recipients configured for the escalation will not be notified that the alert was fixed.</li>
</ul>
</td></tr></table></div> </li>
</ol>


<h1><a name="ConfigureandManageEscalations-DeleteanEscalation"></a>Delete an Escalation </h1>

<p>To delete an escalation: </p>
<ol>
	<li>Navigate to the escalation as described in <a href="#ConfigureandManageEscalations-ViewanEscalation">View an Escalation</a>.</li>
	<li>In the "Escalation Name" section, click <b>Delete</b> to the right of the scheme's name.
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Deleting an Escalation Affects Associated Alerts and Escalations in Progress</b><br />When you delete an escalation scheme: 
<ul>
	<li>HQ will immediately stop executing any escalations that are in progress for alerts to which the escalation is assigned.</li>
	<li>The escalation will be removed from any alert definition to which the escalation is was assigned; when an alerts that had the escalation fires, the escalation process will not be performed.</li>
</ul>
</td></tr></table></div></li>
</ol>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Oct 29, 2012 13:00</font></td>
		    </tr>
	    </table>
    </body>
</html>
