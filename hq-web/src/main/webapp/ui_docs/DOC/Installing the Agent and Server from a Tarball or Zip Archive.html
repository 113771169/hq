<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Hyperic 4.6 Documentation : Installing the Agent and Server from a Tarball or Zip Archive</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Hyperic 4.6 Documentation : Installing the Agent and Server from a Tarball or Zip Archive
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 18, 2011 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p>This section has instructions for performing a new installation of Hyperic components using the full installer. If you wish to upgrade an existing Hyperic deployment, please see <a href="Upgrade Hyperic Components.html" title="Upgrade Hyperic Components">Upgrade Hyperic Components</a>.</p>

<h1><a name="InstallingtheAgentandServerfromaTarballorZipArchive-AbouttheSetupScript"></a>About the Setup Script</h1>

<p>The setup script, <tt>setup.bat</tt> for Windows or <tt>setup.sh</tt> for non-Windows, is in the Hyperic installation package. You can use to install the Hyperic Server, the Hyperic Agent, or both.</p>

<p>When you run the setup script, you can supply an argument that sets the installation mode.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> <b>Mode Argument</b> </th>
<th class='confluenceTh'> <b>Associated Installation "Mode"</b> </th>
</tr>
<tr>
<td class='confluenceTd'> none </td>
<td class='confluenceTd'> Quick install; the Hyperic components you choose to install will be installed with default settings for most configuration options---you supply installation directories only. If you install the server, it will be configured to use its built-in PostgreSQL database. <br class="atl-forced-newline" />
This is the quickest way to install Hyperic for evaluation purposes. </td>
</tr>
<tr>
<td class='confluenceTd'> -full </td>
<td class='confluenceTd'> Full install; installer will prompt you to supply values for all installation options. </td>
</tr>
<tr>
<td class='confluenceTd'> -upgrade </td>
<td class='confluenceTd'> Server upgrade only; installer will prompt you for the path of the Hyperic server to upgrade. See <a href="Upgrade Hyperic Components.html" title="Upgrade Hyperic Components">Upgrade Hyperic Components</a> for instructions. </td>
</tr>
<tr>
<td class='confluenceTd'> -postgresql </td>
<td class='confluenceTd'> Quick install when using a standalone (not the Hyperic built-in) PostgreSQL database; installer will prompt you for database connection information and use defaults for other configuration settings. </td>
</tr>
<tr>
<td class='confluenceTd'> -oracle </td>
<td class='confluenceTd'> Quick install mode for Oracle; installer will prompt you for database connection information and use defaults for other configuration settings. </td>
</tr>
<tr>
<td class='confluenceTd'> -mysql </td>
<td class='confluenceTd'> Quick install mode for MySQL; installer will prompt you for database connection information and take defaults for everything else. </td>
</tr>
</tbody></table>
</div>


<h1><a name="InstallingtheAgentandServerfromaTarballorZipArchive-RuntheSetupProcedure"></a>Run the Setup Procedure</h1>

<p>This section describes the dialog that the installation script presents if you run it in <tt>-full</tt> mode. Depending on the installation mode you select, some of the prompts described below will not appear.</p>

<ol>
	<li>Create a directory for the Hyperic installation.
	<ul>
		<li>The installation dialog assumes your Hyperic installation directory is:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/home/hyperic</pre>
		</div>
</div></div></li>
	</ul>
	</li>
	<li>Unpack the tarball or zip archive.
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Unpack Tarballs with GNU Tar Only</b><br />Use GNU Tar to unpacking Hyperic tarballs. Use of proprietary Unix Tar utilities will result in warnings. GNU Tar is available at <a href="http://www.gnu.org">http://www.gnu.org</a></td></tr></table></div></li>
	<li>Open a command shell.
<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Opening Windows Command Shell</b><br />On Windows, if you open your command shell from the <b>Start</b> menu, you must run as "Administrator", like this:
<ol>
	<li>Start button - All Programs - Accessories.</li>
	<li>Right click "Command Prompt".</li>
	<li>Select "Run as".</li>
	<li>Choose "Administrator" option.</li>
</ol>
</td></tr></table></div>
	<ul>
		<li>On Unix-based platforms, enter:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">PathToInstaller/setup.sh -mode</pre>
		</div>
</div></div></li>
		<li>On Windows platforms, enter:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">PathToInstaller\setup.bat -mode</pre>
		</div>
</div></div>
<p>where <em>mode</em> is one of the values in the table above with the exception of <tt>upgrade</tt> &#8212; if you are upgrading an existing Hyperic deployment, refer to the instruction in <a href="Upgrade Hyperic Components.html" title="Upgrade Hyperic Components">Upgrade Hyperic Components</a>.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Installation Prompt </th>
<th class='confluenceTh'> Notes </th>
</tr>
<tr>
<td class='confluenceTd'> <em>Choose which software to install</em> <br class="atl-forced-newline" />
<em>1: Hyperic HQ Server</em> <br class="atl-forced-newline" />
<em>2: Hyperic HQ Agent</em> <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> To install both the server and the agent, enter: <br class="atl-forced-newline" />
1,2 </td>
</tr>
<tr>
<td class='confluenceTd'> <em>HQ server installation path [default '/home/hyperic']:</em> </td>
<td class='confluenceTd'> Accept the default, or enter a directory location. You must have write access the the location. <br class="atl-forced-newline" /> <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <em>What port should the HQ server's web-based GUI listen on for http communication? [default '7080']:</em> <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <em>What port should the HQ server's web-based GUI listen on for secure https communication? [default '7443']</em> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <em>Enter the base URL for the Hyperic server's web-based GUI [default...]</em> <br class="atl-forced-newline" /> </td>
<td class='confluenceTd'> The URL used to access the Hyperic Server. This value is used in alert notification emails. This value can be changed on the Hyperic Server Administration page in the Hyperic Portal. </td>
</tr>
<tr>
<td class='confluenceTd'> <em>Enter the fully qualified domain name of the SMTP server that Hyperic will use to send email messages  [default FQDN.local]</em> </td>
<td class='confluenceTd'> If the installer does not find a local SNMP server, if you do not specify one, Hyperic cannot send alert notifications. Alert functionality is still enabled. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<b>Note:</b> You can configure Hyperic for an external SMTP server after installing Hyperic Server. See <a href="Configuring Hyperic Server for SMTP Server.html" title="Configuring Hyperic Server for SMTP Server">Configuring Hyperic Server for SMTP Server</a>. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <em>Enter an encryption key to use to encrypt the database password.</em> </td>
<td class='confluenceTd'>Supply a value of your choice, at least 8 characters.</td>
</tr>
<tr>
<td class='confluenceTd'> <em>Enter the email address that HQ will use as the sender for email messages [default...]</em> </td>
<td class='confluenceTd'> The email address of the Hyperic Administrator. Note that most mail servers will not deliver mail without a valid domain name in the From field. </td>
</tr>
<tr>
<td class='confluenceTd'> <em>What backend database should the HQ server use? [default '1']:</em> <br class="atl-forced-newline" />
<em>Choices:</em> <br class="atl-forced-newline" />
<em>1: HQ Built-in Database</em> <br class="atl-forced-newline" />
<em>2: Oracle 10g/11g</em> <br class="atl-forced-newline" />
<em>4: PostgreSQL</em> <br class="atl-forced-newline" />
<em>5: MySQL Enterprise / Community Server 5.x</em> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> If in the previous step, you chose the HQ Built-in Database, this prompt appears: <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<em>What port should HQ's built-in database use? [default '9432']:</em> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> If instead you selected an external database, these prompts appear: <br class="atl-forced-newline" /> 
<em>Enter the JDBC connection URL.</em> The prompt supplies a default URL, which assumes the external database is on local host. <br class="atl-forced-newline" /> 
<em>Enter the username to use to connect to the database:</em><br class="atl-forced-newline" />
_Enter an encryption key to use to encrypt the database password: <br class="atl-forced-newline" /> 
<em>Enter the password to use to connect to the database:</em> </td>
<td class='confluenceTd'> Supply: <br class="atl-forced-newline" /> 
a URL in the form shown, editing as appropriate to identify the connection details, such as host and name.<br class="atl-forced-newline" /> 
the database username that was set up when the Hyperic database was created.<br class="atl-forced-newline" />
the database password that was set up when the Hyperic database was created. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Do you have an existing database?</b><br />If the installer detects a database from a previous Hyperic installation, it will prompt you to upgrade, overwrite the existing database, or exit the installer. To preserve your existing Hyperic data, select <b>Upgrade the HQ server database</b>, and see  <a href="Upgrade Hyperic Components.html" title="Upgrade Hyperic Components">Upgrade Hyperic Components</a>. If you choose to overwrite, you will lose all the data in the Hyperic database. <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
If in fact you <em>do</em> want to erase the database contents, note that it can take a long time to overwrite a large database. To erase the data, you can simply drop and recreate the Hyperic database prior to installing Hyperic Server.) The commands are:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">drop database hqdb;
create database hqdb;
grant all on hqdb.* to 'hqadmin'@'%' identified by 'hqadmin'
grant all on hqdb.* to 'hqadmin'@'localhost' identified by 'hqadmin'</pre>
		</div>
</div></div></td></tr></table></div></td>
</tr>
<tr>
<td class='confluenceTd'> <em>What should the username be for the initial admin user? [ default 'hqadmin']:</em> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <em>What should the password be for the initial admin user?:</em> </td>
<td class='confluenceTd'> The installer will not echo the password but will prompt for it twice so it can be verified. </td>
</tr>
<tr>
<td class='confluenceTd'> <em>&#42;What should the email address be for the initial admin user? [default...]</em> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <em>HQ agent installation path [:default '/applications/hyperic']:</em> </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>

<p>The installer indicates the installation was successful, provides the URL for the Hyperic Portal along with the default username and password, and returns you to the command prompt.</p></li>
	</ul>
	</li>
</ol>





<div class="scroll-pagebreak"></div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on May 31, 2011 13:08</font></td>
		    </tr>
	    </table>
    </body>
</html>
