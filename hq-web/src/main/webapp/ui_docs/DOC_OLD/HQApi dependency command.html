<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 5.7 : HQApi dependency command</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
<b><a href="vFabric Hyperic 5.7.html" title="vFabric Hyperic 5.7 Documentation Home">vFabric Hyperic 5.7 Documentation Home (Internal)</a>
 - <a href="https://www.vmware.com/support/pubs/vfabric-hyperic.html">vFabric Hyperic 5.7 Documentation Home (Online)</a>
 -  <a href="https://www.vmware.com/support/vfabric-hyperic/doc/vfabric-hyperic-rn-5.0.html">Hyperic 5.7 Release Notes</a> </b>
 <p>
 <p>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 5.7 : HQApi dependency command
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 22, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>


<style type='text/css'>/*<![CDATA[*/
div.rbtoc1329946587970 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1329946587970 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1329946587970 li {margin-left: 0px;padding-left: 0px;}

/*]] >*/</style><div class='rbtoc1329946587970'>
<ul>
    <li><a href='#HQApidependencycommand-dependencyFunctionality'>dependency Functionality</a></li>
    <li><a href='#HQApidependencycommand-dependencyCommandOptions'>dependency Command Options</a></li>
<ul>
    <li><a href='#HQApidependencycommand-dependencylist'>dependency list</a></li>
<ul>
    <li><a href='#HQApidependencycommand-dependencylistCommandQualifiers'>dependency list Command Qualifiers</a></li>
    <li><a href='#HQApidependencycommand-StructureofResourcesResponse'>Structure of ResourcesResponse</a></li>
    <li><a href='#HQApidependencycommand-AtributesofResourcesResponse'>Atributes of ResourcesResponse</a></li>
</ul>
    <li><a href='#HQApidependencycommand-StructureofResourceEdgesResponseelement'>Structure of ResourceEdgesResponse element</a></li>
<ul>
    <li><a href='#HQApidependencycommand-dependencylistExamples'>dependency list Examples</a></li>
</ul>
    <li><a href='#HQApidependencycommand-dependencysync'>dependency sync</a></li>
<ul>
    <li><a href='#HQApidependencycommand-dependencysyncCommandQualifiers'>dependency sync Command Qualifiers</a></li>
</ul>
    <li><a href='#HQApidependencycommand-dependencydelete'>dependency delete</a></li>
<ul>
    <li><a href='#HQApidependencycommand-dependencydeleteCommandQualifiers'>dependency delete Command Qualifiers</a></li>
</ul>
    <li><a href='#HQApidependencycommand-dependencyselect'>dependency select</a></li>
<ul>
    <li><a href='#HQApidependencycommand-dependencyselectCommandQualifiers'>dependency select Command Qualifiers</a></li>
</ul>
</ul>
</ul></div>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Related Topics</b><br />This page provides information for running an HQ API from the command line. Related topics include: 
<ul>
	<li><a href="vFabric Hyperic Web Services API.html" title="vFabric Hyperic Web Services API">vFabric Hyperic Web Services API</a> - brief introduction to the API.</li>
	<li><a href="HQApi Command-Line Tools.html" title="HQApi Command-Line Tools">HQApi Command&#45;Line Tools</a> - how to get started with the command line tools.</li>
	<li><a href="HQApi Java API.html" title="HQApi Java API">HQApi Java API</a> - about accessing the APIs programmatically.</li>
</ul>
</td></tr></table></div> 



<h1><a name="HQApidependencycommand-dependencyFunctionality"></a>dependency Functionality</h1>

<p>The <b>dependency</b> command allows you to query Hyperic inventory in terms of dependency relationships. You can:</p>
<ul>
	<li>view and update the relationships between top level platforms and operating system platforms, and</li>
	<li>view parent-child relationships between platforms, servers, and services</li>
</ul>


<p>In the Hyperic inventory model, there are two sorts of platform resources:</p>
<ul>
	<li>Platforms that correspond to a host machine and its operating system have a&nbsp; "platform type" that identifies the host's operating system:&nbsp; "AIX", "HPUX", "Linux", and so on.&nbsp; For clarity, this kind of platform is referred to below as an <em>operating system platform</em> or a <em>dependent platform</em>. An operating system platform is the top resource in the  "platform-server-service" hierarchy of resources that a Hyperic Agent discovers on a host.</li>
</ul>


<ul>
	<li>Platform types that correspond to is virtual or network resource are: "Network Host", "Network Device", "Cisco IOS", "Cisco PIXOS", "VMware V13 Host", and "Xen Host". This kind of platform is referred to below as <em>top level platform</em>. Unlike operating system platforms, which are auto-discovered and cannot be created manually, you explicitly add top level platforms to inventory.</li>
</ul>


<p>Once you have created and correctly configured a top level platform (for instance, a Cisco switch) in Hyperic inventory, you can associate it with the operating system host platforms that depend on it. Do so extends the reach of hierarchical alerting beyond the platform-server-service hierarchy to network devices and virtual hosts - so that the health of a parent resource can be considered during alert processing for dependent resources.</p>
<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>The <b>dependency</b> API should be used only by advanced Hyperic administrators in consultation with Hyperic support or professional services. Under most circumstances, Hyperic recommends that administrators define network dependencies using the <b>Network and Host Dependency Manager</b>, available in the "Plugins" section of the <b>Administration</b> page in the vFabric Hyperic user interface.</td></tr></table></div>


<p>For more information about platform dependencies in Hyperic see <a href="Define Host Dependencies for Hierarchical Alerting.html" title="Define Host Dependencies for Hierarchical Alerting">Define Host Dependencies for Hierarchical Alerting</a>.</p>



<h1><a name="HQApidependencycommand-dependencyCommandOptions"></a>dependency Command Options</h1>


<h2><a name="HQApidependencycommand-dependencylist"></a>dependency list</h2>

<p>The <b>dependency list</b> command returns a list top level platforms to which dependent platforms have been assigned.</p>

<h3><a name="HQApidependencycommand-dependencylistCommandQualifiers"></a>dependency list Command Qualifiers</h3>

<p>the <b>dependency list</b> command returns top level platforms with dependent platforms.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Qualifier </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> none </td>
<td class='confluenceTd'> Returns all top level platforms that have dependents. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-children</tt> </td>
<td class='confluenceTd'> Returns the dependent resources for parents that match criteria specified using one or more of &#45;-prototype, &#45;-id, or &#45;-name <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-file=FileName</tt> </td>
<td class='confluenceTd'> Where <tt>FileName</tt> is the name of a file. If used, results are written to specified file. Otherwise, stdin is used. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-id=Integer</tt> </td>
<td class='confluenceTd'> Where <tt>Integer</tt> is an integer value. Results are returned for the top level platform with the specified internal Hyperic ID. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-name=regex</tt> </td>
<td class='confluenceTd'> Where <tt>regex</tt> is a regular expression. Limits results to the top level platforms whose name matches the specified regular expression. Can use with &#45;-prototype. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-prototype=ResourceType</tt> </td>
<td class='confluenceTd'> Where <tt>ResourceType</tt> is a Hyperic resource type. Limits the results to top level platforms of specified resource type.&nbsp; Can use with &#45;-name. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-relation=containment</tt> </td>
<td class='confluenceTd'> Use&nbsp; with &#45;-children and &#45;-id to return the immediate children of the specified resource, which may be a platform, server, or service.&nbsp; <br class="atl-forced-newline" /> </td>
</tr>
</tbody></table>
</div>


<h3><a name="HQApidependencycommand-StructureofResourcesResponse"></a>Structure of ResourcesResponse</h3>

<p>The <tt>ResourcesResponse</tt> object returned by the <b>dependency list</b> command has this element structure:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>ResourcesResponse
     Resource
          ResourcePrototype
          Agent
          Ip
          ResourceInfo
</pre>
</div></div>
<p>where there are:</p>
<ul>
	<li>1 or more <tt>Resource</tt> elements, each with one instance of each of the following elements</li>
	<li><tt>ResourcePrototype</tt></li>
	<li><tt>Agent</tt></li>
	<li><tt>Ip</tt></li>
	<li><tt>ResourceInfo</tt></li>
</ul>


<h3><a name="HQApidependencycommand-AtributesofResourcesResponse"></a>Atributes of ResourcesResponse</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Element </th>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Example Value </th>
</tr>
<tr>
<td class='confluenceTd'> Resource </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> description </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "Cisco IOS Software, C2960 Software (C2960-LANBASE-M), Version 12.2(25)FX" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> name </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "cisco ios platform" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> id </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "13797" </td>
</tr>
<tr>
<td class='confluenceTd'> ResourcePrototype </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> name </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "Cisco IOS" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> id </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "10004" </td>
</tr>
<tr>
<td class='confluenceTd'> Agent </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> unidirectional </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "false" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> version </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "4.2.0-EE" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> port </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "2144" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> address </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "10.2.0.108" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> id </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "10029" </td>
</tr>
<tr>
<td class='confluenceTd'> Ip </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> mac </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> netmask </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> address </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "10.2.0.108" </td>
</tr>
<tr>
<td class='confluenceTd'> ResourceInfo </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> value </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "cisco ios test" </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> key </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> "fqdn" </td>
</tr>
</tbody></table>
</div>


<h2><a name="HQApidependencycommand-StructureofResourceEdgesResponseelement"></a>Structure of ResourceEdgesResponse element</h2>

<p>The <tt>ResourceEdgesResponse</tt> object returned by the <b>dependency list</b> and the &#45;-children qualifier has this element structure:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>ResourceEdgesResponse
    ResourceEdge
        ResourceFrom
        ResourceTo

</pre>
</div></div>
<p>where there are:</p>
<ul>
	<li>1 or more <tt>ResourcEdge</tt> elements, each with
	<ul>
		<li>one <tt>ResourceFrom</tt> and</li>
		<li>one or more <tt>ResourceTo</tt> elements</li>
	</ul>
	</li>
</ul>


<h3><a name="HQApidependencycommand-dependencylistExamples"></a>dependency list Examples</h3>


<h4><a name="HQApidependencycommand-dependencylist"></a>dependency list</h4>

<p>List all top level resources in a network hierarchy:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hqapi.sh dependency list

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourcesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;Resource description="Cisco IOS Software, C2960 Software (C2960-LANBASE-M), Version 12.2(25)FX"
name="cisco ios platform" id="13797"&gt;
&lt;ResourcePrototype name="Cisco IOS" id="10004"/&gt;
&lt;Agent unidirectional="false" version="4.2.0-EE" port="2144" address="10.2.0.108" id="10029"/&gt;
&lt;Ip mac="" netmask="" address="10.2.0.108"/&gt;
&lt;ResourceInfo value="cisco ios test" key="fqdn"/&gt;
&lt;/Resource&gt;
&lt;Resource description="" name="xen 2 platform" id="13918"&gt;
&lt;ResourcePrototype name="Xen Host" id="10042"/&gt;
&lt;Agent unidirectional="false" version="4.2.0-EE" port="2144" address="10.2.0.108" id="10029"/&gt;
&lt;Ip mac="" netmask="" address="10.0.0.137"/&gt;
&lt;ResourceInfo value="xen-02" key="fqdn"/&gt;
&lt;/Resource&gt;
&lt;/ResourcesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-dependencylist%5Cprototype"></a>dependency list &#45;-prototype</h4>

<p>List top level resources in a network hierarchy by prototype:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hqapi.sh dependency list --prototype="Xen Host"

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourcesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;Resource description="" name="xen 2 platform" id="13918"&gt;
&lt;ResourcePrototype name="Xen Host" id="10042"/&gt;
&lt;Agent unidirectional="false" version="4.2.0-EE" port="2144" address="10.2.0.108" id="10029"/&gt;
&lt;Ip mac="" netmask="" address="10.0.0.137"/&gt;
&lt;ResourceInfo value="xen-02" key="fqdn"/&gt;
&lt;/Resource&gt;
&lt;/ResourcesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-DependencyListname"></a>Dependency List --name</h4>

<p>List top level resources in a network hierarchy by regex name:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hqapi.sh dependency list --name=cisco

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourcesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;Resource description="Cisco IOS Software, C2960 Software (C2960-LANBASE-M), Version 12.2(25)FX"
name="cisco ios platform" id="13797"&gt;
&lt;ResourcePrototype name="Cisco IOS" id="10004"/&gt;
&lt;Agent unidirectional="false" version="4.2.0-EE" port="2144" address="10.2.0.108" id="10029"/&gt;
&lt;Ip mac="" netmask="" address="10.2.0.108"/&gt;
&lt;ResourceInfo value="cisco ios test" key="fqdn"/&gt;
&lt;/Resource&gt;
&lt;/ResourcesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-dependencylistprototypename"></a>dependency list --prototype --name</h4>

<p>List top level resources in a network hierarchy by prototype and regex name:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">/hqapi.sh dependency list --prototype="Xen Host" --name="Xen 2"

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourcesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;Resource description="" name="xen 2 platform" id="13918"&gt;
&lt;ResourcePrototype name="Xen Host" id="10042"/&gt;
&lt;Agent unidirectional="false" version="4.2.0-EE" port="2144" address="10.2.0.108" id="10029"/&gt;
&lt;Ip mac="" netmask="" address="10.0.0.137"/&gt;
&lt;ResourceInfo value="xen-02" key="fqdn"/&gt;
&lt;/Resource&gt;
&lt;/ResourcesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-dependencylist%5Cchildren%5Cid"></a>dependency list &#45;-children &#45;-id</h4>

<p>List dependent resources under a top level resource in a network hierarchy:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hqapi.sh dependency list --children --id=13797

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourceEdgesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;ResourceEdge distance="1" relation="network"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="cisco ios platform" id="13797"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="kparikh-T60-x" id="13852"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local" id="10611"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;/ResourceEdgesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-dependencylist%5Cchildren%5Cprototype"></a>dependency list &#45;-children &#45;-prototype</h4>

<p>List dependent resources (and their top level resource) by prototype in a network hierarchy:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">patrick-nguyens-macbook-pro:bin pnguyen$ ./hqapi.sh dependency list --children --prototype=Win32
&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourceEdgesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;ResourceEdge distance="1" relation="network"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="cisco ios platform" id="13797"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="kparikh-T60-x" id="13852"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;ResourceEdge distance="1" relation="network"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="cisco ios platform" id="13797"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="patricktest" id="13925"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;/ResourceEdgesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-dependencylist%5Cchildren%5Cname"></a>dependency list &#45;-children &#45;-name</h4>

<p>List dependent resources (and their top level resource) by regex name in a network hierarchy:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">hqapi.sh dependency list --children --name=patrick

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourceEdgesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;ResourceEdge distance="1" relation="network"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="cisco ios platform" id="13797"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local" id="10611"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;ResourceEdge distance="1" relation="network"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="xen 2 platform" id="13918"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="patricktest" id="13925"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;/ResourceEdgesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-dependencylist%5Cchildren%5Cprototype%5Cname"></a>dependency list &#45;-children &#45;-prototype &#45;-name</h4>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">To List dependent resources (and their top level resource) by prototype and regex name in a network hierarchy:

hqapi.sh dependency list --children --prototype=Win32 --name=pat
&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourceEdgesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;ResourceEdge distance="1" relation="network"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="cisco ios platform" id="13797"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="patricktest" id="13925"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;/ResourceEdgesResponse&gt;</pre>
		</div>
</div></div>

<h4><a name="HQApidependencycommand-DependencyList%5Cchildren%5Cid%5Crelation%3Dcontainment"></a>Dependency List &#45;-children &#45;-id &#45;-relation=containment</h4>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div id="root">
		<pre class="theme: Confluence; brush: java; gutter: false">List the immediate child resources under a resource based on the Hyperic inventory model (platform/server/services):

hqapi.sh dependency list --children --id=10611 --relation=containment
&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;ResourceEdgesResponse&gt;
&lt;Status&gt;Success&lt;/Status&gt;
&lt;ResourceEdge distance="1" relation="containment"&gt;
&lt;ResourceFrom&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local" id="10611"/&gt;
&lt;/ResourceFrom&gt;
&lt;ResourceTo&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local HQ Agent 4.2.0-EE" id="10613"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local HQ JBoss 4.x" id="10617"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local MacOSX FileServer" id="10616"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local MacOSX NetworkServer" id="10612"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local MacOSX ProcessServer" id="10615"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local Net Services" id="10614"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local Tomcat 5.5" id="10618"/&gt;
&lt;Resource name="patrick-nguyens-macbook-pro.local Tomcat 6.0" id="10872"/&gt;
&lt;/ResourceTo&gt;
&lt;/ResourceEdge&gt;
&lt;/ResourceEdgesResponse&gt;</pre>
		</div>
</div></div>

<h2><a name="HQApidependencycommand-dependencysync"></a>dependency sync</h2>

<p>The <b>dependency sync</b> command creates or updates the dependency relationships between a specified top level platform and the operating system host platforms the depend on it, from the <tt>ResourceEdge</tt> elements in an XML file.</p>

<h3><a name="HQApidependencycommand-dependencysyncCommandQualifiers"></a>dependency sync Command Qualifiers</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Qualifier* </th>
<th class='confluenceTh'> <b>Description</b> </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-all</tt> </td>
<td class='confluenceTd'> Defines a new network dependence hierarchy - the dependency relationships between a top level platform and the operating system host platforms that depend on it. If a network dependence hierarchy is already defined for a top level platform, <tt>dependency sync &#45;all</tt> will delete the previous relationships and create new ones. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-add</tt> </td>
<td class='confluenceTd'> Adds one or more additional dependencies to the dependence hierarchy for a top level platform. Use this command qualifier to add dependent platforms, without over-writing or deleting existing dependence relationships the top level platform has with other children. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-remove</tt> </td>
<td class='confluenceTd'> Removes one or more dependencies from the dependence hierarchy for a top level platform. </td>
</tr>
</tbody></table>
</div>


<h2><a name="HQApidependencycommand-dependencydelete"></a>dependency delete</h2>

<p>The <b>dependency delete</b> command deletes all dependency relationships between a specified top level platform and the operating system host platforms that depend on it, from the <tt>ResourceEdge</tt> elements in an XML file.</p>

<h3><a name="HQApidependencycommand-dependencydeleteCommandQualifiers"></a>dependency delete Command Qualifiers</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Qualifier </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> &#45;-id=IntegerValue </td>
<td class='confluenceTd'> This required qualifier identifies, by its internal Hyperic ID, the top level platform whose dependency relationships to children will be deleted. </td>
</tr>
<tr>
<td class='confluenceTd'> &#45;-relation </td>
<td class='confluenceTd'> The resource relationship. </td>
</tr>
</tbody></table>
</div>



<h2><a name="HQApidependencycommand-dependencyselect"></a>dependency select</h2>

<p>The <b>dependency select</b> command lists top level platforms that are not  associated with a network hierarchy. (Top level platforms without relationships defined to dependent platforms.)</p>

<h3><a name="HQApidependencycommand-dependencyselectCommandQualifiers"></a>dependency select Command Qualifiers</h3>

<p>The <b>dependency select</b> command returns platforms that don't have network dependency relationships defined. You can use <b>select</b> to return top level platforms without dependent children, or operating system platforms without parents. &nbsp;</p>

<p>You can supply one or more of the following qualifiers to limit what top level platforms are returned.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Qualifier </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> none </td>
<td class='confluenceTd'> Returns all top level platforms without dependents. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-children</tt> </td>
<td class='confluenceTd'> Returns operating system host platforms, rather than top level platforms.&nbsp; Returns the platforms without a parent. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-file FileName</tt> </td>
<td class='confluenceTd'> Where <tt>FileName</tt> is the name of a file.Results are output to the file specified, instead of stdin. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-name</tt> <em>regex</em> </td>
<td class='confluenceTd'> Limits the platforms returned to those whose name matches the specified regular expression. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-prototype</tt> </td>
<td class='confluenceTd'> Limits the platforms returned to those of the specified resource type. <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;-relation</tt> </td>
<td class='confluenceTd'> The resource relationship. <br class="atl-forced-newline" /> </td>
</tr>
</tbody></table>
</div>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Oct 01, 2012 10:07</font></td>
		    </tr>
	    </table>
    </body>
</html>
