<plugin>

  <config name="vi">
    <option name="url"
            description="VI sdk url"
            default="https://esx/sdk"/>

    <option name="user"
            description="Username"/>

    <option name="pass"
            type="secret"
            description="Password"/>

    <option name="hostname"
            description="ESX host name"/>
  </config>

  <config name="vm">
    <option name="vm"
            description="Virtual Machine name"/>
  </config>

  <config name="pool">
    <option name="pool"
            description="Resource Pool name"/>
  </config>

  <platform name="VI Host">

    <plugin type="measurement" class="org.hyperic.hq.product.MeasurementPlugin"/>
    <plugin type="collector" class="org.hyperic.hq.plugin.vim.VimHostCollector"/>

    <property name="template" value="${vi.template}:${alias}"/>

    <metric name="Availability" indicator="true"/>

    <server name="Resource Pool">
      <plugin type="measurement" class="org.hyperic.hq.product.MeasurementPlugin"/>
      <plugin type="collector" class="org.hyperic.hq.plugin.vim.VimPoolCollector"/>

      <property name="template" value="${vi.template},${pool.config}:${alias}"/>

      <metric name="Availability" indicator="true"/>
    </server>

    <server name="Virtual Machine">
      <plugin type="measurement" class="org.hyperic.hq.product.MeasurementPlugin"/>
      <plugin type="collector" class="org.hyperic.hq.plugin.vim.VimVmCollector"/>

      <property name="template" value="${vi.template},${vm.config}:${alias}"/>

      <metric name="Availability" indicator="true"/>
    </server>
  </platform>
</plugin>
