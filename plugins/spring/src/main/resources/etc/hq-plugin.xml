<?xml version="1.0"?>


<plugin name="spring">
	<classpath>
		<include name="pdk/lib/mx4j" />
	</classpath>

	<filter name="template" value="${OBJECT_NAME}:${alias}" />
	
	<property name="template" value="${OBJECT_NAME}:${alias}" />

	<property name="measurement-class"
		value="org.hyperic.hq.product.jmx.MxMeasurementPlugin" />
	<property name="control-class"
		value="org.hyperic.hq.product.jmx.MxControlPlugin" />

	<server name="Spring Application">
		<property name="PROC_HOME_PROPERTY"
			value="spring.managed.application.name" />
		<config>
			<option name="jmx.url" description="JMX URL to MBeanServer"
				default="service:jmx:rmi:///jndi/rmi://localhost:6969/jmxrmi" />
			<option name="jmx.username" description="JMX username"
				optional="true" default="system" />
			<option name="jmx.password" description="JMX password"
				optional="true" default="manager" type="secret" />
			<option name="ptql" description="PTQL for Standalone Spring Application Process"
				default="State.Name.eq=java,Args.*.ct=spring.managed.application.name" />
		</config>
		<plugin type="autoinventory"
			class="org.hyperic.hq.plugin.spring.SpringStandaloneApplicationDetector" />
		<plugin type="measurement"
			class="org.hyperic.hq.product.jmx.MxMeasurementPlugin" />
		<plugin type="log_track"
			class="org.hyperic.hq.product.Log4JLogTrackPlugin" />
		<plugin type="config_track"
			class="org.hyperic.hq.product.ConfigFileTrackPlugin" />
		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%ptql%:State" indicator="true" />
	</server>

</plugin>