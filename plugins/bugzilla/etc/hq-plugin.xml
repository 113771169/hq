<?xml version="1.0"?>

<!--
  NOTE: This copyright does *not* cover user programs that use HQ
  program services by normal system calls through the application
  program interfaces provided as part of the Hyperic Plug-in Development
  Kit or the Hyperic Client Development Kit - this is merely considered
  normal use of the program, and does *not* fall under the heading of
  "derived work".
  
  Copyright (C) [2004, 2005, 2006], Hyperic, Inc.
  This file is part of HQ.
  
  HQ is free software; you can redistribute it and/or modify
  it under the terms version 2 of the GNU General Public License as
  published by the Free Software Foundation. This program is distributed
  in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
  even the implied warranty of MERCHANTABILITY or FITNESS FOR A
  PARTICULAR PURPOSE. See the GNU General Public License for more
  details.
  
  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
  USA.
 -->

<plugin name="bugzilla">
  <!-- we use a dummy jmx object name -->
  <property name="domain" value="bugzilla"/>

  <!-- appended to each template by MeasurementInfoXML -->
  <property name="template-config"
            value="jdbcUrl=%jdbcUrl%,jdbcUser=%jdbcUser%,jdbcPassword=%jdbcPassword%"/>

  <metrics name="server">

    <metric name="Availability"
            alias="Availability"
            template="${domain}:Type=Server:availability"
            category="AVAILABILITY"
            group="Reliability"
            indicator="true"
            units="percentage"
            collectionType="dynamic"/>

    <metric name="Aborted Clients"
            alias="AbortedClients"
            template="${domain}:Type=Server:Aborted_clients"
            category="THROUGHPUT"
            group="Connection"
            units="none"
            collectionType="trendsup"/>

    <metric name="Aborted Connects"
            alias="AbortedConnects"
            template="${domain}:Type=Server:Aborted_connects"
            category="THROUGHPUT"
            group="Connection"
            units="none"
            collectionType="trendsup"/>

    <metric name="Bytes Received"
            alias="BytesReceived"
            template="${domain}:Type=Server:Bytes_received"
            category="THROUGHPUT"
            group="Connection"
            units="B"
            collectionType="trendsup"/>

    <metric name="Bytes Sent"
            alias="BytesSent"
            template="${domain}:Type=Server:Bytes_sent"
            category="THROUGHPUT"
            group="Connection"
            units="B"
            collectionType="trendsup"/>

    <metric name="Number of admin commands"
            alias="CmdAdminCommands"
            template="${domain}:Type=Server:Com_admin_commands"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of alter table commands"
            alias="CmdAlterTable"
            template="${domain}:Type=Server:Com_alter_table"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of analyze commands"
            alias="CmdAnalyze"
            template="${domain}:Type=Server:Com_analyze"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of backup table commands"
            alias="CmdBackupTable"
            template="${domain}:Type=Server:Com_backup_table"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of begin commands"
            alias="CmdBegin"
            template="${domain}:Type=Server:Com_begin"
            category="UTILIZATION"
            group="Tx Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of change db commands"
            alias="CmdChangeDb"
            template="${domain}:Type=Server:Com_change_db"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of change master commands"
            alias="CmdChangeMaster"
            template="${domain}:Type=Server:Com_change_master"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of check commands"
            alias="CmdCheck"
            template="${domain}:Type=Server:Com_check"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of commit commands"
            alias="CmdCommit"
            template="${domain}:Type=Server:Com_commit"
            category="UTILIZATION"
            group="Tx Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of create db commands"
            alias="CmdCreateDb"
            template="${domain}:Type=Server:Com_create_db"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of create function commands"
            alias="CmdCreateFunction"
            template="${domain}:Type=Server:Com_create_function"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of create index commands"
            alias="CmdCreateIndex"
            template="${domain}:Type=Server:Com_create_index"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of create table commands"
            alias="CmdCreateTable"
            template="${domain}:Type=Server:Com_create_table"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of delete commands"
            alias="CmdDelete"
            template="${domain}:Type=Server:Com_delete"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of drop db commands"
            alias="CmdDropDb"
            template="${domain}:Type=Server:Com_drop_db"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of drop function commands"
            alias="CmdDropFunction"
            template="${domain}:Type=Server:Com_drop_function"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of drop index commands"
            alias="CmdDropIndex"
            template="${domain}:Type=Server:Com_drop_index"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of drop table commands"
            alias="CmdDropTable"
            template="${domain}:Type=Server:Com_drop_table"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of flush commands"
            alias="CmdFlush"
            template="${domain}:Type=Server:Com_flush"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of grant commands"
            alias="CmdGrant"
            template="${domain}:Type=Server:Com_grant"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of insert commands"
            alias="CmdInsert"
            template="${domain}:Type=Server:Com_insert"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of insert select commands"
            alias="CmdInsertSelect"
            template="${domain}:Type=Server:Com_insert_select"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of kill commands"
            alias="CmdKill"
            template="${domain}:Type=Server:Com_kill"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of load commands"
            alias="CmdLoad"
            template="${domain}:Type=Server:Com_load"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of load master table commands"
            alias="CmdLoadMasterTable"
            template="${domain}:Type=Server:Com_load_master_table"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of lock tables commands"
            alias="CmdLockTables"
            template="${domain}:Type=Server:Com_lock_tables"
            category="UTILIZATION"
            group="Tx Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of optimize commands"
            alias="CmdOptimize"
            template="${domain}:Type=Server:Com_optimize"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of purge commands"
            alias="CmdPurge"
            template="${domain}:Type=Server:Com_purge"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of rename table commands"
            alias="CmdRenameTable"
            template="${domain}:Type=Server:Com_rename_table"
            category="UTILIZATION"
            group="DDL Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of repair commands"
            alias="CmdRepair"
            template="${domain}:Type=Server:Com_repair"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of replace commands"
            alias="CmdReplace"
            template="${domain}:Type=Server:Com_replace"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of replace select commands"
            alias="CmdReplaceSelect"
            template="${domain}:Type=Server:Com_replace_select"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of reset commands"
            alias="CmdReset"
            template="${domain}:Type=Server:Com_reset"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of restore table commands"
            alias="CmdRestoreTable"
            template="${domain}:Type=Server:Com_restore_table"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of revoke commands"
            alias="CmdRevoke"
            template="${domain}:Type=Server:Com_revoke"
            category="UTILIZATION"
            group="DBA Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of rollback commands"
            alias="CmdRollback"
            template="${domain}:Type=Server:Com_rollback"
            category="UTILIZATION"
            group="Tx Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of select commands"
            alias="CmdSelect"
            template="${domain}:Type=Server:Com_select"
            category="UTILIZATION"
            group="General Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of set option commands"
            alias="CmdSetOption"
            template="${domain}:Type=Server:Com_set_option"
            category="UTILIZATION"
            group="General Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show binlogs commands"
            alias="CmdShowBinlogs"
            template="${domain}:Type=Server:Com_show_binlogs"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show create commands"
            alias="CmdShowCreate"
            template="${domain}:Type=Server:Com_show_create"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show databases commands"
            alias="CmdShowDatabases"
            template="${domain}:Type=Server:Com_show_databases"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show fields commands"
            alias="CmdShowFields"
            template="${domain}:Type=Server:Com_show_fields"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show grants commands"
            alias="CmdShowGrants"
            template="${domain}:Type=Server:Com_show_grants"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show keys commands"
            alias="CmdShowKeys"
            template="${domain}:Type=Server:Com_show_keys"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show logs commands"
            alias="CmdShowLogs"
            template="${domain}:Type=Server:Com_show_logs"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show master status commands"
            alias="CmdShowMasterStatus"
            template="${domain}:Type=Server:Com_show_master_status"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show open tables commands"
            alias="CmdShowOpenTables"
            template="${domain}:Type=Server:Com_show_open_tables"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show processlist commands"
            alias="CmdShowProcesslist"
            template="${domain}:Type=Server:Com_show_processlist"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show slave status commands"
            alias="CmdShowSlaveStatus"
            template="${domain}:Type=Server:Com_show_slave_status"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show status commands"
            alias="CmdShowStatus"
            template="${domain}:Type=Server:Com_show_status"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show innodb status commands"
            alias="CmdShowInnodbStatus"
            template="${domain}:Type=Server:Com_show_innodb_status"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show tables commands"
            alias="CmdShowTables"
            template="${domain}:Type=Server:Com_show_tables"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of show variables commands"
            alias="CmdShowVariables"
            template="${domain}:Type=Server:Com_show_variables"
            category="UTILIZATION"
            group="Show Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of slave start commands"
            alias="CmdSlaveStart"
            template="${domain}:Type=Server:Com_slave_start"
            category="UTILIZATION"
            group="General Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of slave stop commands"
            alias="CmdSlaveStop"
            template="${domain}:Type=Server:Com_slave_stop"
            category="UTILIZATION"
            group="General Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of truncate commands"
            alias="CmdTruncate"
            template="${domain}:Type=Server:Com_truncate"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of unlock table commands"
            alias="CmdUnlockTables"
            template="${domain}:Type=Server:Com_unlock_tables"
            category="UTILIZATION"
            group="Tx Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of update commands"
            alias="CmdUpdate"
            template="${domain}:Type=Server:Com_update"
            category="UTILIZATION"
            group="DML Command"
            units="none"
            collectionType="trendsup"/>

    <metric name="Connections"
            alias="Connections"
            template="${domain}:Type=Server:Connections"
            category="THROUGHPUT"
            group="Connection"
            units="none"
            collectionType="trendsup"/>
 
    <metric name="Temporary Disk Tables Created"
            alias="CreatedTmpDiskTables"
            template="${domain}:Type=Server:Created_tmp_disk_tables"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Temporary Memory Tables Created"
            alias="CreatedTmpMemTables"
            template="${domain}:Type=Server:Created_tmp_tables"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Temporary Files Created"
            alias="CreatedTmpFiles"
            template="${domain}:Type=Server:Created_tmp_files"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

   <metric name="Delayed Insert Threads"
            alias="DelayedInsertThreads"
            template="${domain}:Type=Server:Delayed_insert_threads"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Delayed Writes"
            alias="DelayedWrites"
            template="${domain}:Type=Server:Delayed_writes"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Delayed Errors"
            alias="DelayedErrors"
            template="${domain}:Type=Server:Delayed_errors"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Flush Commands"
            alias="FlushCommands"
            template="${domain}:Type=Server:Flush_commands"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Rows Deleted"
            alias="HandlerDelete"
            template="${domain}:Type=Server:Handler_delete"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Rows Read from First Index"
            alias="HandlerReadFirst"
            template="${domain}:Type=Server:Handler_read_first"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Rows Read from Key"
            alias="HandlerReadKey"
            template="${domain}:Type=Server:Handler_read_key"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Next Rows Read in Key Order"
            alias="HandlerReadNext"
            template="${domain}:Type=Server:Handler_read_next"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Prev Rows Read in Key Order"
            alias="HandlerReadPrev"
            template="${domain}:Type=Server:Handler_read_prev"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Rows Read from Fixed Position"
            alias="HandlerReadRnd"
            template="${domain}:Type=Server:Handler_read_rnd"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Next Rows Read from Datafile"
            alias="HandlerReadRndNext"
            template="${domain}:Type=Server:Handler_read_rnd_next"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Rows Updated"
            alias="HandlerUpdate"
            template="${domain}:Type=Server:Handler_update"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Number of Rows Inserted"
            alias="HandlerWrite"
            template="${domain}:Type=Server:Handler_write"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Key Blocks Used"
            alias="KeyBlocksUsed"
            template="${domain}:Type=Server:Key_blocks_used"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Key Read Requests"
            alias="KeyReadRequests"
            template="${domain}:Type=Server:Key_read_requests"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Key Reads"
            alias="KeyReads"
            template="${domain}:Type=Server:Key_reads"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Key Write Requests"
            alias="KeyWriteRequests"
            template="${domain}:Type=Server:Key_write_requests"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Key Writes"
            alias="KeyWrites"
            template="${domain}:Type=Server:Key_writes"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Max Used Connections"
            alias="MaxUsedConnections"
            template="${domain}:Type=Server:Max_used_connections"
            category="THROUGHPUT"
            group="Connection"
            units="none"
            collectionType="trendsup"/>

    <metric name="Not Flushed Key Blocks"
            alias="NotFlushedKeyBlocks"
            template="${domain}:Type=Server:Not_flushed_key_blocks"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Not Flushed Delayed Rows"
            alias="NotFlushedDelayedRows"
            template="${domain}:Type=Server:Not_flushed_delayed_rows"
            category="UTILIZATION"
            group="I/O"
            units="none"
            collectionType="trendsup"/>

    <metric name="Open Tables"
            alias="OpenTables"
            template="${domain}:Type=Server:Open_tables"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open Files"
            alias="OpenFiles"
            template="${domain}:Type=Server:Open_files"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open Streams"
            alias="OpenStreams"
            template="${domain}:Type=Server:Open_streams"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="dynamic"/>

    <metric name="Opened Tables"
            alias="OpenedTables"
            template="${domain}:Type=Server:Opened_tables"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Questions"
            alias="Questions"
            template="${domain}:Type=Server:Questions"
            category="THROUGHPUT"
            group="Connection"
            indicator="true"
            units="none"
            collectionType="trendsup"/>

    <metric name="Select Full Join"
            alias="SelectFullJoin"
            template="${domain}:Type=Server:Select_full_join"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Select Full Range Join"
            alias="SelectFullRangeJoin"
            template="${domain}:Type=Server:Select_full_range_join"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Select Range"
            alias="SelectRange"
            template="${domain}:Type=Server:Select_range"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Select Range Check"
            alias="SelectRangeCheck"
            template="${domain}:Type=Server:Select_range_check"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Select Scan"
            alias="SelectScan"
            template="${domain}:Type=Server:Select_scan"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Slave Open Temp Tables"
            alias="SlaveOpenTempTables"
            template="${domain}:Type=Server:Slave_open_temp_tables"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Slow Launch Threads"
            alias="SlowLaunchThreads"
            template="${domain}:Type=Server:Slow_launch_threads"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Slow Queries"
            alias="SlowQueries"
            template="${domain}:Type=Server:Slow_queries"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Sort Merge Passes"
            alias="SortMergePasses"
            template="${domain}:Type=Server:Sort_merge_passes"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Sort Range"
            alias="SortRange"
            template="${domain}:Type=Server:Sort_range"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Sort Rows"
            alias="SortRows"
            template="${domain}:Type=Server:Sort_rows"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Table Locks Immediate"
            alias="TableLocksImmediate"
            template="${domain}:Type=Server:Table_locks_immediate"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Table Locks Waited"
            alias="TableLocksWaited"
            template="${domain}:Type=Server:Table_locks_waited"
            category="UTILIZATION"
            group="Query/Runtime"
            units="none"
            collectionType="trendsup"/>

    <metric name="Threads Cached"
            alias="ThreadsCached"
            template="${domain}:Type=Server:Threads_cached"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Threads Created"
            alias="ThreadsCreated"
            template="${domain}:Type=Server:Threads_created"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Threads Connected"
            alias="ThreadsConnected"
            template="${domain}:Type=Server:Threads_connected"
            category="UTILIZATION"
            group="Resource Utilization"
            indicator="true"
            units="none"
            collectionType="dynamic"/>

    <metric name="Threads Running"
            alias="ThreadsRunning"
            template="${domain}:Type=Server:Threads_running"
            category="UTILIZATION"
            group="Resource Utilization"
            units="none"
            collectionType="trendsup"/>

    <metric name="Up Time"
            alias="Uptime"
            template="${domain}:Type=Server:Uptime"
            category="AVAILABILITY"
            group="Reliability"
            units="sec"
            collectionType="static"/>
  </metrics>

  <metrics name="group-bugcount">

    <metric name="Availability"
            alias="Availability"
            template="${domain}:Type=Group,program=%program%,version=%version%:availability"
            category="AVAILABILITY"
            indicator="true"
            interval="1800000"
            units="percentage"
            collectionType="dynamic"/>

    <metric name="Open P1 Bugs"
            alias="OpenP1"
            template="${domain}:Type=Group,program=%program%,version=%version%:priority='P1' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            indicator="true"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P2 Bugs"
            alias="OpenP2"
            template="${domain}:Type=Group,program=%program%,version=%version%:priority='P2' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P3 Bugs"
            alias="OpenP3"
            template="${domain}:Type=Group,program=%program%,version=%version%:priority='P3' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P4 Bugs"
            alias="OpenP4"
            template="${domain}:Type=Group,program=%program%,version=%version%:priority='P4' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P5 Bugs"
            alias="OpenP5"
            template="${domain}:Type=Group,program=%program%,version=%version%:priority='P5' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Total Open Bugs"
            alias="Open"
            template="${domain}:Type=Group,program=%program%,version=%version%:bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Total Closed Bugs"
            alias="Closed"
            template="${domain}:Type=Group,program=%program%,version=%version%:bug_status in ('RESOLVED', 'VERIFIED', 'CLOSED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

  </metrics>

  <metrics name="owner-bugcount">

    <metric name="Availability"
            alias="Availability"
            template="${domain}:Type=Owner,userid=%userid%:availability"
            category="AVAILABILITY"
            indicator="true"
            interval="1800000"
            units="percentage"
            collectionType="dynamic"/>

    <metric name="Open P1 Bugs"
            alias="OpenP1"
            template="${domain}:Type=Owner,userid=%userid%:priority='P1' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            indicator="true"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P2 Bugs"
            alias="OpenP2"
            template="${domain}:Type=Owner,userid=%userid%:priority='P2' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P3 Bugs"
            alias="OpenP3"
            template="${domain}:Type=Owner,userid=%userid%:priority='P3' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P4 Bugs"
            alias="OpenP4"
            template="${domain}:Type=Owner,userid=%userid%:priority='P4' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Open P5 Bugs"
            alias="OpenP5"
            template="${domain}:Type=Owner,userid=%userid%:priority='P5' AND bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Total Open Bugs"
            alias="Open"
            template="${domain}:Type=Owner,userid=%userid%:bug_status in ('NEW', 'ASSIGNED', 'REOPENED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

    <metric name="Total Closed Bugs"
            alias="Closed"
            template="${domain}:Type=Owner,userid=%userid%:bug_status in ('RESOLVED', 'VERIFIED', 'CLOSED')"
            category="UTILIZATION"
            interval="1800000"
            units="none"
            collectionType="dynamic"/>

  </metrics>

  <server name="Bugzilla"
          description="Bugzilla Application Database"
          version="2.x">

    <plugin type="measurement"
            class="BugzillaMeasurementPlugin"/>

    <plugin type="autoinventory"
            class="BugzillaServiceDetector"/>

    <config type="measurement">
        <option name="jdbcUrl"
                description="JDBC URL"
                default="jdbc:mysql://localhost/bugs"/>

        <option name="jdbcUser"
                description="Database username"
                default="bugzilla"/>

        <option name="jdbcPassword"
                type="secret"
                description="Database password"/>
    </config>

    <metrics include="server"/>

    <service name="Group">
      <config>
        <option name="program"
                description="Project"/>
        <option name="version"
                description="Product Version"/>
      </config>

      <metrics include="group-bugcount"/>
    </service>

    <service name="Owner">
      <config>
        <option name="userid"
                description="USERID from Profiles Table"/>
      </config>

      <metrics include="owner-bugcount"/>
    </service>
  </server>

  <help name="Bugzilla">
  <![CDATA[
  <p>
  <h3>Configure Bugzilla ${product.version} for Monitoring</h3>
  </p>

  <p>
  The Bugzilla ${product.version} plugin monitors the Bugzilla MySQL
  database using standard JDBC queries.  The only prerequisites for
  enabling monitoring are:
  </p>
  <ul>
    <li>You can connect to the MySQL server as ${jdbcUser} using
        the JDBC URL ${jdbcUrl}, which is the Bugzilla tablespace</li>
    <li>The user ${jdbcUser} is able to issue 'SHOW STATUS' commands
        to MySQL</li>
  </ul>
  ]]>
  </help>

  <help name="Bugzilla 2.x" include="Bugzilla"/>

</plugin>

