<?xml version="1.0" encoding="UTF-8"?>
<Covalent.DBSetup name="appdef-schema.xml" notice="DBSetup, Copyright (C) 2002, Covalent Technologies, Inc., All Rights Reserved.">

    <table name="EAM_CONFIG_RESPONSE">
        <column name="ID" default="sequence-only" initial="101"
                primarykey="true" required="true" type="INTEGER"/>
        <!-- maybe the product config should be required -->
        <column name="PRODUCT_RESPONSE" required="false" type="BYTES"/>
        <column name="CONTROL_RESPONSE" required="false" type="BYTES"/>
        <column name="MEASUREMENT_RESPONSE" required="false" type="BYTES"/>
        <column name="AUTOINVENTORY_RESPONSE" required="false" type="BYTES"/>
        <column name="RESPONSE_TIME_RESPONSE" required="false" type="BYTES"/>
        <column name="USERMANAGED" required="true" type="BOOLEAN"/>
        <column name="VALIDATIONERR" required="false" type="VARCHAR2" size="512"/>
        <index name="CRESP_VERR" unique="false">
            <field ref="VALIDATIONERR"/>
        </index>
    </table>

    <table name="EAM_AGENT_TYPE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="NAME" type="VARCHAR2" size="80"/>
        <column name="SORT_NAME" type="VARCHAR2" size="80"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
    </table>

    <table name="EAM_AGENT">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="ADDRESS" required="true" size="64" type="VARCHAR2"/>
        <column name="PORT" required="true" type="INTEGER"/>
        <column name="AUTHTOKEN"  required="true" size="100" type="VARCHAR2"/>
        <column name="AGENTTOKEN" required="true" size="100" type="VARCHAR2"/>
        <column name="VERSION" size="20" type="VARCHAR2"/>
        <column name="AGENT_TYPE_ID" type="INTEGER"
            references="EAM_AGENT_TYPE" required="false"/> 
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>

        <index name="AGENT_ADDRESS_PORT" unique="true">
            <field ref="ADDRESS"/>
            <field ref="PORT"/>
        </index>

        <index name="AGENT_TOKEN_UNIQUE" unique="true">
            <field ref="AGENTTOKEN"/>
        </index>
    </table>

    <table name="EAM_APPLICATION_TYPE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="NAME" required="true" type="VARCHAR2" size="200"/>
        <column name="SORT_NAME" type="VARCHAR2" size="200"/>
        <column name="DESCRIPTION" required="false" type="VARCHAR2" 
                size="200"/>
        <column name="CID" type="INTEGER"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
    </table>

    <table name="EAM_PLATFORM_TYPE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="OS" size="80" type="VARCHAR2"/>
        <column name="OSVERSION" size="80" type="VARCHAR2"/>
        <column name="ARCH" size="80" type="VARCHAR2"/>
        <column name="NAME" size="80" type="VARCHAR2"/>
        <column name="SORT_NAME" size="80" type="VARCHAR2"/>
        <column name="DESCRIPTION" size="256" type="VARCHAR2"/>
        <column name="PLUGIN" required="false" size="250" type="VARCHAR2"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
    </table>

    <table name="EAM_PLATFORM">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="NAME" required="true" size="100" type="VARCHAR2"/>
        <column name="SORT_NAME" size="100" type="VARCHAR2"/>
        <column name="CERTDN" required="false" size="200" type="VARCHAR2"/>
        <column name="FQDN" required="true" size="200" type="VARCHAR2"/>
        <column name="PLATFORM_TYPE_ID" type="INTEGER"
            references="EAM_PLATFORM_TYPE" required="false"/> 
        <column name="DESCRIPTION" size="256" type="VARCHAR2"/>
        <column name="COMMENT_TEXT" size="256" type="VARCHAR2"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="CONFIG_RESPONSE_ID" required="false" type="INTEGER"
                references="EAM_CONFIG_RESPONSE"/>
        <column name="AGENT_ID" required="false" type="INTEGER"
                references="EAM_AGENT"/>
        <column name="MODIFIED_BY" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="OWNER" required="false" size="100" type="VARCHAR2"/>
        <column name="LOCATION" required="false" size="100" type="VARCHAR2"/>
        <column name="CPU_COUNT" required="false" type="INTEGER"/>
        <index name="EAM_PLATFORM_NAME" unique="true">
            <field ref="NAME"/>
        </index>

        <index name="EAM_PLATFORM_FQDN" unique="true">
            <field ref="FQDN" />
        </index>
    </table>

    <table name="EAM_IP">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="PLATFORM_ID" type="INTEGER" 
            references="EAM_PLATFORM" required="false"/>
        <column name="ADDRESS" required="true" size="64" type="VARCHAR2"/>
        <column name="NETMASK" required="false" size="64" type="VARCHAR2"/>
        <column name="MAC_ADDRESS" size="64" type="VARCHAR2" />
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="CID" type="INTEGER"/>

        <index name="EAM_IP_IDX" unique="true">
            <field ref="PLATFORM_ID"/>
            <field ref="ADDRESS"/>
        </index>
                                                        
    </table>

    <table name="EAM_SERVER_TYPE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="NAME" type="VARCHAR2" size="200"/>
        <column name="SORT_NAME" type="VARCHAR2" size="200"/>
        <column name="DESCRIPTION" type="VARCHAR2" size="200"/>
        <column name="PLUGIN" required="false" size="250" type="VARCHAR2"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="FVIRTUAL" type="BOOLEAN"/>
        <index name="EAM_SERVER_TYPE_NAME_IDX" unique="true">
            <field ref="NAME"/>
        </index>
        <index name="EAM_SERVER_TYPE_PLUGIN_IDX" unique="false">
            <field ref="PLUGIN"/>
        </index>
    </table>

    <table name="EAM_PLATFORM_SERVER_TYPE_MAP">
        <column name="PLATFORM_TYPE_ID" type="INTEGER"
            references="EAM_PLATFORM_TYPE" required="false" /> 
        <column name="SERVER_TYPE_ID" type="INTEGER"
            references="EAM_SERVER_TYPE" required="false"/>
    </table>

    <table name="EAM_TIER_TYPE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="NAME" type="VARCHAR2" size="200"/>
        <column name="DESCRIPTION" type="VARCHAR2" size="200"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
    </table> 

    <table name="EAM_SERVICE_TYPE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="SERVER_TYPE_ID" type="INTEGER"
            references="EAM_SERVER_TYPE" required="false"/> 
        <column name="TIER_TYPE_ID"  type="INTEGER"
            references="EAM_TIER_TYPE" required="false"/>
        <column name="NAME" type="VARCHAR2" size="200"/>
        <column name="SORT_NAME" type="VARCHAR2" size="200"/>
        <column name="DESCRIPTION" type="VARCHAR2" size="200"/>
        <column name="PLUGIN" required="false" size="250" type="VARCHAR2"/>
        <column name="FINTERNAL" type="BOOLEAN"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <!-- Commenting out until we validate whether this is a problem 
             for measurement
        <index name="EAM_SERVICETYPE_UNIQUE_KEY" unique="true" >
            <field ref="SERVER_TYPE_ID" />
            <field ref="NAME" />
        </index>
        -->

    </table>

    <table name="EAM_SERVER">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="PLATFORM_ID" required="false" type="INTEGER"
            references="EAM_PLATFORM"/>
        <column name="NAME" required="true" size="200" type="VARCHAR2"/>
        <column name="SORT_NAME" size="200" type="VARCHAR2"/>
        <column name="DESCRIPTION" size="300" type="VARCHAR2"/>
        <column name="RUNTIMEAUTODISCOVERY" type="BOOLEAN"/>
        <column name="WASAUTODISCOVERED" type="BOOLEAN"/>
        <column name="SERVICESAUTOMANAGED" type="BOOLEAN"/>
        <column name="AUTODISCOVERY_ZOMBIE" type="BOOLEAN"/>
        <column name="SERVER_TYPE_ID" type="INTEGER"
            references="EAM_SERVER_TYPE" required="false"/> 
        <column name="INSTALLPATH" size="200" type="VARCHAR2"/>
        <column name="AUTOINVENTORYIDENTIFIER" size="250" type="VARCHAR2"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="MODIFIED_BY" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="OWNER" required="false" size="100" type="VARCHAR2"/>
        <column name="LOCATION" required="false" size="100" type="VARCHAR2"/>
        <column name="CONFIG_RESPONSE_ID" required="false" type="INTEGER"
                references="EAM_CONFIG_RESPONSE"/>
    
        <index name="EAM_SERVER_UNIQUE_KEY" unique="true" >
            <field ref="PLATFORM_ID" />
            <field ref="ID" />
        </index>
        <index name="EAM_SERVER_AIID_IDX" unique="true" >
            <field ref="PLATFORM_ID" />
            <field ref="AUTOINVENTORYIDENTIFIER" />
        </index>

        <index name="EAM_SERVER_NAME" unique="false">
            <field ref="NAME"/>
        </index>
        <index name="EAM_SERVER_idx_CTIME" unique="false">
            <field ref="CTIME"/>
        </index>
    </table>

    <table name="EAM_AIQ_PLATFORM">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="NAME" required="true" size="100" type="VARCHAR2"/>
        <column name="DESCRIPTION" size="300" type="VARCHAR2"/>
        <column name="OS" size="80" type="VARCHAR2"/>
        <column name="OSVERSION" size="80" type="VARCHAR2"/>
        <column name="ARCH" size="80" type="VARCHAR2"/>
        <column name="FQDN" required="true" size="200" type="VARCHAR2"/>
        <column name="AGENTTOKEN" required="true" size="100" type="VARCHAR2"/>
        <column name="CERTDN" required="false" size="200" type="VARCHAR2"/>

        <column name="QUEUESTATUS" type="INTEGER"/>
        <column name="DIFF" type="LONG"/>
        <column name="IGNORED" type="BOOLEAN"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="LASTAPPROVED" type="LONG"/>
        <column name="LOCATION" required="false" size="100" type="VARCHAR2"/>
        <column name="CPU_SPEED" required="false" type="INTEGER"/>
        <column name="CPU_COUNT" required="false" type="INTEGER"/>
        <column name="RAM" required="false" type="INTEGER"/>
        <column name="GATEWAY" required="false" size="64" type="VARCHAR2"/>
        <column name="DHCP_SERVER" required="false" size="64" type="VARCHAR2"/>
        <column name="DNS_SERVER" required="false" size="64" type="VARCHAR2"/>
        <column name="CUSTOM_PROPERTIES" type="BYTES"/>
        <column name="PRODUCT_CONFIG" required="false" type="BYTES"/>
        <column name="CONTROL_CONFIG" required="false" type="BYTES"/>
        <column name="MEASUREMENT_CONFIG" required="false" type="BYTES"/>

        <index name="AIQ_PLATFORM_NAME" unique="true">
            <field ref="NAME"/>
        </index>
        <index name="AIQ_PLATFORM_FQDN" unique="true">
            <field ref="FQDN" />
        </index>
        <index name="AIQ_PLATFORM_CERTDN" unique="true">
            <field ref="CERTDN"/>
        </index>
        <index name="AIQ_PLATFORM_AGENTTOKEN" unique="false">
            <field ref="AGENTTOKEN"/>
        </index>
    </table>

    <table name="EAM_AIQ_SERVER">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="AIQ_PLATFORM_ID" required="false" type="INTEGER"
            references="EAM_AIQ_PLATFORM"/>
        <column name="NAME" required="true" size="200" type="VARCHAR2"/>
        <column name="DESCRIPTION" size="300" type="VARCHAR2"/>
        <column name="ACTIVE" size="1" type="CHAR" default="t"/>
        <column name="SERVERTYPENAME" size="200" type="VARCHAR2" 
                required="true"/> 
        <column name="AUTOINVENTORYIDENTIFIER" size="200" type="VARCHAR2"/>
        <column name="INSTALLPATH" size="200" type="VARCHAR2"/>
        <column name="SERVICESAUTOMANAGED" type="BOOLEAN"/>

        <column name="CUSTOM_PROPERTIES" type="BYTES"/>
        <column name="PRODUCT_CONFIG" required="false" type="BYTES"/>
        <column name="CONTROL_CONFIG" required="false" type="BYTES"/>
        <column name="MEASUREMENT_CONFIG" required="false" type="BYTES"/>
        <column name="RESPONSETIME_CONFIG" required="false" type="BYTES"/>

        <column name="QUEUESTATUS" type="INTEGER"/>
        <column name="DIFF" type="LONG"/>
        <column name="IGNORED" type="BOOLEAN"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>

        <index name="AIQ_SERVER_UNIQUE_KEY" unique="true" >
            <field ref="AIQ_PLATFORM_ID" />
            <field ref="AUTOINVENTORYIDENTIFIER" />
        </index>
        <index name="AIQ_SERVER_NAME" unique="false">
            <field ref="NAME"/>
        </index>
    </table>

    <table name="EAM_AIQ_IP">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="AIQ_PLATFORM_ID" type="INTEGER" />
            references="AIQ_PLATFORM"/>
        <column name="ADDRESS" required="true" size="64" type="VARCHAR2"/>
        <column name="NETMASK" required="false" size="64" type="VARCHAR2"/>
        <column name="MAC_ADDRESS" size="64" type="VARCHAR2" />

        <column name="QUEUESTATUS" type="INTEGER"/>
        <column name="DIFF" type="LONG"/>
        <column name="IGNORED" type="BOOLEAN"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>

        <index name="AIQ_IP_IDX" unique="true">
            <field ref="AIQ_PLATFORM_ID"/>
            <field ref="ADDRESS"/>
        </index>
                                                        
    </table>

    <table name="EAM_AIQ_SERVICE">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="SERVER_ID" required="false" type="INTEGER"
				references="EAM_SERVER"/>
        <column name="NAME" required="true" size="200" type="VARCHAR2"/>
        <column name="DESCRIPTION" size="300" type="VARCHAR2"/>
        <column name="SERVICETYPENAME" size="200" type="VARCHAR2" 
                required="true"/> 

        <column name="QUEUESTATUS" type="INTEGER"/>
        <column name="DIFF" type="LONG"/>
        <column name="IGNORED" type="BOOLEAN"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>

        <column name="CUSTOM_PROPERTIES" type="BYTES"/>
        <column name="PRODUCT_CONFIG" required="false" type="BYTES"/>
        <column name="CONTROL_CONFIG" required="false" type="BYTES"/>
        <column name="MEASUREMENT_CONFIG" required="false" type="BYTES"/>
        <column name="RESPONSETIME_CONFIG" required="false" type="BYTES"/>

        <index name="AIQ_SERVICE_NAME" unique="false">
            <field ref="NAME"/>
        </index>
    </table>

    <table name="EAM_SVC_CLUSTER">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="SERVICE_TYPE_ID" type="INTEGER"
            references="EAM_SERVICE_TYPE" required="false"/>
        <column name="NAME" type="VARCHAR2" size="200"/>
        <column name="SORT_NAME" type="VARCHAR2" size="200"/>
        <column name="DESCRIPTION" type="VARCHAR2" size="200"/>
        <column name="GROUP_ID" type="INTEGER"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
    </table>    

    <table name="EAM_SERVICE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="SERVER_ID" required="false" type="INTEGER"
            references="EAM_SERVER"/>
        <column name="SERVICE_TYPE_ID" type="INTEGER"
            references="EAM_SERVICE_TYPE" required="false"/>
        <column name="SVC_CLUSTER_ID" type="INTEGER"
            references="EAM_SVC_CLUSTER" required="false"/>
        <column name="NAME" type="VARCHAR2" size="200"/>
        <column name="SORT_NAME" type="VARCHAR2" size="200"/>
        <column name="DESCRIPTION" type="VARCHAR2" size="200"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="MODIFIED_BY" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="LOCATION" required="false" size="100" type="VARCHAR2"/>
        <column name="OWNER" required="false" size="100" type="VARCHAR2"/>
        <column name="CONFIG_RESPONSE_ID" required="false" type="INTEGER"
                references="EAM_CONFIG_RESPONSE"/>
        <column name="PARENT_SERVICE_ID" required="false" type="INTEGER" />
        <column name="AUTODISCOVERY_ZOMBIE" type="BOOLEAN"/>
        <column name="SERVICE_RT" type="BOOLEAN"/>
        <column name="ENDUSER_RT" type="BOOLEAN"/>

        <index name="EAM_SERVICE_NAME" unique="false">
            <field ref="NAME"/>
        </index>

        <index name="EAM_SERVICE_PARENT" unique="true">
            <field ref="ID"/>
            <field ref="PARENT_SERVICE_ID"/>
        </index>
        <index name="EAM_SERVICE_idx_CTIME" unique="false">
            <field ref="CTIME"/>
        </index>
    </table>

    <table name="EAM_APP_TYPE_SERVICE_TYPE_MAP">
        <column name="APPLICATION_TYPE_ID" type="INTEGER"
            references="EAM_APPLICATION_TYPE" required="false"/>
        <column name="SERVICE_TYPE_ID" type="INTEGER"
            references="EAM_SERVICE_TYPE" required="false"/>
    </table>

    <table name="EAM_APPLICATION">
        <column name="ID" default="sequence-only" initial="10001" 
                primarykey="true" required="true" type="INTEGER"/>
        <column name="CID" type="INTEGER"/>
        <column name="NAME" required="true" size="200" type="VARCHAR2"/>
        <column name="SORT_NAME" size="200" type="VARCHAR2"/>
        <column name="APPLICATION_TYPE_ID" type="INTEGER"
            references="EAM_APPLICATION_TYPE" required="false"/>
        <column name="DESCRIPTION" size="500" type="VARCHAR2"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="MODIFIED_BY" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="OWNER" required="false" size="100" type="VARCHAR2"/>
        <column name="LOCATION" required="false" size="100" type="VARCHAR2"/>
        <column name="ENG_CONTACT" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="OPS_CONTACT" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="BUS_CONTACT" required="false" size="100" 
                type="VARCHAR2"/>

        <index name="EAM_APPLICATION_NAME_KEY" unique="true">
            <field ref="NAME" />
        </index>
    </table>

    <table name="EAM_APP_SERVICE">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="SERVICE_ID" type="INTEGER"
            references="EAM_SERVICE" required="false"/> 
        <column name="CLUSTER_ID" type="INTEGER"
            references="EAM_SVC_CLUSTER" required="false"/>
        <column name="ISCLUSTER" type="boolean" required="true" />
        <column name="APPLICATION_ID" type="INTEGER"
            references="EAM_APPLICATION" required="false"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
        <column name="MODIFIED_BY" required="false" size="100" 
                type="VARCHAR2"/>
        <column name="FENTRY_POINT" type="BOOLEAN"
            required="true" default="true"/>
        <column name="SERVICE_TYPE_ID" type="INTEGER"
            references="EAM_SERVICE_TYPE" required="false"/>

        <index name="EAM_APPSERVICE_KEY" unique="true">
            <field ref="SERVICE_ID" />
            <field ref="CLUSTER_ID" />
            <field ref="APPLICATION_ID" />
        </index>
    </table>

    <table name="EAM_SERVICE_DEP_MAP">
        <column name="ID" default="sequence-only" initial="10001"
            primarykey="true" required="true" type="INTEGER"/>
        <column name="APPSERVICE_ID" type="INTEGER"
            references="EAM_APP_SERVICE" required="false"/>
        <column name="DEPENDENT_SERVICE_ID" type="INTEGER"
            references="EAM_APP_SERVICE" required="false"/>
        <column name="CTIME" type="LONG"/>
        <column name="MTIME" type="LONG"/>
    </table>

    <!-- Custom properties -->
    <table name="EAM_CPROP_KEY">
        <column name="ID" default="sequence-only" initial="10001"
                primarykey="true"    required="true" type="INTEGER"/>
        <column name="APPDEF_TYPE"   required="true" type="INTEGER"/>
        <column name="APPDEF_TYPEID" required="true" type="INTEGER"/>
        <column name="PROPKEY"           required="true" type="VARCHAR2"
                size="100"/>
        <column name="DESCRIPTION"   required="true" type="VARCHAR2"
                size="200"/>

        <index name="EAM_CPROP_KEY_UNIQUE" unique="true">
            <field ref="APPDEF_TYPE"/>
            <field ref="APPDEF_TYPEID"/>
            <field ref="PROPKEY"/>
        </index>
    </table>

    <table name="EAM_CPROP">
        <column name="ID" default="autoincrement" initial="10001"
                primarykey="true" required="true" type="INTEGER"/>
        <column name="KEYID"       required="true" type="INTEGER"/>
        <column name="APPDEF_ID"   required="true" type="INTEGER"/>
        <column name="VALUE_IDX"   required="true" type="INTEGER"/>
        <column name="PROPVALUE"       required="true" type="VARCHAR2" 
                size="1000"/>

        <index name="EAM_CPROP_UNIQUE" unique="true">
            <field ref="KEYID"/>
            <field ref="APPDEF_ID"/>
            <field ref="VALUE_IDX"/>
        </index>
    </table>

    <table name="EAM_VIRTUAL">
        <column name="RESOURCE_ID"
                primarykey="true" required="true" type="INTEGER"/>
        <column name="PROCESS_ID" required="true" type="INTEGER"/>
        <column name="PHYSICAL_ID" required="false" type="INTEGER"/>
    </table>

    <view name="EAM_VIRT_PLAT_VIEW">
        <query>
        SELECT 
          p.*, v.RESOURCE_ID, PROCESS_ID, PHYSICAL_ID
        FROM 
           EAM_PLATFORM p, EAM_RESOURCE r, EAM_RESOURCE_TYPE rt,
           EAM_VIRTUAL v
        WHERE rt.name = 'covalentEAMPlatform' AND
              r.resource_type_id = rt.id AND
              r.instance_id = p.id AND
              r.id = v.resource_id
        </query>
    </view>

    <view name="EAM_VIRT_SVR_VIEW">
        <query>
        SELECT 
          s.*, v.RESOURCE_ID, PROCESS_ID, PHYSICAL_ID
        FROM 
           EAM_SERVER s, EAM_RESOURCE r, EAM_RESOURCE_TYPE rt,
           EAM_VIRTUAL v
        WHERE rt.name = 'covalentEAMServer' AND
              r.resource_type_id = rt.id AND
              r.instance_id = s.id AND
              r.id = v.resource_id
        </query>
    </view>

    <view name="EAM_VIRT_SVC_VIEW">
        <query>
        SELECT 
          s.*, v.RESOURCE_ID, PROCESS_ID, PHYSICAL_ID
        FROM 
           EAM_SERVICE s, EAM_RESOURCE r, EAM_RESOURCE_TYPE rt,
           EAM_VIRTUAL v
        WHERE rt.name = 'covalentEAMService' AND
              r.resource_type_id = rt.id AND
              r.instance_id = s.id AND
              r.id = v.resource_id
        </query>
    </view>
</Covalent.DBSetup>
