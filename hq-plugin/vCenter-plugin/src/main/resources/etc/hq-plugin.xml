<!DOCTYPE plugin [
  <!ENTITY process-metrics SYSTEM "/pdk/plugins/process-metrics.xml">
]>

<plugin name="vCenter"  package="org.hyperic.plugin.vcenter">
    <property name="PLUGIN_VERSION" value="@project.version@"/>
    
    <!-- vCenter_Auto_Deploy-plugin -->
    <server name="vSphere Auto Deploy" version="Linux" platforms="Linux">
        <property name="PROC_QUERY"
                  value="State.Name.sw=rbd-server"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Auto Deploy"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <!--notifies the plugin to auto-discover one instance of each service-->
        <property name="HAS_BUILTIN_SERVICES"
                  value="true"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere Auto Deploy"/>

        <metric name="Availability"
                template="HTTP:hostname=localhost,port=6502,ssl=true,path=/vmw/rbd/health-info,method=GET,follow=true,pattern=green:Availability"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Time"
                template="HTTP:hostname=localhost,port=6502,ssl=true,path=/vmw/rbd/health-info,method=GET,follow=true,pattern=green:ResponseTime"
                category="PERFORMANCE"
                units="ms"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Code"
                template="HTTP:hostname=localhost,port=6502,ssl=true,path=/vmw/rbd/health-info,method=GET,follow=true,pattern=green:ResponseCode"
                category="PERFORMANCE"
                units="none"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Process Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="UTILIZATION"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;

        <service name="vSphere Auto Deploy CGI">
            <property name="PROC_QUERY"
                      value="State.Name.sw=rbd-cgi"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Auto Deploy CGI"/>
            </config>

            <plugin type="autoinventory"
                class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Auto Deploy CGI"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="AVAILABILITY"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>

        <service name="vSphere Auto Deploy Cached">
            <property name="PROC_QUERY"
                      value="State.Name.sw=rbd-cached"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Auto Deploy Cached"/>
            </config>

            <plugin type="autoinventory"
                class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Auto Deploy Cached"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="AVAILABILITY"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>

        <service name="vSphere Auto Deploy Watchdog">
            <property name="PROC_QUERY"
                      value="State.Name.eq=rbd-watchdog-li"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Auto Deploy Watchdog"/>
            </config>

            <plugin type="autoinventory"
                class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Auto Deploy Watchdog"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="AVAILABILITY"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>

        <service name="vSphere Auto Deploy vC Monitor">
            <property name="PROC_QUERY"
                      value="State.Name.sw=rbd-vc-monitor"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Auto Deploy vC Monitor"/>
            </config>

            <plugin type="autoinventory"
                class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Profile-Driven Storage"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="AVAILABILITY"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>

        <service name="vSphere Auto Deploy Feedback">
            <property name="PROC_QUERY"
                      value="State.Name.sw=rbd-feedback"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Auto Deploy Feedback"/>
            </config>

            <plugin type="autoinventory"
                class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Auto Deploy Feedback"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="AVAILABILITY"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>

        <service name="vSphere Auto Deploy Apache">
            <property name="PROC_QUERY"
                      value="State.Name.eq=httpd2,State.Name.Pne=httpd2,Args.*.ct=vmware-rbd"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Auto Deploy Apache"/>
            </config>

            <plugin type="autoinventory"
                class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Auto Deploy Apache"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="AVAILABILITY"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>
    </server>

    <server name="vSphere Auto Deploy" version="Windows" platforms="Win32">
        <property name="PROC_QUERY"
                  value="Pid.Service.eq=vmware-autodeploy-waiter"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Auto Deploy"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere Auto Deploy"/>

        <metric name="Availability"
                template="HTTP:hostname=localhost,port=6502,ssl=true,path=/vmw/rbd/health-info,method=GET,follow=true,pattern=green:Availability"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Time"
                template="HTTP:hostname=localhost,port=6502,ssl=true,path=/vmw/rbd/health-info,method=GET,follow=true,pattern=green:ResponseTime"
                category="PERFORMANCE"
                units="ms"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Code"
                template="HTTP:hostname=localhost,port=6502,ssl=true,path=/vmw/rbd/health-info,method=GET,follow=true,pattern=green:ResponseCode"
                category="PERFORMANCE"
                units="none"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Process Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="UTILIZATION"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>
    
    <!-- vCenter_Inventory-plugin -->
	<server name="vCenter Inventory Service">
		<property name="PROC_QUERY"
			value="State.Name.re=(java|vmware-invsvc),Args.*.re=(Inventory Service|vmware-invsvc-gc|com.vmware.vim.dataservices)"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for vCenter Inventory Service"/>
		</config>

		<plugin type="autoinventory"
                class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<!--notifies the plugin to auto-discover one instance of each service-->
		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% vCenter Inventory Service"/>

		<property name="INVENTORY_ID"
			value="%installpath%-Inventory"/>
			
		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<!--
		<metric name="URL Availability"
			template="HTTP:hostname=localhost,port=10080,ssl=true,path=/health,method=GET,follow=true,pattern=green:Availability"
			category="UTILIZATION"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Time"
			template="HTTP:hostname=localhost,port=10080,ssl=true,path=/health,method=GET,follow=true,pattern=green:ResponseTime"
			category="PERFORMANCE"
			units="ms"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Code"
			template="HTTP:hostname=localhost,port=10080,ssl=true,path=/health,method=GET,follow=true,pattern=green:ResponseCode"
			category="PERFORMANCE"
			units="none"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

        <metric name="Process Availability"
            template="sigar:Type=ProcState,Arg=%process.query%:State"
            category="UTILIZATION"
            units="percentage"
            indicator="true"
            collectionType="dynamic"
            defaultOn="true"
            interval="300000"/>
        -->

		&process-metrics;
    </server>
    
    <!-- vCenter_Netdump-plugin -->
    <server name="vSphere Network Dump Collector">
        <property name="PROC_QUERY"
                  value="State.Name.re=(vmware-netdumpe|netdumper$),State.Name.Pne=$1,Args.*.re=(netdumper.log|netdump-setup.xml|netdumps|vmconfig-netdump.xml)"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Network Dump Collector"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere Network Dump Collector"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-netdumper"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="vSphere Network Dump Collector WebServer">
        <property name="PROC_QUERY"
                  value="State.Name.re=(vmware-netdumpe|netdumper-webserver),Args.*.ct=webserver"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Network Dump Collector WebServer"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere Network Dump Collector WebServer"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-netdumpweb"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>
    
    <!-- vCenter_Server-plugin -->
	<server name="vCenter Server">
		<property name="PROC_QUERY"
			 value="State.Name.eq=vpxd"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for vCenter Server"/>
		</config>

		<plugin type="autoinventory"
                class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<!--notifies the plugin to auto-discover one instance of each service-->
		<property name="HAS_BUILTIN_SERVICES"
			value="true"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% vCenter Server"/>

		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		&process-metrics;

		<service name="vSphere Managed Object Browser">
			<plugin type="measurement"
				class="org.hyperic.hq.product.MeasurementPlugin"/>

			<metric name="Availability"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/mob,method=GET,follow=true:Availability"
				category="AVAILABILITY"
				units="percentage"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Time"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/mob,method=GET,follow=true:ResponseTime"
				category="PERFORMANCE"
				units="ms"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Code"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/mob,method=GET,follow=true:ResponseCode"
				category="PERFORMANCE"
				units="none"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>
		</service>
	</server>

	<server name="vCenter Management WebServices">
		<property name="PROC_QUERY"
			value="State.Name.eq=java,Args.*.re=(VMware\\VMware VirtualCenter\\Logs|vmware-vpx/tomcat)"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for vCenter Management WebServices"/>
		</config>

		<plugin type="autoinventory"
                class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<!--notifies the plugin to auto-discover one instance of each service-->
		<property name="HAS_BUILTIN_SERVICES"
			value="true"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% vCenter Management WebServices"/>

		<property name="INVENTORY_ID"
			value="%installpath%-WebService"/>

		<metric name="Availability"
			template="HTTP:hostname=localhost,port=443,ssl=true,path=/sdk/vimService.wsdl,method=GET,follow=true:Availability"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Time"
			template="HTTP:hostname=localhost,port=443,ssl=true,path=/sdk/vimService.wsdl,method=GET,follow=true:ResponseTime"
			category="PERFORMANCE"
			units="ms"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Code"
			template="HTTP:hostname=localhost,port=443,ssl=true,path=/sdk/vimService.wsdl,method=GET,follow=true:ResponseCode"
			category="PERFORMANCE"
			units="none"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Process Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="UTILIZATION"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		&process-metrics;

		<service name="vSphere ESX Agent Manager">
			<plugin type="measurement"
				class="org.hyperic.hq.product.MeasurementPlugin"/>

			<metric name="Availability"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/eam/eamService-web/health.xml,method=GET,follow=true:Availability"
				category="AVAILABILITY"
				units="percentage"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Time"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/eam/eamService-web/health.xml,method=GET,follow=true:ResponseTime"
				category="PERFORMANCE"
				units="ms"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Code"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/eam/eamService-web/health.xml,method=GET,follow=true:ResponseCode"
				category="PERFORMANCE"
				units="none"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>
		</service>

		<service name="vCenter Service Manager">
			<plugin type="measurement"
				class="org.hyperic.hq.product.MeasurementPlugin"/>

			<metric name="Availability"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/vsm/health.xml,method=GET,follow=true:Availability"
				category="AVAILABILITY"
				units="percentage"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Time"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/vsm/health.xml,method=GET,follow=true:ResponseTime"
				category="PERFORMANCE"
				units="ms"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Code"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/vsm/health.xml,method=GET,follow=true:ResponseCode"
				category="PERFORMANCE"
				units="none"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>
		</service>

		<service name="vCenter Licensing Service">
			<plugin type="measurement"
				class="org.hyperic.hq.product.MeasurementPlugin"/>

			<metric name="Availability"
				template="HTTP:hostname=localhost,port=8443,ssl=true,path=/ls/health,method=GET,follow=true:Availability"
				category="AVAILABILITY"
				units="percentage"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Time"
				template="HTTP:hostname=localhost,port=8443,ssl=true,path=/ls/health,method=GET,follow=true:ResponseTime"
				category="PERFORMANCE"
				units="ms"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Code"
				template="HTTP:hostname=localhost,port=8443,ssl=true,path=/ls/health,method=GET,follow=true:ResponseCode"
				category="PERFORMANCE"
				units="none"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>
		</service>

		<service name="vCenter Storage Monitoring Service">
			<plugin type="measurement"
				class="org.hyperic.hq.product.MeasurementPlugin"/>

			<metric name="Availability"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/sms/health.xml,method=GET,follow=true:Availability"
				category="AVAILABILITY"
				units="percentage"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Time"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/sms/health.xml,method=GET,follow=true:ResponseTime"
				category="PERFORMANCE"
				units="ms"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			<metric name="Response Code"
				template="HTTP:hostname=localhost,port=443,ssl=true,path=/sms/health.xml,method=GET,follow=true:ResponseCode"
				category="PERFORMANCE"
				units="none"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>
		</service>

	</server>

	<server name="vSphere Profile-Driven Storage">
		<property name="PROC_QUERY"
			value="State.Name.re=(java|vmware-sps),Args.*.ct=sps-spring-config.xml"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for vSphere Profile-Driven Storage"/>
		</config>

		<plugin type="autoinventory"
                class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% vSphere Profile-Driven Storage"/>

		<property name="INVENTORY_ID"
			value="%installpath%-SPS"/>

		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<!--
		<metric name="Availability"
			template="HTTP:hostname=localhost,port=443,ssl=true,path=/sps/health.xml,method=GET,follow=true:Availability"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Time"
			template="HTTP:hostname=localhost,port=443,ssl=true,path=/sps/health.xml,method=GET,follow=true:ResponseTime"
			category="PERFORMANCE"
			units="ms"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Code"
			template="HTTP:hostname=localhost,port=443,ssl=true,path=/sps/health.xml,method=GET,follow=true:ResponseCode"
			category="PERFORMANCE"
			units="none"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

        <metric name="Process Availability"
            template="sigar:Type=ProcState,Arg=%process.query%:State"
            category="UTILIZATION"
            units="percentage"
            indicator="true"
            collectionType="dynamic"
            defaultOn="true"
            interval="300000"/>
        -->

		&process-metrics;
    </server>

    <!-- vCenter ADAM Directory applies only to version 5.x win32 -->	
    <server name="vCenter ADAM Directory" platforms="Win32">
        <property name="PROC_QUERY"
                  value="Pid.Service.eq=ADAM_VMwareVCMSDS"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vCenter ADAM Directory"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vCenter ADAM Directory"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-ADAM"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Component Manager Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-cm),Args.*.ct=vmware-cm"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Component Manager"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Component Manager"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-cm"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware vCenter License Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-cis-lice),Args.*.ct=cis-license"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vCenter License Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware vCenter License Service"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-cis-license"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Message Bus Config Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-mbcs),Args.*.ct=vmware-mbcs"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Message Bus Config Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Message Bus Config Service"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-mbcs"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Performance Charts Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-perfchar),Args.*.ct=vmware-perfchar"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Performance Charts Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Performance Charts Service"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-perfcharts"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Reverse Proxy Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.sw=rhttpproxy,Args.*.re=[vV][mM]ware.*rhttpproxy"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Reverse Proxy Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Reverse Proxy Service"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Server Health Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(vwswrapper|vmware-vws)"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Server Health Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Server Health Service"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Service Control Agent Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-sca),Args.*.ct=vmware-sca"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Service Control Agent Server"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Service Control Agent"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-sca"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware vAPI Endpoint Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vapi-en),Args.*.re=vapi.*endpoint"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware vAPI Endpoint Service Server"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware vAPI Endpoint Service"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-vapi"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware vCenter Configuration Service Server" platforms="Win32">
        <property name="PROC_QUERY"
                  value="Pid.Service.eq=vmware-cis-config"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware vCenter Configuration Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware vCenter Configuration Service"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware vCenter Workflow Agent Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-vpx-work),Args.*.ct=vmware-vpx-work"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware vCenter Workflow Agent"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware vCenter Workflow Agent"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-workflow"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware Virtual Datacenter Service Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-vdcs),Args.*.ct=vmware-vdcs"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware Virtual Datacenter Service"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware Virtual Datacenter Service"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-vdcs"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware vService Manager Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(vmware-vsm|java),Args.*.ct=vsm"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware vService Manager Server"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware vService Manager"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-vsm"/>

        <metric name="Availability"
                template="HTTP:hostname=localhost,port=443,ssl=true,path=/vsm/health.xml,method=GET,follow=true:Availability"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Time"
                template="HTTP:hostname=localhost,port=443,ssl=true,path=/vsm/health.xml,method=GET,follow=true:ResponseTime"
                category="PERFORMANCE"
                units="ms"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Code"
                template="HTTP:hostname=localhost,port=443,ssl=true,path=/vsm/health.xml,method=GET,follow=true:ResponseCode"
                category="PERFORMANCE"
                units="none"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Process Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="UTILIZATION"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <server name="VMware ESX Agent Manager Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vmware-eam),Args.*.ct=vmware-eam"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for VMware ESX Agent Manager"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% VMware ESX Agent Manager"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-eam"/>

        <metric name="Availability"
                template="HTTP:hostname=localhost,port=443,ssl=true,path=/eam/eamService-web/health.xml,method=GET,follow=true:Availability"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Time"
                template="HTTP:hostname=localhost,port=443,ssl=true,path=/eam/eamService-web/health.xml,method=GET,follow=true:ResponseTime"
                category="PERFORMANCE"
                units="ms"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Code"
                template="HTTP:hostname=localhost,port=443,ssl=true,path=/eam/eamService-web/health.xml,method=GET,follow=true:ResponseCode"
                category="PERFORMANCE"
                units="none"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Process Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="UTILIZATION"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>
    
    <!-- vCenter_Syslog_Collector-plugin -->
	<server name="VMware Syslog Collector" platforms="Win32">
		<property name="PROC_QUERY"
			value="Pid.Service.re=(vmware-syslog-collector|vmSyslogCollector)"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for VMware Syslog Collector"/>
		</config>

		<plugin type="autoinventory"
			class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% VMware Syslog Collector"/>

		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		&process-metrics;
	</server>

	<server name="VMware Common Logging Service">
		<property name="PROC_QUERY"
			value="State.Name.sw=vmware-syslog-h"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for VMware Common Logging Service"/>
		</config>

		<plugin type="autoinventory"
			class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<!--notifies the plugin to auto-discover one instance of each service-->
		<property name="HAS_BUILTIN_SERVICES"
			value="true"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% VMware Common Logging Service"/>

		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		&process-metrics;

		<service name="VMware Common Logging Service Watchdog">
			<property name="PROC_QUERY"
				value="State.Name.eq=vmware-watchdog,Args.*.eq=syslog"/>

			<config>
				<option name="process.query"
					default="${PROC_QUERY}"
					description="PTQL for VMware Common Logging Service Watchdog"/>
			</config>

			<plugin type="autoinventory"/>

			<plugin type="measurement"
				class="org.hyperic.hq.product.MeasurementPlugin"/>

			<property name="AUTOINVENTORY_NAME"
				value="VMware Common Logging Service Watchdog"/>

			<metric name="Availability"
				template="sigar:Type=ProcState,Arg=%process.query%:State"
				category="AVAILABILITY"
				units="percentage"
				indicator="true"
				collectionType="dynamic"
				defaultOn="true"
				interval="300000"/>

			&process-metrics;
		</service>
	</server>

	<server name="VMware Common Logging Service rsyslogd">
		<property name="PROC_QUERY"
			value="State.Name.sw=vmware-syslog-h"/>

		<config>
			<option name="process.query"
				default="State.Name.eq=rsyslogd"
				description="PTQL for VMware Common Logging Service rsyslogd"/>
		</config>

		<plugin type="autoinventory"
			class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% VMware Common Logging Service rsyslogd"/>

		<property name="INVENTORY_ID"
			value="%installpath%-vmware"/>
			
		<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		&process-metrics;
	</server>
    
    <!-- vCenter_VUM-plugin -->
	<server name="vSphere Update Manager Service">
		<property name="PROC_QUERY"
			value="Pid.Service.eq=vmware-ufad-vci"/>

		<config>
			<option name="process.query"
				default="${PROC_QUERY}"
				description="PTQL for vSphere Update Manager Service"/>
		</config>

		<plugin type="autoinventory"
			class="Discovery"/>

		<plugin type="measurement"
			class="org.hyperic.hq.product.MeasurementPlugin"/>

		<!--notifies the plugin to auto-discover one instance of each service-->
		<property name="HAS_BUILTIN_SERVICES"
			value="true"/>

		<property name="AUTOINVENTORY_NAME"
			value="%platform.name% vSphere Update Manager Service"/>

    	<metric name="Availability"
			template="sigar:Type=ProcState,Arg=%process.query%:State"
			category="AVAILABILITY"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<!--
		<metric name="URL Availability"
			template="HTTP:hostname=localhost,port=9084,ssl=true,path=/vci/downloads/health.xml,method=GET,follow=true,pattern=green:Availability"
			category="UTILIZATION"
			units="percentage"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Time"
			template="HTTP:hostname=localhost,port=9084,ssl=true,path=/vci/downloads/health.xml,method=GET,follow=true,pattern=green:ResponseTime"
			category="PERFORMANCE"
			units="ms"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

		<metric name="Response Code"
			template="HTTP:hostname=localhost,port=9084,ssl=true,path=/vci/downloads/health.xml,method=GET,follow=true,pattern=green:ResponseCode"
			category="PERFORMANCE"
			units="none"
			indicator="true"
			collectionType="dynamic"
			defaultOn="true"
			interval="300000"/>

        <metric name="Process Availability"
            template="sigar:Type=ProcState,Arg=%process.query%:State"
            category="UTILIZATION"
            units="percentage"
            indicator="true"
            collectionType="dynamic"
            defaultOn="true"
            interval="300000"/>
        -->

		&process-metrics;

        <service name="vSphere Update Manager UFA Service">
            <property name="PROC_QUERY"
                      value="Pid.Service.eq=vmware-vum-ufa"/>

            <config>
                <option name="process.query"
                        default="${PROC_QUERY}"
                        description="PTQL for vSphere Update Manager UFA Service"/>
            </config>

            <plugin type="autoinventory"
                    class="Discovery"/>

            <plugin type="measurement"
                    class="org.hyperic.hq.product.MeasurementPlugin"/>

            <property name="AUTOINVENTORY_NAME"
                      value="vSphere Update Manager UFA Service"/>

            <metric name="Availability"
                    template="sigar:Type=ProcState,Arg=%process.query%:State"
                    category="PERFORMANCE"
                    units="percentage"
                    indicator="true"
                    collectionType="dynamic"
                    defaultOn="true"
                    interval="300000"/>

			&process-metrics;
        </service>
    </server>
    
    <!-- vCenter_Web_Client-plugin -->
    <server name="vSphere Web Client Server">
        <property name="PROC_QUERY"
                  value="State.Name.re=(java|vsphere-client),Args.*.re=(vmware-vsphere-client|vSphere.*Web.*Client|vsphere-client-gc)"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Web Client Server"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere Web Client Server"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-WebClient"/>

        <metric name="Availability"
                template="HTTP:hostname=localhost,port=9443,ssl=true,path=/vsphere-client,method=GET,follow=true:Availability"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Time"
                template="HTTP:hostname=localhost,port=9443,ssl=true,path=/vsphere-client,method=GET,follow=true:ResponseTime"
                category="PERFORMANCE"
                units="ms"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Response Code"
                template="HTTP:hostname=localhost,port=9443,ssl=true,path=/vsphere-client,method=GET,follow=true:ResponseCode"
                category="PERFORMANCE"
                units="none"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

        <metric name="Process Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="UTILIZATION"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>

    <!-- For vCenter Server 5.5 only -->
    <server name="vSphere Web Client Server WebSocket">
        <property name="PROC_QUERY"
                  value="State.Name.eq=java,Args.*.ct=jetty.port=7331,Args.*.ct=websocket"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Web Client Server WebSocket"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere Web Client Server WebSocket"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-websocket"/>
			
        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>
	
    <!-- For vCenter Server 5.x only -->
    <server name="vSphere LogBrowser">
        <property name="PROC_QUERY"
                  value="State.Name.eq=java,Args.*.re=vmware.*logbrowser"/>

        <config>
            <option name="process.query"
                    default="${PROC_QUERY}"
                    description="PTQL for vSphere Log Browser"/>
        </config>

        <plugin type="autoinventory"
                class="Discovery"/>

        <plugin type="measurement"
                class="org.hyperic.hq.product.MeasurementPlugin"/>

        <property name="AUTOINVENTORY_NAME"
                  value="%platform.name% vSphere LogBrowser"/>

        <property name="INVENTORY_ID"
                  value="%installpath%-Log"/>

        <metric name="Availability"
                template="sigar:Type=ProcState,Arg=%process.query%:State"
                category="AVAILABILITY"
                units="percentage"
                indicator="true"
                collectionType="dynamic"
                defaultOn="true"
                interval="300000"/>

		&process-metrics;
    </server>
</plugin>
